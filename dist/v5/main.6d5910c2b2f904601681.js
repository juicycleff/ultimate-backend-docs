(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+tJ4":function(l,n,e){"use strict";e.d(n,"a",function(){return u});var u=function(l){return function(n){for(var e=0,u=l.length;e<u&&!n.closed;e++)n.next(l[e]);n.closed||n.complete()}}},"+umK":function(l,n,e){"use strict";function u(){}e.d(n,"a",function(){return u})},"/WYv":function(l,n,e){"use strict";function u(l){return!!l&&"function"!=typeof l.subscribe&&"function"==typeof l.then}e.d(n,"a",function(){return u})},0:function(l,n,e){l.exports=e("zUnb")},"0/uQ":function(l,n,e){"use strict";var u=e("6blF"),t=e("/WYv"),r=e("2ePl"),o=e("xTla"),a=e("En8+"),i=e("IUTb"),s=e("pugT"),c=e("S5XQ"),p=e("u67D"),d=e("JcRv"),h=e("Fxb1");function f(l,n){if(!n)return l instanceof u.a?l:new u.a(Object(h.a)(l));if(null!=l){if(function(l){return l&&"function"==typeof l[o.a]}(l))return function(l,n){return new u.a(n?function(e){var u=new s.a;return u.add(n.schedule(function(){var t=l[o.a]();u.add(t.subscribe({next:function(l){u.add(n.schedule(function(){return e.next(l)}))},error:function(l){u.add(n.schedule(function(){return e.error(l)}))},complete:function(){u.add(n.schedule(function(){return e.complete()}))}}))})),u}:Object(d.a)(l))}(l,n);if(Object(t.a)(l))return function(l,n){return new u.a(n?function(e){var u=new s.a;return u.add(n.schedule(function(){return l.then(function(l){u.add(n.schedule(function(){e.next(l),u.add(n.schedule(function(){return e.complete()}))}))},function(l){u.add(n.schedule(function(){return e.error(l)}))})})),u}:Object(c.a)(l))}(l,n);if(Object(r.a)(l))return Object(i.a)(l,n);if(function(l){return l&&"function"==typeof l[a.a]}(l)||"string"==typeof l)return function(l,n){if(!l)throw new Error("Iterable cannot be null");return new u.a(n?function(e){var u,t=new s.a;return t.add(function(){u&&"function"==typeof u.return&&u.return()}),t.add(n.schedule(function(){u=l[a.a](),t.add(n.schedule(function(){if(!e.closed){var l,n;try{var t=u.next();l=t.value,n=t.done}catch(r){return void e.error(r)}n?e.complete():(e.next(l),this.schedule())}}))})),t}:Object(p.a)(l))}(l,n)}throw new TypeError((null!==l&&typeof l||l)+" is not observable")}e.d(n,"a",function(){return f})},"2Bdj":function(l,n,e){"use strict";function u(l){return"function"==typeof l}e.d(n,"a",function(){return u})},"2ePl":function(l,n,e){"use strict";e.d(n,"a",function(){return u});var u=function(l){return l&&"number"==typeof l.length&&"function"!=typeof l}},"67Y/":function(l,n,e){"use strict";e.d(n,"a",function(){return r});var u=e("mrSG"),t=e("FFOo");function r(l,n){return function(e){if("function"!=typeof l)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new o(l,n))}}var o=function(){function l(l,n){this.project=l,this.thisArg=n}return l.prototype.call=function(l,n){return n.subscribe(new a(l,this.project,this.thisArg))},l}(),a=function(l){function n(n,e,u){var t=l.call(this,n)||this;return t.project=e,t.count=0,t.thisArg=u||t,t}return u.c(n,l),n.prototype._next=function(l){var n;try{n=this.project.call(this.thisArg,l,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(n)},n}(t.a)},"6ahw":function(l,n,e){"use strict";e.d(n,"a",function(){return r});var u=e("iLxQ"),t=e("DKTb"),r={closed:!0,next:function(l){},error:function(l){if(u.a.useDeprecatedSynchronousErrorHandling)throw l;Object(t.a)(l)},complete:function(){}}},"6blF":function(l,n,e){"use strict";var u=e("FFOo"),t=e("L/V9"),r=e("6ahw"),o=e("xTla"),a=e("y3By"),i=e("iLxQ");e.d(n,"a",function(){return s});var s=function(){function l(l){this._isScalar=!1,l&&(this._subscribe=l)}return l.prototype.lift=function(n){var e=new l;return e.source=this,e.operator=n,e},l.prototype.subscribe=function(l,n,e){var o=this.operator,a=function(l,n,e){if(l){if(l instanceof u.a)return l;if(l[t.a])return l[t.a]()}return l||n||e?new u.a(l,n,e):new u.a(r.a)}(l,n,e);if(a.add(o?o.call(a,this.source):this.source||i.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),i.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},l.prototype._trySubscribe=function(l){try{return this._subscribe(l)}catch(n){i.a.useDeprecatedSynchronousErrorHandling&&(l.syncErrorThrown=!0,l.syncErrorValue=n),function(l){for(;l;){var n=l.destination;if(l.closed||l.isStopped)return!1;l=n&&n instanceof u.a?n:null}return!0}(l)?l.error(n):console.warn(n)}},l.prototype.forEach=function(l,n){var e=this;return new(n=c(n))(function(n,u){var t;t=e.subscribe(function(n){try{l(n)}catch(e){u(e),t&&t.unsubscribe()}},u,n)})},l.prototype._subscribe=function(l){var n=this.source;return n&&n.subscribe(l)},l.prototype[o.a]=function(){return this},l.prototype.pipe=function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return 0===l.length?this:Object(a.b)(l)(this)},l.prototype.toPromise=function(l){var n=this;return new(l=c(l))(function(l,e){var u;n.subscribe(function(l){return u=l},function(l){return e(l)},function(){return l(u)})})},l.create=function(n){return new l(n)},l}();function c(l){if(l||(l=i.a.Promise||Promise),!l)throw new Error("no Promise impl found");return l}},"9Z1F":function(l,n,e){"use strict";e.d(n,"a",function(){return a});var u=e("mrSG"),t=e("MGBS"),r=e("rPjj"),o=e("zotm");function a(l){return function(n){var e=new i(l),u=n.lift(e);return e.caught=u}}var i=function(){function l(l){this.selector=l}return l.prototype.call=function(l,n){return n.subscribe(new s(l,this.selector,this.caught))},l}(),s=function(l){function n(n,e,u){var t=l.call(this,n)||this;return t.selector=e,t.caught=u,t}return u.c(n,l),n.prototype.error=function(n){if(!this.isStopped){var e=void 0;try{e=this.selector(n,this.caught)}catch(t){return void l.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var u=new r.a(this,void 0,void 0);this.add(u),Object(o.a)(this,e,void 0,void 0,u)}},n}(t.a)},DKTb:function(l,n,e){"use strict";function u(l){setTimeout(function(){throw l})}e.d(n,"a",function(){return u})},"En8+":function(l,n,e){"use strict";function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}e.d(n,"a",function(){return t});var t=u()},"F/XL":function(l,n,e){"use strict";e.d(n,"a",function(){return a});var u=e("nkY7"),t=e("IUTb"),r=e("G5J1"),o=e("PU8L");function a(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];var e=l[l.length-1];switch(Object(u.a)(e)?l.pop():e=void 0,l.length){case 0:return Object(r.b)(e);case 1:return e?Object(t.a)(l,e):Object(o.a)(l[0]);default:return Object(t.a)(l,e)}}},FFOo:function(l,n,e){"use strict";e.d(n,"a",function(){return c});var u=e("mrSG"),t=e("2Bdj"),r=e("6ahw"),o=e("pugT"),a=e("L/V9"),i=e("iLxQ"),s=e("DKTb"),c=function(l){function n(e,u,t){var o=l.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=r.a;break;case 1:if(!e){o.destination=r.a;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new p(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new p(o,e,u,t)}return o}return u.c(n,l),n.prototype[a.a]=function(){return this},n.create=function(l,e,u){var t=new n(l,e,u);return t.syncErrorThrowable=!1,t},n.prototype.next=function(l){this.isStopped||this._next(l)},n.prototype.error=function(l){this.isStopped||(this.isStopped=!0,this._error(l))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this))},n.prototype._next=function(l){this.destination.next(l)},n.prototype._error=function(l){this.destination.error(l),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var l=this._parent,n=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=l,this._parents=n,this},n}(o.a),p=function(l){function n(n,e,u,o){var a,i=l.call(this)||this;i._parentSubscriber=n;var s=i;return Object(t.a)(e)?a=e:e&&(a=e.next,u=e.error,o=e.complete,e!==r.a&&(s=Object.create(e),Object(t.a)(s.unsubscribe)&&i.add(s.unsubscribe.bind(s)),s.unsubscribe=i.unsubscribe.bind(i))),i._context=s,i._next=a,i._error=u,i._complete=o,i}return u.c(n,l),n.prototype.next=function(l){if(!this.isStopped&&this._next){var n=this._parentSubscriber;i.a.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,l)&&this.unsubscribe():this.__tryOrUnsub(this._next,l)}},n.prototype.error=function(l){if(!this.isStopped){var n=this._parentSubscriber,e=i.a.useDeprecatedSynchronousErrorHandling;if(this._error)e&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,l),this.unsubscribe()):(this.__tryOrUnsub(this._error,l),this.unsubscribe());else if(n.syncErrorThrowable)e?(n.syncErrorValue=l,n.syncErrorThrown=!0):Object(s.a)(l),this.unsubscribe();else{if(this.unsubscribe(),e)throw l;Object(s.a)(l)}}},n.prototype.complete=function(){var l=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var e=function(){return l._complete.call(l._context)};i.a.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(l,n){try{l.call(this._context,n)}catch(e){if(this.unsubscribe(),i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(s.a)(e)}},n.prototype.__tryOrSetError=function(l,n,e){if(!i.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,e)}catch(u){return i.a.useDeprecatedSynchronousErrorHandling?(l.syncErrorValue=u,l.syncErrorThrown=!0,!0):(Object(s.a)(u),!0)}return!1},n.prototype._unsubscribe=function(){var l=this._parentSubscriber;this._context=null,this._parentSubscriber=null,l.unsubscribe()},n}(c)},Fxb1:function(l,n,e){"use strict";e.d(n,"a",function(){return h});var u=e("6blF"),t=e("+tJ4"),r=e("S5XQ"),o=e("u67D"),a=e("JcRv"),i=e("2ePl"),s=e("/WYv"),c=e("McSo"),p=e("En8+"),d=e("xTla"),h=function(l){if(l instanceof u.a)return function(n){return l._isScalar?(n.next(l.value),void n.complete()):l.subscribe(n)};if(l&&"function"==typeof l[d.a])return Object(a.a)(l);if(Object(i.a)(l))return Object(t.a)(l);if(Object(s.a)(l))return Object(r.a)(l);if(l&&"function"==typeof l[p.a])return Object(o.a)(l);var n=Object(c.a)(l)?"an invalid object":"'"+l+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return r});var u=e("6blF"),t=new u.a(function(l){return l.complete()});function r(l){return l?function(l){return new u.a(function(n){return l.schedule(function(){return n.complete()})})}(l):t}},IUTb:function(l,n,e){"use strict";e.d(n,"a",function(){return o});var u=e("6blF"),t=e("pugT"),r=e("+tJ4");function o(l,n){return new u.a(n?function(e){var u=new t.a,r=0;return u.add(n.schedule(function(){r!==l.length?(e.next(l[r++]),e.closed||u.add(this.schedule())):e.complete()})),u}:Object(r.a)(l))}},JcRv:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=e("xTla"),t=function(l){return function(n){var e=l[u.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(n)}}},"L/V9":function(l,n,e){"use strict";e.d(n,"a",function(){return u});var u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},MGBS:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=e("mrSG"),t=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return u.c(n,l),n.prototype.notifyNext=function(l,n,e,u,t){this.destination.next(n)},n.prototype.notifyError=function(l,n){this.destination.error(l)},n.prototype.notifyComplete=function(l){this.destination.complete()},n}(e("FFOo").a)},McSo:function(l,n,e){"use strict";function u(l){return null!==l&&"object"==typeof l}e.d(n,"a",function(){return u})},PU8L:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=e("6blF");function t(l){var n=new u.a(function(n){n.next(l),n.complete()});return n._isScalar=!0,n.value=l,n}},S5XQ:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=e("DKTb"),t=function(l){return function(n){return l.then(function(l){n.closed||(n.next(l),n.complete())},function(l){return n.error(l)}).then(null,u.a),n}}},T1DM:function(l,n,e){"use strict";var u=e("mrSG"),t=function(l){function n(n,e){var u=l.call(this,n,e)||this;return u.scheduler=n,u.work=e,u.pending=!1,u}return u.c(n,l),n.prototype.schedule=function(l,n){if(void 0===n&&(n=0),this.closed)return this;this.state=l;var e=this.id,u=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(u,e,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(u,this.id,n),this},n.prototype.requestAsyncId=function(l,n,e){return void 0===e&&(e=0),setInterval(l.flush.bind(l,this),e)},n.prototype.recycleAsyncId=function(l,n,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return n;clearInterval(n)},n.prototype.execute=function(l,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(l,n);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(l,n){var e=!1,u=void 0;try{this.work(l)}catch(t){e=!0,u=!!t&&t||new Error(t)}if(e)return this.unsubscribe(),u},n.prototype._unsubscribe=function(){var l=this.id,n=this.scheduler,e=n.actions,u=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==u&&e.splice(u,1),null!=l&&(this.id=this.recycleAsyncId(n,l,null)),this.delay=null},n}(function(l){function n(n,e){return l.call(this)||this}return u.c(n,l),n.prototype.schedule=function(l,n){return void 0===n&&(n=0),this},n}(e("pugT").a)),r=function(){function l(n,e){void 0===e&&(e=l.now),this.SchedulerAction=n,this.now=e}return l.prototype.schedule=function(l,n,e){return void 0===n&&(n=0),new this.SchedulerAction(this,l).schedule(e,n)},l.now=function(){return Date.now()},l}(),o=function(l){function n(e,u){void 0===u&&(u=r.now);var t=l.call(this,e,function(){return n.delegate&&n.delegate!==t?n.delegate.now():u()})||this;return t.actions=[],t.active=!1,t.scheduled=void 0,t}return u.c(n,l),n.prototype.schedule=function(e,u,t){return void 0===u&&(u=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,u,t):l.prototype.schedule.call(this,e,u,t)},n.prototype.flush=function(l){var n=this.actions;if(this.active)n.push(l);else{var e;this.active=!0;do{if(e=l.execute(l.state,l.delay))break}while(l=n.shift());if(this.active=!1,e){for(;l=n.shift();)l.unsubscribe();throw e}}},n}(r);e.d(n,"a",function(){return a});var a=new o(t)},"VnD/":function(l,n,e){"use strict";e.d(n,"a",function(){return r});var u=e("mrSG"),t=e("FFOo");function r(l,n){return function(e){return e.lift(new o(l,n))}}var o=function(){function l(l,n){this.predicate=l,this.thisArg=n}return l.prototype.call=function(l,n){return n.subscribe(new a(l,this.predicate,this.thisArg))},l}(),a=function(l){function n(n,e,u){var t=l.call(this,n)||this;return t.predicate=e,t.thisArg=u,t.count=0,t}return u.c(n,l),n.prototype._next=function(l){var n;try{n=this.predicate.call(this.thisArg,l,this.count++)}catch(e){return void this.destination.error(e)}n&&this.destination.next(l)},n}(t.a)},aGNc:function(l,n,e){"use strict";e.d(n,"a",function(){return r});var u=e("mrSG"),t=e("FFOo");function r(l){return function(n){return n.lift(new o(l))}}var o=function(){function l(l){this.value=l}return l.prototype.call=function(l,n){return n.subscribe(new a(l,this.value))},l}(),a=function(l){function n(n,e){var u=l.call(this,n)||this;return u.value=e,u}return u.c(n,l),n.prototype._next=function(l){this.destination.next(this.value)},n}(t.a)},b7mW:function(l,n,e){"use strict";function u(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}e.d(n,"a",function(){return t}),u.prototype=Object.create(Error.prototype);var t=u},crnd:function(l,n){function e(l){return Promise.resolve().then(function(){var n=new Error("Cannot find module '"+l+"'");throw n.code="MODULE_NOT_FOUND",n})}e.keys=function(){return[]},e.resolve=e,l.exports=e,e.id="crnd"},iLxQ:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=!1,t={Promise:void 0,set useDeprecatedSynchronousErrorHandling(l){u=l},get useDeprecatedSynchronousErrorHandling(){return u}}},isby:function(l,n,e){"use strict";e.d(n,"a",function(){return u});var u=Array.isArray||function(l){return l&&"number"==typeof l.length}},mrSG:function(l,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"e",function(){return a}),e.d(n,"d",function(){return i}),e.d(n,"h",function(){return s}),e.d(n,"f",function(){return c}),e.d(n,"g",function(){return p});var u=function(l,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])})(l,n)};function t(l,n){function e(){this.constructor=l}u(l,n),l.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var r=function(){return(r=Object.assign||function(l){for(var n,e=1,u=arguments.length;e<u;e++)for(var t in n=arguments[e])Object.prototype.hasOwnProperty.call(n,t)&&(l[t]=n[t]);return l}).apply(this,arguments)};function o(l,n,e,u){var t,r=arguments.length,o=r<3?n:null===u?u=Object.getOwnPropertyDescriptor(n,e):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,e,u);else for(var a=l.length-1;a>=0;a--)(t=l[a])&&(o=(r<3?t(o):r>3?t(n,e,o):t(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o}function a(l,n){return function(e,u){n(e,u,l)}}function i(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)}function s(l){var n="function"==typeof Symbol&&l[Symbol.iterator],e=0;return n?n.call(l):{next:function(){return l&&e>=l.length&&(l=void 0),{value:l&&l[e++],done:!l}}}}function c(l,n){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var u,t,r=e.call(l),o=[];try{for(;(void 0===n||n-- >0)&&!(u=r.next()).done;)o.push(u.value)}catch(a){t={error:a}}finally{try{u&&!u.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return o}function p(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(c(arguments[n]));return l}},nkY7:function(l,n,e){"use strict";function u(l){return l&&"function"==typeof l.schedule}e.d(n,"a",function(){return u})},psW0:function(l,n,e){"use strict";e.d(n,"a",function(){return s});var u=e("mrSG"),t=e("zotm"),r=e("MGBS"),o=e("rPjj"),a=e("67Y/"),i=e("0/uQ");function s(l,n,e){return void 0===e&&(e=Number.POSITIVE_INFINITY),"function"==typeof n?function(u){return u.pipe(s(function(e,u){return Object(i.a)(l(e,u)).pipe(Object(a.a)(function(l,t){return n(e,l,u,t)}))},e))}:("number"==typeof n&&(e=n),function(n){return n.lift(new c(l,e))})}var c=function(){function l(l,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=l,this.concurrent=n}return l.prototype.call=function(l,n){return n.subscribe(new p(l,this.project,this.concurrent))},l}(),p=function(l){function n(n,e,u){void 0===u&&(u=Number.POSITIVE_INFINITY);var t=l.call(this,n)||this;return t.project=e,t.concurrent=u,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return u.c(n,l),n.prototype._next=function(l){this.active<this.concurrent?this._tryNext(l):this.buffer.push(l)},n.prototype._tryNext=function(l){var n,e=this.index++;try{n=this.project(l,e)}catch(u){return void this.destination.error(u)}this.active++,this._innerSub(n,l,e)},n.prototype._innerSub=function(l,n,e){var u=new o.a(this,void 0,void 0);this.destination.add(u),Object(t.a)(this,l,n,e,u)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(l,n,e,u,t){this.destination.next(n)},n.prototype.notifyComplete=function(l){var n=this.buffer;this.remove(l),this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(r.a)},pugT:function(l,n,e){"use strict";var u=e("isby"),t=e("McSo"),r=e("2Bdj");function o(l){return Error.call(this),this.message=l?l.length+" errors occurred during unsubscription:\n"+l.map(function(l,n){return n+1+") "+l.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=l,this}o.prototype=Object.create(Error.prototype);var a=o;e.d(n,"a",function(){return i});var i=function(){function l(l){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,l&&(this._unsubscribe=l)}var n;return l.prototype.unsubscribe=function(){var l,n=!1;if(!this.closed){var e=this._parent,o=this._parents,i=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=o?o.length:0;e;)e.remove(this),e=++p<d&&o[p]||null;if(Object(r.a)(i))try{i.call(this)}catch(f){n=!0,l=f instanceof a?s(f.errors):[f]}if(Object(u.a)(c))for(p=-1,d=c.length;++p<d;){var h=c[p];if(Object(t.a)(h))try{h.unsubscribe()}catch(f){n=!0,l=l||[],f instanceof a?l=l.concat(s(f.errors)):l.push(f)}}if(n)throw new a(l)}},l.prototype.add=function(n){var e=n;switch(typeof n){case"function":e=new l(n);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof l)){var u=e;(e=new l)._subscriptions=[u]}break;default:if(!n)return l.EMPTY;throw new Error("unrecognized teardown "+n+" added to Subscription.")}if(e._addParent(this)){var t=this._subscriptions;t?t.push(e):this._subscriptions=[e]}return e},l.prototype.remove=function(l){var n=this._subscriptions;if(n){var e=n.indexOf(l);-1!==e&&n.splice(e,1)}},l.prototype._addParent=function(l){var n=this._parent,e=this._parents;return n!==l&&(n?e?-1===e.indexOf(l)&&(e.push(l),!0):(this._parents=[l],!0):(this._parent=l,!0))},l.EMPTY=((n=new l).closed=!0,n),l}();function s(l){return l.reduce(function(l,n){return l.concat(n instanceof a?n.errors:n)},[])}},rPjj:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=e("mrSG"),t=function(l){function n(n,e,u){var t=l.call(this)||this;return t.parent=n,t.outerValue=e,t.outerIndex=u,t.index=0,t}return u.c(n,l),n.prototype._next=function(l){this.parent.notifyNext(this.outerValue,l,this.outerIndex,this.index++,this)},n.prototype._error=function(l){this.parent.notifyError(l,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(e("FFOo").a)},t9fZ:function(l,n,e){"use strict";e.d(n,"a",function(){return a});var u=e("mrSG"),t=e("FFOo"),r=e("b7mW"),o=e("G5J1");function a(l){return function(n){return 0===l?Object(o.b)():n.lift(new i(l))}}var i=function(){function l(l){if(this.total=l,this.total<0)throw new r.a}return l.prototype.call=function(l,n){return n.subscribe(new s(l,this.total))},l}(),s=function(l){function n(n,e){var u=l.call(this,n)||this;return u.total=e,u.count=0,u}return u.c(n,l),n.prototype._next=function(l){var n=this.total,e=++this.count;e<=n&&(this.destination.next(l),e===n&&(this.destination.complete(),this.unsubscribe()))},n}(t.a)},u67D:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var u=e("En8+"),t=function(l){return function(n){for(var e=l[u.a]();;){var t=e.next();if(t.done){n.complete();break}if(n.next(t.value),n.closed)break}return"function"==typeof e.return&&n.add(function(){e.return&&e.return()}),n}}},xTla:function(l,n,e){"use strict";e.d(n,"a",function(){return u});var u="function"==typeof Symbol&&Symbol.observable||"@@observable"},y3By:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return r});var u=e("+umK");function t(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return r(l)}function r(l){return l?1===l.length?l[0]:function(n){return l.reduce(function(l,n){return n(l)},n)}:u.a}},zUnb:function(l,n,e){"use strict";e.r(n);var u=e("mrSG"),t=e("pugT"),r=e("6blF"),o=e("FFOo");function a(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}a.prototype=Object.create(Error.prototype);var i=a,s=function(l){function n(n,e){var u=l.call(this)||this;return u.subject=n,u.subscriber=e,u.closed=!1,u}return u.c(n,l),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var l=this.subject,n=l.observers;if(this.subject=null,n&&0!==n.length&&!l.isStopped&&!l.closed){var e=n.indexOf(this.subscriber);-1!==e&&n.splice(e,1)}}},n}(t.a),c=e("L/V9"),p=function(l){function n(n){var e=l.call(this,n)||this;return e.destination=n,e}return u.c(n,l),n}(o.a),d=function(l){function n(){var n=l.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return u.c(n,l),n.prototype[c.a]=function(){return new p(this)},n.prototype.lift=function(l){var n=new h(this,this);return n.operator=l,n},n.prototype.next=function(l){if(this.closed)throw new i;if(!this.isStopped)for(var n=this.observers,e=n.length,u=n.slice(),t=0;t<e;t++)u[t].next(l)},n.prototype.error=function(l){if(this.closed)throw new i;this.hasError=!0,this.thrownError=l,this.isStopped=!0;for(var n=this.observers,e=n.length,u=n.slice(),t=0;t<e;t++)u[t].error(l);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new i;this.isStopped=!0;for(var l=this.observers,n=l.length,e=l.slice(),u=0;u<n;u++)e[u].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(n){if(this.closed)throw new i;return l.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(l){if(this.closed)throw new i;return this.hasError?(l.error(this.thrownError),t.a.EMPTY):this.isStopped?(l.complete(),t.a.EMPTY):(this.observers.push(l),new s(this,l))},n.prototype.asObservable=function(){var l=new r.a;return l.source=this,l},n.create=function(l,n){return new h(l,n)},n}(r.a),h=function(l){function n(n,e){var u=l.call(this)||this;return u.destination=n,u.source=e,u}return u.c(n,l),n.prototype.next=function(l){var n=this.destination;n&&n.next&&n.next(l)},n.prototype.error=function(l){var n=this.destination;n&&n.error&&this.destination.error(l)},n.prototype.complete=function(){var l=this.destination;l&&l.complete&&this.destination.complete()},n.prototype._subscribe=function(l){return this.source?this.source.subscribe(l):t.a.EMPTY},n}(d),f=e("nkY7"),m=e("psW0");function g(l){return l}function y(l){return void 0===l&&(l=Number.POSITIVE_INFINITY),Object(m.a)(g,l)}var b=e("IUTb");function v(){return function(l){return l.lift(new w(l))}}var w=function(){function l(l){this.connectable=l}return l.prototype.call=function(l,n){var e=this.connectable;e._refCount++;var u=new x(l,e),t=n.subscribe(u);return u.closed||(u.connection=e.connect()),t},l}(),x=function(l){function n(n,e){var u=l.call(this,n)||this;return u.connectable=e,u}return u.c(n,l),n.prototype._unsubscribe=function(){var l=this.connectable;if(l){this.connectable=null;var n=l._refCount;if(n<=0)this.connection=null;else if(l._refCount=n-1,n>1)this.connection=null;else{var e=this.connection,u=l._connection;this.connection=null,!u||e&&u!==e||u.unsubscribe()}}else this.connection=null},n}(o.a),C=function(l){function n(n,e){var u=l.call(this)||this;return u.source=n,u.subjectFactory=e,u._refCount=0,u._isComplete=!1,u}return u.c(n,l),n.prototype._subscribe=function(l){return this.getSubject().subscribe(l)},n.prototype.getSubject=function(){var l=this._subject;return l&&!l.isStopped||(this._subject=this.subjectFactory()),this._subject},n.prototype.connect=function(){var l=this._connection;return l||(this._isComplete=!1,(l=this._connection=new t.a).add(this.source.subscribe(new j(this.getSubject(),this))),l.closed?(this._connection=null,l=t.a.EMPTY):this._connection=l),l},n.prototype.refCount=function(){return v()(this)},n}(r.a).prototype,k={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:C._subscribe},_isComplete:{value:C._isComplete,writable:!0},getSubject:{value:C.getSubject},connect:{value:C.connect},refCount:{value:C.refCount}},j=function(l){function n(n,e){var u=l.call(this,n)||this;return u.connectable=e,u}return u.c(n,l),n.prototype._error=function(n){this._unsubscribe(),l.prototype._error.call(this,n)},n.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),l.prototype._complete.call(this)},n.prototype._unsubscribe=function(){var l=this.connectable;if(l){this.connectable=null;var n=l._connection;l._refCount=0,l._subject=null,l._connection=null,n&&n.unsubscribe()}},n}(p);function O(){return new d}function S(l){for(var n in l)if(l[n]===S)return n;throw Error("Could not find renamed property on target object.")}function P(l,n){for(var e in n)n.hasOwnProperty(e)&&!l.hasOwnProperty(e)&&(l[e]=n[e])}var T=S({ngInjectableDef:S}),A=S({ngBaseDef:S});function M(l){return{providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function _(l){return l&&l.hasOwnProperty(T)?l[T]:null}var I=function(){function l(l,n){this._desc=l,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==n?M({providedIn:n.providedIn||"root",factory:n.factory}):void 0}return l.prototype.toString=function(){return"InjectionToken "+this._desc},l}(),E="__parameters__",R="__prop__metadata__";function N(l){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(l){var t=l.apply(void 0,Object(u.g)(n));for(var r in t)this[r]=t[r]}}}function q(l,n,e){var t=N(n);function r(){for(var l,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(this instanceof r)return t.apply(this,n),this;var o=new((l=r).bind.apply(l,Object(u.g)([void 0],n)));return a.annotation=o,a;function a(l,n,e){for(var u=l.hasOwnProperty(E)?l[E]:Object.defineProperty(l,E,{value:[]})[E];u.length<=e;)u.push(null);return(u[e]=u[e]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=l,r.annotationCls=r,r}function D(l,n,e,t){var r=N(n);function o(){for(var l,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(this instanceof o)return r.apply(this,n),this;var a=new((l=o).bind.apply(l,Object(u.g)([void 0],n)));return function(l,e){var r=l.constructor,o=r.hasOwnProperty(R)?r[R]:Object.defineProperty(r,R,{value:{}})[R];o[e]=o.hasOwnProperty(e)&&o[e]||[],o[e].unshift(a),t&&t.apply(void 0,Object(u.g)([l,e],n))}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=l,o.annotationCls=o,o}var H=new I("AnalyzeForEntryComponents"),L="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,J="undefined"!=typeof global&&global||L||F,U=Promise.resolve(0),B=null;function G(){if(!B){var l=J.Symbol;if(l&&l.iterator)B=l.iterator;else for(var n=Object.getOwnPropertyNames(Map.prototype),e=0;e<n.length;++e){var u=n[e];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(B=u)}}return B}function W(l){"undefined"==typeof Zone?U.then(function(){l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}function z(l,n){return l===n||"number"==typeof l&&"number"==typeof n&&isNaN(l)&&isNaN(n)}function V(l){if("string"==typeof l)return l;if(l instanceof Array)return"["+l.map(V).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return""+l.overriddenName;if(l.name)return""+l.name;var n=l.toString();if(null==n)return""+n;var e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}var K=S({__forward_ref__:S});function Q(l){return l.__forward_ref__=Q,l.toString=function(){return V(this())},l}function $(l){var n=l;return"function"==typeof n&&n.hasOwnProperty(K)&&n.__forward_ref__===Q?n():l}var Y,X=function(l){return l[l.Emulated=0]="Emulated",l[l.Native=1]="Native",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}({}),Z=q("Inject",function(l){return{token:l}}),ll=q("Optional"),nl=q("Self"),el=q("SkipSelf"),ul=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}({}),tl=void 0;function rl(l){var n=tl;return tl=l,n}function ol(l,n){return void 0===n&&(n=ul.Default),(Y||function(l,n){if(void 0===n&&(n=ul.Default),void 0===tl)throw new Error("inject() must be called from an injection context");return null===tl?function(l,n,e){var u=_(l);if(u&&"root"==u.providedIn)return void 0===u.value?u.value=u.factory():u.value;if(e&ul.Optional)return null;throw new Error("Injector: NOT_FOUND ["+V(l)+"]")}(l,0,n):tl.get(l,n&ul.Optional?null:void 0,n)})(l,n)}var al=/([A-Z])/g;function il(l){try{return null!=l?l.toString().slice(0,30):l}catch(n){return"[ERROR] Exception while trying to serialize the value"}}function sl(l,n){var e=dl(l),u=dl(n);return e&&u?function(l,n,e){for(var u=l[G()](),t=n[G()]();;){var r=u.next(),o=t.next();if(r.done&&o.done)return!0;if(r.done||o.done)return!1;if(!e(r.value,o.value))return!1}}(l,n,sl):!(e||!l||"object"!=typeof l&&"function"!=typeof l||u||!n||"object"!=typeof n&&"function"!=typeof n)||z(l,n)}var cl=function(){function l(l){this.wrapped=l}return l.wrap=function(n){return new l(n)},l.unwrap=function(n){return l.isWrapped(n)?n.wrapped:n},l.isWrapped=function(n){return n instanceof l},l}(),pl=function(){function l(l,n,e){this.previousValue=l,this.currentValue=n,this.firstChange=e}return l.prototype.isFirstChange=function(){return this.firstChange},l}();function dl(l){return!!hl(l)&&(Array.isArray(l)||!(l instanceof Map)&&G()in l)}function hl(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function fl(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n]}var ml="__source",gl=new Object,yl=new I("INJECTOR"),bl=function(){function l(){}return l.prototype.get=function(l,n){if(void 0===n&&(n=gl),n===gl)throw new Error("NullInjectorError: No provider for "+V(l)+"!");return n},l}(),vl=function(){function l(){}return l.create=function(l,n){return Array.isArray(l)?new Al(l,n):new Al(l.providers,l.parent,l.name||null)},l.THROW_IF_NOT_FOUND=gl,l.NULL=new bl,l.ngInjectableDef=M({providedIn:"any",factory:function(){return ol(yl)}}),l.__NG_ELEMENT_ID__=function(){return wl()},l}(),wl=fl,xl=function(l){return l},Cl=[],kl=xl,jl=function(){return Array.prototype.slice.call(arguments)},Ol=S({provide:String,useValue:S}),Sl=vl.NULL,Pl=/\n/gm,Tl="\u0275",Al=function(){function l(l,n,e){void 0===n&&(n=Sl),void 0===e&&(e=null),this.parent=n,this.source=e;var u=this._records=new Map;u.set(vl,{token:vl,fn:xl,deps:Cl,value:this,useNew:!1}),u.set(yl,{token:yl,fn:xl,deps:Cl,value:this,useNew:!1}),function l(n,e){if(e)if((e=$(e))instanceof Array)for(var u=0;u<e.length;u++)l(n,e[u]);else{if("function"==typeof e)throw Il("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw Il("Unexpected provider",e);var t=$(e.provide),r=function(l){var n=function(l){var n=Cl,e=l.deps;if(e&&e.length){n=[];for(var u=0;u<e.length;u++){var t=6;if((i=$(e[u]))instanceof Array)for(var r=0,o=i;r<o.length;r++){var a=o[r];a instanceof ll||a==ll?t|=1:a instanceof el||a==el?t&=-3:a instanceof nl||a==nl?t&=-5:i=a instanceof Z?a.token:$(a)}n.push({token:i,options:t})}}else if(l.useExisting){var i;n=[{token:i=$(l.useExisting),options:6}]}else if(!(e||Ol in l))throw Il("'deps' required",l);return n}(l),e=xl,u=Cl,t=!1,r=$(l.provide);if(Ol in l)u=l.useValue;else if(l.useFactory)e=l.useFactory;else if(l.useExisting);else if(l.useClass)t=!0,e=$(l.useClass);else{if("function"!=typeof r)throw Il("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",l);t=!0,e=r}return{deps:n,fn:e,useNew:t,value:u}}(e);if(!0===e.multi){var o=n.get(t);if(o){if(o.fn!==jl)throw Ml(t)}else n.set(t,o={token:e.provide,deps:[],useNew:!1,fn:jl,value:Cl});o.deps.push({token:t=e,options:6})}var a=n.get(t);if(a&&a.fn==jl)throw Ml(t);n.set(t,r)}}(u,l)}return l.prototype.get=function(l,n,e){void 0===e&&(e=ul.Default);var t=this._records.get(l);try{return function l(n,e,t,r,o,a){try{return function(n,e,t,r,o,a){var i,s;if(!e||a&ul.SkipSelf)a&ul.Self||(s=r.get(n,o,ul.Default));else{if((s=e.value)==kl)throw Error(Tl+"Circular dependency");if(s===Cl){e.value=kl;var c=e.useNew,p=e.fn,d=e.deps,h=Cl;if(d.length){h=[];for(var f=0;f<d.length;f++){var m=d[f],g=m.options,y=2&g?t.get(m.token):void 0;h.push(l(m.token,y,t,y||4&g?r:Sl,1&g?null:vl.THROW_IF_NOT_FOUND,ul.Default))}}e.value=s=c?new((i=p).bind.apply(i,Object(u.g)([void 0],h))):p.apply(void 0,h)}}return s}(n,e,t,r,o,a)}catch(i){throw i instanceof Error||(i=new Error(i)),(i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(n),e&&e.value==kl&&(e.value=Cl),i}}(l,t,this._records,this.parent,n,e)}catch(o){var r=o.ngTempTokenPath;throw l[ml]&&r.unshift(l[ml]),o.message=_l("\n"+o.message,r,this.source),o.ngTokenPath=r,o.ngTempTokenPath=null,o}},l.prototype.toString=function(){var l=[];return this._records.forEach(function(n,e){return l.push(V(e))}),"StaticInjector["+l.join(", ")+"]"},l}();function Ml(l){return Il("Cannot mix multi providers and regular providers",l)}function _l(l,n,e){void 0===e&&(e=null),l=l&&"\n"===l.charAt(0)&&l.charAt(1)==Tl?l.substr(2):l;var u=V(n);if(n instanceof Array)u=n.map(V).join(" -> ");else if("object"==typeof n){var t=[];for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];t.push(r+":"+("string"==typeof o?JSON.stringify(o):V(o)))}u="{"+t.join(", ")+"}"}return"StaticInjectorError"+(e?"("+e+")":"")+"["+u+"]: "+l.replace(Pl,"\n  ")}function Il(l,n){return new Error(_l(l,n))}var El=new I("The presence of this token marks an injector as being the root injector."),Rl=function(){return function(){}}(),Nl=function(){return function(){}}();function ql(l){var n=Error("No component factory found for "+V(l)+". Did you add it to @NgModule.entryComponents?");return n[Dl]=l,n}var Dl="ngComponent",Hl=function(){function l(){}return l.prototype.resolveComponentFactory=function(l){throw ql(l)},l}(),Ll=function(){function l(){}return l.NULL=new Hl,l}(),Fl=function(){function l(l,n,e){this._parent=n,this._ngModule=e,this._factories=new Map;for(var u=0;u<l.length;u++){var t=l[u];this._factories.set(t.componentType,t)}}return l.prototype.resolveComponentFactory=function(l){var n=this._factories.get(l);if(!n&&this._parent&&(n=this._parent.resolveComponentFactory(l)),!n)throw ql(l);return new Jl(n,this._ngModule)},l}(),Jl=function(l){function n(n,e){var u=l.call(this)||this;return u.factory=n,u.ngModule=e,u.selector=n.selector,u.componentType=n.componentType,u.ngContentSelectors=n.ngContentSelectors,u.inputs=n.inputs,u.outputs=n.outputs,u}return Object(u.c)(n,l),n.prototype.create=function(l,n,e,u){return this.factory.create(l,n,e,u||this.ngModule)},n}(Nl),Ul=function(){return function(){}}(),Bl=function(){return function(){}}(),Gl=function(){function l(l){this.nativeElement=l}return l.__NG_ELEMENT_ID__=function(){return Wl(l)},l}(),Wl=fl,zl=function(){return function(){}}(),Vl=function(){return function(){}}(),Kl=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}({}),Ql=function(){function l(){}return l.__NG_ELEMENT_ID__=function(){return $l()},l}(),$l=fl,Yl=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}({}),Xl=function(){return function(){}}(),Zl=new(function(){return function(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}())("7.2.4"),ln=!0,nn=!1;function en(){return nn=!0,ln}var un=function(){function l(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(l){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return l.prototype.getInertBodyElement_XHR=function(l){l="<body><remove></remove>"+l+"</body>";try{l=encodeURI(l)}catch(u){return null}var n=new XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+l,!1),n.send(void 0);var e=n.response.body;return e.removeChild(e.firstChild),e},l.prototype.getInertBodyElement_DOMParser=function(l){l="<body><remove></remove>"+l+"</body>";try{var n=(new window.DOMParser).parseFromString(l,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}},l.prototype.getInertBodyElement_InertDocument=function(l){var n=this.inertDocument.createElement("template");return"content"in n?(n.innerHTML=l,n):(this.inertBodyElement.innerHTML=l,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},l.prototype.stripCustomNsAttrs=function(l){for(var n=l.attributes,e=n.length-1;0<e;e--){var u=n.item(e).name;"xmlns:ns1"!==u&&0!==u.indexOf("ns1:")||l.removeAttribute(u)}for(var t=l.firstChild;t;)t.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(t),t=t.nextSibling},l}(),tn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,rn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function on(l){return(l=String(l)).match(tn)||l.match(rn)?l:(en()&&console.warn("WARNING: sanitizing unsafe URL value "+l+" (see http://g.co/ng/security#xss)"),"unsafe:"+l)}function an(l){var n,e,t={};try{for(var r=Object(u.h)(l.split(",")),o=r.next();!o.done;o=r.next())t[o.value]=!0}catch(a){n={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return t}function sn(){for(var l,n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};try{for(var o=Object(u.h)(e),a=o.next();!a.done;a=o.next()){var i=a.value;for(var s in i)i.hasOwnProperty(s)&&(r[s]=!0)}}catch(c){l={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(l)throw l.error}}return r}var cn,pn=an("area,br,col,hr,img,wbr"),dn=an("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hn=an("rp,rt"),fn=sn(hn,dn),mn=sn(pn,sn(dn,an("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sn(hn,an("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fn),gn=an("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yn=an("srcset"),bn=sn(gn,yn,an("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),vn=function(){function l(){this.sanitizedSomething=!1,this.buf=[]}return l.prototype.sanitizeChildren=function(l){for(var n=l.firstChild,e=!0;n;)if(n.nodeType===Node.ELEMENT_NODE?e=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,e&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);var u=this.checkClobberedElement(n,n.nextSibling);if(u){n=u;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")},l.prototype.startElement=function(l){var n,e=l.nodeName.toLowerCase();if(!mn.hasOwnProperty(e))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(e);for(var u=l.attributes,t=0;t<u.length;t++){var r=u.item(t),o=r.name,a=o.toLowerCase();if(bn.hasOwnProperty(a)){var i=r.value;gn[a]&&(i=on(i)),yn[a]&&(n=i,i=(n=String(n)).split(",").map(function(l){return on(l.trim())}).join(", ")),this.buf.push(" ",o,'="',Cn(i),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},l.prototype.endElement=function(l){var n=l.nodeName.toLowerCase();mn.hasOwnProperty(n)&&!pn.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))},l.prototype.chars=function(l){this.buf.push(Cn(l))},l.prototype.checkClobberedElement=function(l,n){if(n&&(l.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+l.outerHTML);return n},l}(),wn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xn=/([^\#-~ |!])/g;function Cn(l){return l.replace(/&/g,"&amp;").replace(wn,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(xn,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kn(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var jn=function(l){function n(n){void 0===n&&(n=!1);var e=l.call(this)||this;return e.__isAsync=n,e}return Object(u.c)(n,l),n.prototype.emit=function(n){l.prototype.next.call(this,n)},n.prototype.subscribe=function(n,e,u){var r,o=function(l){return null},a=function(){return null};n&&"object"==typeof n?(r=this.__isAsync?function(l){setTimeout(function(){return n.next(l)})}:function(l){n.next(l)},n.error&&(o=this.__isAsync?function(l){setTimeout(function(){return n.error(l)})}:function(l){n.error(l)}),n.complete&&(a=this.__isAsync?function(){setTimeout(function(){return n.complete()})}:function(){n.complete()})):(r=this.__isAsync?function(l){setTimeout(function(){return n(l)})}:function(l){n(l)},e&&(o=this.__isAsync?function(l){setTimeout(function(){return e(l)})}:function(l){e(l)}),u&&(a=this.__isAsync?function(){setTimeout(function(){return u()})}:function(){u()}));var i=l.prototype.subscribe.call(this,r,o,a);return n instanceof t.a&&n.add(i),i},n}(d),On=function(){function l(){}return l.__NG_ELEMENT_ID__=function(){return Sn(l,Gl)},l}(),Sn=fl,Pn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Tn=/^url\(([^)]+)\)$/,An=function(){return function(){}}(),Mn=D("Input",function(l){return{bindingPropertyName:l}},void 0,function(l){return function(l,n){for(var e=[],u=2;u<arguments.length;u++)e[u-2]=arguments[u];var t=l.constructor;t.hasOwnProperty(A)||function(l){var n=l.constructor,e=n.ngBaseDef,u=n.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};e&&(P(u.inputs,e.inputs),P(u.outputs,e.outputs),P(u.declaredInputs,e.declaredInputs))}(l),(function(l){return l.inputs||{}}(t.ngBaseDef))[n]=e[0]}}()),_n=D("HostBinding",function(l){return{hostPropertyName:l}}),In="ngDebugContext",En="ngOriginalError",Rn="ngErrorLogger";function Nn(l){return l[In]}function qn(l){return l[En]}function Dn(l){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];l.error.apply(l,Object(u.g)(n))}var Hn=function(){function l(){this._console=console}return l.prototype.handleError=function(l){var n=this._findOriginalError(l),e=this._findContext(l),u=function(l){return l[Rn]||Dn}(l);u(this._console,"ERROR",l),n&&u(this._console,"ORIGINAL ERROR",n),e&&u(this._console,"ERROR CONTEXT",e)},l.prototype._findContext=function(l){return l?Nn(l)?Nn(l):this._findContext(qn(l)):null},l.prototype._findOriginalError=function(l){for(var n=qn(l);n&&qn(n);)n=qn(n);return n},l}();function Ln(l){return!!l&&"function"==typeof l.then}function Fn(l){return!!l&&"function"==typeof l.subscribe}var Jn=new I("Application Initializer"),Un=function(){function l(l){var n=this;this.appInits=l,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(l,e){n.resolve=l,n.reject=e})}return l.prototype.runInitializers=function(){var l=this;if(!this.initialized){var n=[],e=function(){l.done=!0,l.resolve()};if(this.appInits)for(var u=0;u<this.appInits.length;u++){var t=this.appInits[u]();Ln(t)&&n.push(t)}Promise.all(n).then(function(){e()}).catch(function(n){l.reject(n)}),0===n.length&&e(),this.initialized=!0}},l}(),Bn=new I("AppId");function Gn(){return""+Wn()+Wn()+Wn()}function Wn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var zn=new I("Platform Initializer"),Vn=new I("Platform ID"),Kn=new I("appBootstrapListener"),Qn=function(){function l(){}return l.prototype.log=function(l){console.log(l)},l.prototype.warn=function(l){console.warn(l)},l}();function $n(){throw new Error("Runtime compiler is not loaded")}var Yn,Xn,Zn=$n,le=$n,ne=$n,ee=$n,ue=function(){function l(){this.compileModuleSync=Zn,this.compileModuleAsync=le,this.compileModuleAndAllComponentsSync=ne,this.compileModuleAndAllComponentsAsync=ee}return l.prototype.clearCache=function(){},l.prototype.clearCacheFor=function(l){},l.prototype.getModuleId=function(l){},l}(),te=function(){return function(){}}();function re(){var l=J.wtf;return!(!l||!(Yn=l.trace)||(Xn=Yn.events,0))}var oe=re();function ae(l,n){return null}var ie=oe?function(l,n){return void 0===n&&(n=null),Xn.createScope(l,n)}:function(l,n){return ae},se=oe?function(l,n){return Yn.leaveScope(l,n),n}:function(l,n){return n},ce=function(){function l(l){var n,e=l.enableLongStackTrace,u=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jn(!1),this.onMicrotaskEmpty=new jn(!1),this.onStable=new jn(!1),this.onError=new jn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(l,e,u,t,r,o){try{return fe(n),l.invokeTask(u,t,r,o)}finally{me(n)}},onInvoke:function(l,e,u,t,r,o,a){try{return fe(n),l.invoke(u,t,r,o,a)}finally{me(n)}},onHasTask:function(l,e,u,t){l.hasTask(u,t),e===u&&("microTask"==t.change?(n.hasPendingMicrotasks=t.microTask,he(n)):"macroTask"==t.change&&(n.hasPendingMacrotasks=t.macroTask))},onHandleError:function(l,e,u,t){return l.handleError(u,t),n.runOutsideAngular(function(){return n.onError.emit(t)}),!1}})}return l.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},l.assertInAngularZone=function(){if(!l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},l.assertNotInAngularZone=function(){if(l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},l.prototype.run=function(l,n,e){return this._inner.run(l,n,e)},l.prototype.runTask=function(l,n,e,u){var t=this._inner,r=t.scheduleEventTask("NgZoneEvent: "+u,l,de,pe,pe);try{return t.runTask(r,n,e)}finally{t.cancelTask(r)}},l.prototype.runGuarded=function(l,n,e){return this._inner.runGuarded(l,n,e)},l.prototype.runOutsideAngular=function(l){return this._outer.run(l)},l}();function pe(){}var de={};function he(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(function(){return l.onStable.emit(null)})}finally{l.isStable=!0}}}function fe(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function me(l){l._nesting--,he(l)}var ge,ye=function(){function l(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jn,this.onMicrotaskEmpty=new jn,this.onStable=new jn,this.onError=new jn}return l.prototype.run=function(l){return l()},l.prototype.runGuarded=function(l){return l()},l.prototype.runOutsideAngular=function(l){return l()},l.prototype.runTask=function(l){return l()},l}(),be=function(){function l(l){var n=this;this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return l.prototype._watchAngularEvents=function(){var l=this;this._ngZone.onUnstable.subscribe({next:function(){l._didWork=!0,l._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){l._ngZone.onStable.subscribe({next:function(){ce.assertNotInAngularZone(),W(function(){l._isZoneStable=!0,l._runCallbacksIfReady()})}})})},l.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},l.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},l.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},l.prototype._runCallbacksIfReady=function(){var l=this;if(this.isStable())W(function(){for(;0!==l._callbacks.length;){var n=l._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(l._didWork)}l._didWork=!1});else{var n=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(l){return!l.updateCb||!l.updateCb(n)||(clearTimeout(l.timeoutId),!1)}),this._didWork=!0}},l.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(l){return{source:l.source,creationLocation:l.creationLocation,data:l.data}}):[]},l.prototype.addCallback=function(l,n,e){var u=this,t=-1;n&&n>0&&(t=setTimeout(function(){u._callbacks=u._callbacks.filter(function(l){return l.timeoutId!==t}),l(u._didWork,u.getPendingTasks())},n)),this._callbacks.push({doneCb:l,timeoutId:t,updateCb:e})},l.prototype.whenStable=function(l,n,e){if(e&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(l,n,e),this._runCallbacksIfReady()},l.prototype.getPendingRequestCount=function(){return this._pendingCount},l.prototype.findProviders=function(l,n,e){return[]},l}(),ve=function(){function l(){this._applications=new Map,we.addToWindow(this)}return l.prototype.registerApplication=function(l,n){this._applications.set(l,n)},l.prototype.unregisterApplication=function(l){this._applications.delete(l)},l.prototype.unregisterAllApplications=function(){this._applications.clear()},l.prototype.getTestability=function(l){return this._applications.get(l)||null},l.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},l.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},l.prototype.findTestabilityInTree=function(l,n){return void 0===n&&(n=!0),we.findTestabilityInTree(this,l,n)},Object(u.b)([Object(u.d)("design:paramtypes",[])],l)}(),we=new(function(){function l(){}return l.prototype.addToWindow=function(l){},l.prototype.findTestabilityInTree=function(l,n,e){return null},l}()),xe=new I("AllowMultipleToken"),Ce=function(){return function(l,n){this.name=l,this.token=n}}();function ke(l,n,e){void 0===e&&(e=[]);var u="Platform: "+n,t=new I(u);return function(n){void 0===n&&(n=[]);var r=je();if(!r||r.injector.get(xe,!1))if(l)l(e.concat(n).concat({provide:t,useValue:!0}));else{var o=e.concat(n).concat({provide:t,useValue:!0});!function(l){if(ge&&!ge.destroyed&&!ge.injector.get(xe,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ge=l.get(Oe);var n=l.get(zn,null);n&&n.forEach(function(l){return l()})}(vl.create({providers:o,name:u}))}return function(l){var n=je();if(!n)throw new Error("No platform exists!");if(!n.injector.get(l,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(t)}}function je(){return ge&&!ge.destroyed?ge:null}var Oe=function(){function l(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return l.prototype.bootstrapModuleFactory=function(l,n){var e,u=this,t="noop"===(e=n?n.ngZone:void 0)?new ye:("zone.js"===e?void 0:e)||new ce({enableLongStackTrace:en()}),r=[{provide:ce,useValue:t}];return t.run(function(){var n=vl.create({providers:r,parent:u.injector,name:l.moduleType.name}),e=l.create(n),o=e.injector.get(Hn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return e.onDestroy(function(){return Te(u._modules,e)}),t.runOutsideAngular(function(){return t.onError.subscribe({next:function(l){o.handleError(l)}})}),function(l,n,t){try{var r=((o=e.injector.get(Un)).runInitializers(),o.donePromise.then(function(){return u._moduleDoBootstrap(e),e}));return Ln(r)?r.catch(function(e){throw n.runOutsideAngular(function(){return l.handleError(e)}),e}):r}catch(a){throw n.runOutsideAngular(function(){return l.handleError(a)}),a}var o}(o,t)})},l.prototype.bootstrapModule=function(l,n){var e=this;void 0===n&&(n=[]);var u=Se({},n);return function(l,n,e){return l.get(te).createCompiler([n]).compileModuleAsync(e)}(this.injector,u,l).then(function(l){return e.bootstrapModuleFactory(l,u)})},l.prototype._moduleDoBootstrap=function(l){var n=l.injector.get(Pe);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(function(l){return n.bootstrap(l)});else{if(!l.instance.ngDoBootstrap)throw new Error("The module "+V(l.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');l.instance.ngDoBootstrap(n)}this._modules.push(l)},l.prototype.onDestroy=function(l){this._destroyListeners.push(l)},Object.defineProperty(l.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),l.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(l){return l.destroy()}),this._destroyListeners.forEach(function(l){return l()}),this._destroyed=!0},Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),l}();function Se(l,n){return Array.isArray(n)?n.reduce(Se,l):Object(u.a)({},l,n)}var Pe=function(){function l(l,n,e,u,t,o){var a=this;this._zone=l,this._console=n,this._injector=e,this._exceptionHandler=u,this._componentFactoryResolver=t,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=en(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var i=new r.a(function(l){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){l.next(a._stable),l.complete()})}),s=new r.a(function(l){var n;a._zone.runOutsideAngular(function(){n=a._zone.onStable.subscribe(function(){ce.assertNotInAngularZone(),W(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,l.next(!0))})})});var e=a._zone.onUnstable.subscribe(function(){ce.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){l.next(!1)}))});return function(){n.unsubscribe(),e.unsubscribe()}});this.isStable=function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];var e=Number.POSITIVE_INFINITY,u=null,t=l[l.length-1];return Object(f.a)(t)?(u=l.pop(),l.length>1&&"number"==typeof l[l.length-1]&&(e=l.pop())):"number"==typeof t&&(e=l.pop()),null===u&&1===l.length&&l[0]instanceof r.a?l[0]:y(e)(Object(b.a)(l,u))}(i,s.pipe(function(l){return v()((n=O,function(l){var e;e="function"==typeof n?n:function(){return n};var u=Object.create(l,k);return u.source=l,u.subjectFactory=e,u})(l));var n}))}var n;return n=l,l.prototype.bootstrap=function(l,n){var e,u=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");e=l instanceof Nl?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(e.componentType);var t=e instanceof Jl?null:this._injector.get(Ul),r=e.create(vl.NULL,[],n||e.selector,t);r.onDestroy(function(){u._unloadComponent(r)});var o=r.injector.get(be,null);return o&&r.injector.get(ve).registerApplication(r.location.nativeElement,o),this._loadComponent(r),en()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r},l.prototype.tick=function(){var l=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var e=n._tickScope();try{this._runningTick=!0,this._views.forEach(function(l){return l.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(l){return l.checkNoChanges()})}catch(u){this._zone.runOutsideAngular(function(){return l._exceptionHandler.handleError(u)})}finally{this._runningTick=!1,se(e)}},l.prototype.attachView=function(l){var n=l;this._views.push(n),n.attachToAppRef(this)},l.prototype.detachView=function(l){var n=l;Te(this._views,n),n.detachFromAppRef()},l.prototype._loadComponent=function(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Kn,[]).concat(this._bootstrapListeners).forEach(function(n){return n(l)})},l.prototype._unloadComponent=function(l){this.detachView(l.hostView),Te(this.components,l)},l.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(l){return l.destroy()})},Object.defineProperty(l.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),l._tickScope=ie("ApplicationRef#tick()"),l}();function Te(l,n){var e=l.indexOf(n);e>-1&&l.splice(e,1)}var Ae=function(){function l(){this.dirty=!0,this._results=[],this.changes=new jn,this.length=0}return l.prototype.map=function(l){return this._results.map(l)},l.prototype.filter=function(l){return this._results.filter(l)},l.prototype.find=function(l){return this._results.find(l)},l.prototype.reduce=function(l,n){return this._results.reduce(l,n)},l.prototype.forEach=function(l){this._results.forEach(l)},l.prototype.some=function(l){return this._results.some(l)},l.prototype.toArray=function(){return this._results.slice()},l.prototype[G()]=function(){return this._results[G()]()},l.prototype.toString=function(){return this._results.toString()},l.prototype.reset=function(l){this._results=function l(n){return n.reduce(function(n,e){var u=Array.isArray(e)?l(e):e;return n.concat(u)},[])}(l),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},l.prototype.notifyOnChanges=function(){this.changes.emit(this)},l.prototype.setDirty=function(){this.dirty=!0},l.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},l}(),Me=function(){return function(){}}(),_e={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ie=function(){function l(l,n){this._compiler=l,this._config=n||_e}return l.prototype.load=function(l){return this._compiler instanceof ue?this.loadFactory(l):this.loadAndCompile(l)},l.prototype.loadAndCompile=function(l){var n=this,t=Object(u.f)(l.split("#"),2),r=t[0],o=t[1];return void 0===o&&(o="default"),e("crnd")(r).then(function(l){return l[o]}).then(function(l){return Ee(l,r,o)}).then(function(l){return n._compiler.compileModuleAsync(l)})},l.prototype.loadFactory=function(l){var n=Object(u.f)(l.split("#"),2),t=n[0],r=n[1],o="NgFactory";return void 0===r&&(r="default",o=""),e("crnd")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(function(l){return l[r+o]}).then(function(l){return Ee(l,t,r)})},l}();function Ee(l,n,e){if(!l)throw new Error("Cannot find '"+e+"' in '"+n+"'");return l}var Re=function(){function l(){}return l.__NG_ELEMENT_ID__=function(){return Ne(l,Gl)},l}(),Ne=fl,qe=function(){function l(){}return l.__NG_ELEMENT_ID__=function(){return De()},l}(),De=function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n]},He=function(){return function(l,n){this.name=l,this.callback=n}}(),Le=function(){function l(l,n,e){this.listeners=[],this.parent=null,this._debugContext=e,this.nativeNode=l,n&&n instanceof Fe&&n.addChild(this)}return Object.defineProperty(l.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),l}(),Fe=function(l){function n(n,e,u){var t=l.call(this,n,e,u)||this;return t.properties={},t.attributes={},t.classes={},t.styles={},t.childNodes=[],t.nativeElement=n,t}return Object(u.c)(n,l),n.prototype.addChild=function(l){l&&(this.childNodes.push(l),l.parent=this)},n.prototype.removeChild=function(l){var n=this.childNodes.indexOf(l);-1!==n&&(l.parent=null,this.childNodes.splice(n,1))},n.prototype.insertChildrenAfter=function(l,n){var e,t=this,r=this.childNodes.indexOf(l);-1!==r&&((e=this.childNodes).splice.apply(e,Object(u.g)([r+1,0],n)),n.forEach(function(n){n.parent&&n.parent.removeChild(n),l.parent=t}))},n.prototype.insertBefore=function(l,n){var e=this.childNodes.indexOf(l);-1===e?this.addChild(n):(n.parent&&n.parent.removeChild(n),n.parent=this,this.childNodes.splice(e,0,n))},n.prototype.query=function(l){return this.queryAll(l)[0]||null},n.prototype.queryAll=function(l){var n=[];return function l(n,e,u){n.childNodes.forEach(function(n){n instanceof Fe&&(e(n)&&u.push(n),l(n,e,u))})}(this,l,n),n},n.prototype.queryAllNodes=function(l){var n=[];return function l(n,e,u){n instanceof Fe&&n.childNodes.forEach(function(n){e(n)&&u.push(n),n instanceof Fe&&l(n,e,u)})}(this,l,n),n},Object.defineProperty(n.prototype,"children",{get:function(){return this.childNodes.filter(function(l){return l instanceof n})},enumerable:!0,configurable:!0}),n.prototype.triggerEventHandler=function(l,n){this.listeners.forEach(function(e){e.name==l&&e.callback(n)})},n}(Le),Je=new Map,Ue=function(l){return Je.get(l)||null};function Be(l){Je.set(l.nativeNode,l)}var Ge=function(){function l(){}return l.prototype.supports=function(l){return dl(l)},l.prototype.create=function(l){return new ze(l)},l}(),We=function(l,n){return n},ze=function(){function l(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||We}return l.prototype.forEachItem=function(l){var n;for(n=this._itHead;null!==n;n=n._next)l(n)},l.prototype.forEachOperation=function(l){for(var n=this._itHead,e=this._removalsHead,u=0,t=null;n||e;){var r=!e||n&&n.currentIndex<$e(e,u,t)?n:e,o=$e(r,u,t),a=r.currentIndex;if(r===e)u--,e=e._nextRemoved;else if(n=n._next,null==r.previousIndex)u++;else{t||(t=[]);var i=o-u,s=a-u;if(i!=s){for(var c=0;c<i;c++){var p=c<t.length?t[c]:t[c]=0,d=p+c;s<=d&&d<i&&(t[c]=p+1)}t[r.previousIndex]=s-i}}o!==a&&l(r,o,a)}},l.prototype.forEachPreviousItem=function(l){var n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)l(n)},l.prototype.forEachAddedItem=function(l){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)l(n)},l.prototype.forEachMovedItem=function(l){var n;for(n=this._movesHead;null!==n;n=n._nextMoved)l(n)},l.prototype.forEachRemovedItem=function(l){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)l(n)},l.prototype.forEachIdentityChange=function(l){var n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)l(n)},l.prototype.diff=function(l){if(null==l&&(l=[]),!dl(l))throw new Error("Error trying to diff '"+V(l)+"'. Only arrays and iterables are allowed");return this.check(l)?this:null},l.prototype.onDestroy=function(){},l.prototype.check=function(l){var n=this;this._reset();var e,u,t,r=this._itHead,o=!1;if(Array.isArray(l)){this.length=l.length;for(var a=0;a<this.length;a++)t=this._trackByFn(a,u=l[a]),null!==r&&z(r.trackById,t)?(o&&(r=this._verifyReinsertion(r,u,t,a)),z(r.item,u)||this._addIdentityChange(r,u)):(r=this._mismatch(r,u,t,a),o=!0),r=r._next}else e=0,function(l,n){if(Array.isArray(l))for(var e=0;e<l.length;e++)n(l[e]);else for(var u=l[G()](),t=void 0;!(t=u.next()).done;)n(t.value)}(l,function(l){t=n._trackByFn(e,l),null!==r&&z(r.trackById,t)?(o&&(r=n._verifyReinsertion(r,l,t,e)),z(r.item,l)||n._addIdentityChange(r,l)):(r=n._mismatch(r,l,t,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=l,this.isDirty},Object.defineProperty(l.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),l.prototype._reset=function(){if(this.isDirty){var l=void 0,n=void 0;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=n)l.previousIndex=l.currentIndex,n=l._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},l.prototype._mismatch=function(l,n,e,u){var t;return null===l?t=this._itTail:(t=l._prev,this._remove(l)),null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(e,u))?(z(l.item,n)||this._addIdentityChange(l,n),this._moveAfter(l,t,u)):null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(e,null))?(z(l.item,n)||this._addIdentityChange(l,n),this._reinsertAfter(l,t,u)):l=this._addAfter(new Ve(n,e),t,u),l},l.prototype._verifyReinsertion=function(l,n,e,u){var t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(e,null);return null!==t?l=this._reinsertAfter(t,l._prev,u):l.currentIndex!=u&&(l.currentIndex=u,this._addToMoves(l,u)),l},l.prototype._truncate=function(l){for(;null!==l;){var n=l._next;this._addToRemovals(this._unlink(l)),l=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},l.prototype._reinsertAfter=function(l,n,e){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);var u=l._prevRemoved,t=l._nextRemoved;return null===u?this._removalsHead=t:u._nextRemoved=t,null===t?this._removalsTail=u:t._prevRemoved=u,this._insertAfter(l,n,e),this._addToMoves(l,e),l},l.prototype._moveAfter=function(l,n,e){return this._unlink(l),this._insertAfter(l,n,e),this._addToMoves(l,e),l},l.prototype._addAfter=function(l,n,e){return this._insertAfter(l,n,e),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l},l.prototype._insertAfter=function(l,n,e){var u=null===n?this._itHead:n._next;return l._next=u,l._prev=n,null===u?this._itTail=l:u._prev=l,null===n?this._itHead=l:n._next=l,null===this._linkedRecords&&(this._linkedRecords=new Qe),this._linkedRecords.put(l),l.currentIndex=e,l},l.prototype._remove=function(l){return this._addToRemovals(this._unlink(l))},l.prototype._unlink=function(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);var n=l._prev,e=l._next;return null===n?this._itHead=e:n._next=e,null===e?this._itTail=n:e._prev=n,l},l.prototype._addToMoves=function(l,n){return l.previousIndex===n?l:(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l,l)},l.prototype._addToRemovals=function(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qe),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l},l.prototype._addIdentityChange=function(l,n){return l.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l},l}(),Ve=function(){return function(l,n){this.item=l,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Ke=function(){function l(){this._head=null,this._tail=null}return l.prototype.add=function(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)},l.prototype.get=function(l,n){var e;for(e=this._head;null!==e;e=e._nextDup)if((null===n||n<=e.currentIndex)&&z(e.trackById,l))return e;return null},l.prototype.remove=function(l){var n=l._prevDup,e=l._nextDup;return null===n?this._head=e:n._nextDup=e,null===e?this._tail=n:e._prevDup=n,null===this._head},l}(),Qe=function(){function l(){this.map=new Map}return l.prototype.put=function(l){var n=l.trackById,e=this.map.get(n);e||(e=new Ke,this.map.set(n,e)),e.add(l)},l.prototype.get=function(l,n){var e=this.map.get(l);return e?e.get(l,n):null},l.prototype.remove=function(l){var n=l.trackById;return this.map.get(n).remove(l)&&this.map.delete(n),l},Object.defineProperty(l.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),l.prototype.clear=function(){this.map.clear()},l}();function $e(l,n,e){var u=l.previousIndex;if(null===u)return u;var t=0;return e&&u<e.length&&(t=e[u]),u+n+t}var Ye=function(){function l(){}return l.prototype.supports=function(l){return l instanceof Map||hl(l)},l.prototype.create=function(){return new Xe},l}(),Xe=function(){function l(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(l.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),l.prototype.forEachItem=function(l){var n;for(n=this._mapHead;null!==n;n=n._next)l(n)},l.prototype.forEachPreviousItem=function(l){var n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)l(n)},l.prototype.forEachChangedItem=function(l){var n;for(n=this._changesHead;null!==n;n=n._nextChanged)l(n)},l.prototype.forEachAddedItem=function(l){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)l(n)},l.prototype.forEachRemovedItem=function(l){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)l(n)},l.prototype.diff=function(l){if(l){if(!(l instanceof Map||hl(l)))throw new Error("Error trying to diff '"+V(l)+"'. Only maps and objects are allowed")}else l=new Map;return this.check(l)?this:null},l.prototype.onDestroy=function(){},l.prototype.check=function(l){var n=this;this._reset();var e=this._mapHead;if(this._appendAfter=null,this._forEach(l,function(l,u){if(e&&e.key===u)n._maybeAddToChanges(e,l),n._appendAfter=e,e=e._next;else{var t=n._getOrCreateRecordForKey(u,l);e=n._insertBeforeOrAppend(e,t)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(var u=e;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},l.prototype._insertBeforeOrAppend=function(l,n){if(l){var e=l._prev;return n._next=l,n._prev=e,l._prev=n,e&&(e._next=n),l===this._mapHead&&(this._mapHead=n),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null},l.prototype._getOrCreateRecordForKey=function(l,n){if(this._records.has(l)){var e=this._records.get(l);this._maybeAddToChanges(e,n);var u=e._prev,t=e._next;return u&&(u._next=t),t&&(t._prev=u),e._next=null,e._prev=null,e}var r=new Ze(l);return this._records.set(l,r),r.currentValue=n,this._addToAdditions(r),r},l.prototype._reset=function(){if(this.isDirty){var l=void 0;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},l.prototype._maybeAddToChanges=function(l,n){z(n,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=n,this._addToChanges(l))},l.prototype._addToAdditions=function(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)},l.prototype._addToChanges=function(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)},l.prototype._forEach=function(l,n){l instanceof Map?l.forEach(n):Object.keys(l).forEach(function(e){return n(l[e],e)})},l}(),Ze=function(){return function(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),lu=function(){function l(l){this.factories=l}return l.create=function(n,e){if(null!=e){var u=e.factories.slice();n=n.concat(u)}return new l(n)},l.extend=function(n){return{provide:l,useFactory:function(e){if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return l.create(n,e)},deps:[[l,new el,new ll]]}},l.prototype.find=function(l){var n,e=this.factories.find(function(n){return n.supports(l)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+l+"' of type '"+((n=l).name||typeof n)+"'")},l.ngInjectableDef=M({providedIn:"root",factory:function(){return new l([new Ge])}}),l}(),nu=function(){function l(l){this.factories=l}return l.create=function(n,e){if(e){var u=e.factories.slice();n=n.concat(u)}return new l(n)},l.extend=function(n){return{provide:l,useFactory:function(e){if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return l.create(n,e)},deps:[[l,new el,new ll]]}},l.prototype.find=function(l){var n=this.factories.find(function(n){return n.supports(l)});if(n)return n;throw new Error("Cannot find a differ supporting object '"+l+"'")},l.ngInjectableDef=M({providedIn:"root",factory:function(){return new l([new Ye])}}),l}(),eu=[new Ye],uu=new lu([new Ge]),tu=new nu(eu),ru=ke(null,"core",[{provide:Vn,useValue:"unknown"},{provide:Oe,deps:[vl]},{provide:ve,deps:[]},{provide:Qn,deps:[]}]),ou=new I("LocaleId");function au(){return uu}function iu(){return tu}function su(l){return l||"en-US"}var cu=function(){return function(l){}}();function pu(l,n,e){var u=l.state,t=1792&u;return t===n?(l.state=-1793&u|e,l.initIndex=-1,!0):t===e}function du(l,n,e){return(1792&l.state)===n&&l.initIndex<=e&&(l.initIndex=e+1,!0)}function hu(l,n){return l.nodes[n]}function fu(l,n){return l.nodes[n]}function mu(l,n){return l.nodes[n]}function gu(l,n){return l.nodes[n]}function yu(l,n){return l.nodes[n]}var bu={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function vu(l,n,e,u){var t="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+n+"'. Current value: '"+e+"'.";return u&&(t+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(l,n){var e=new Error(l);return wu(e,n),e}(t,l)}function wu(l,n){l[In]=n,l[Rn]=n.logError.bind(n)}function xu(l){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+l)}var Cu=function(){},ku=new Map;function ju(l){var n=ku.get(l);return n||(n=V(l)+"_"+ku.size,ku.set(l,n)),n}function Ou(l,n,e,u){if(cl.isWrapped(u)){u=cl.unwrap(u);var t=l.def.nodes[n].bindingIndex+e,r=cl.unwrap(l.oldValues[t]);l.oldValues[t]=new cl(r)}return u}var Su="$$undefined",Pu="$$empty";function Tu(l){return{id:Su,styles:l.styles,encapsulation:l.encapsulation,data:l.data}}var Au=0;function Mu(l,n,e,u){return!(!(2&l.state)&&z(l.oldValues[n.bindingIndex+e],u))}function _u(l,n,e,u){return!!Mu(l,n,e,u)&&(l.oldValues[n.bindingIndex+e]=u,!0)}function Iu(l,n,e,u){var t=l.oldValues[n.bindingIndex+e];if(1&l.state||!sl(t,u)){var r=n.bindings[e].name;throw vu(bu.createDebugContext(l,n.nodeIndex),r+": "+t,r+": "+u,0!=(1&l.state))}}function Eu(l){for(var n=l;n;)2&n.def.flags&&(n.state|=8),n=n.viewContainerParent||n.parent}function Ru(l,n){for(var e=l;e&&e!==n;)e.state|=64,e=e.viewContainerParent||e.parent}function Nu(l,n,e,u){try{return Eu(33554432&l.def.nodes[n].flags?fu(l,n).componentView:l),bu.handleEvent(l,n,e,u)}catch(t){l.root.errorHandler.handleError(t)}}function qu(l){return l.parent?fu(l.parent,l.parentNodeDef.nodeIndex):null}function Du(l){return l.parent?l.parentNodeDef.parent:null}function Hu(l,n){switch(201347067&n.flags){case 1:return fu(l,n.nodeIndex).renderElement;case 2:return hu(l,n.nodeIndex).renderText}}function Lu(l){return!!l.parent&&!!(32768&l.parentNodeDef.flags)}function Fu(l){return!(!l.parent||32768&l.parentNodeDef.flags)}function Ju(l){return 1<<l%32}function Uu(l){var n={},e=0,t={};return l&&l.forEach(function(l){var r=Object(u.f)(l,2),o=r[0],a=r[1];"number"==typeof o?(n[o]=a,e|=Ju(o)):t[o]=a}),{matchedQueries:n,references:t,matchedQueryIds:e}}function Bu(l,n){return l.map(function(l){var e,t,r;return Array.isArray(l)?(r=(e=Object(u.f)(l,2))[0],t=e[1]):(r=0,t=l),t&&("function"==typeof t||"object"==typeof t)&&n&&Object.defineProperty(t,ml,{value:n,configurable:!0}),{flags:r,token:t,tokenKey:ju(t)}})}function Gu(l,n,e){var u=e.renderParent;return u?0==(1&u.flags)||0==(33554432&u.flags)||u.element.componentRendererType&&u.element.componentRendererType.encapsulation===X.Native?fu(l,e.renderParent.nodeIndex).renderElement:void 0:n}var Wu=new WeakMap;function zu(l){var n=Wu.get(l);return n||((n=l(function(){return Cu})).factory=l,Wu.set(l,n)),n}function Vu(l,n,e,u,t){3===n&&(e=l.renderer.parentNode(Hu(l,l.def.lastRenderRootNode))),Ku(l,n,0,l.def.nodes.length-1,e,u,t)}function Ku(l,n,e,u,t,r,o){for(var a=e;a<=u;a++){var i=l.def.nodes[a];11&i.flags&&$u(l,i,n,t,r,o),a+=i.childCount}}function Qu(l,n,e,u,t,r){for(var o=l;o&&!Lu(o);)o=o.parent;for(var a=o.parent,i=Du(o),s=i.nodeIndex+i.childCount,c=i.nodeIndex+1;c<=s;c++){var p=a.def.nodes[c];p.ngContentIndex===n&&$u(a,p,e,u,t,r),c+=p.childCount}if(!a.parent){var d=l.root.projectableNodes[n];if(d)for(c=0;c<d.length;c++)Yu(l,d[c],e,u,t,r)}}function $u(l,n,e,u,t,r){if(8&n.flags)Qu(l,n.ngContent.index,e,u,t,r);else{var o=Hu(l,n);if(3===e&&33554432&n.flags&&48&n.bindingFlags?(16&n.bindingFlags&&Yu(l,o,e,u,t,r),32&n.bindingFlags&&Yu(fu(l,n.nodeIndex).componentView,o,e,u,t,r)):Yu(l,o,e,u,t,r),16777216&n.flags)for(var a=fu(l,n.nodeIndex).viewContainer._embeddedViews,i=0;i<a.length;i++)Vu(a[i],e,u,t,r);1&n.flags&&!n.element.name&&Ku(l,e,n.nodeIndex+1,n.nodeIndex+n.childCount,u,t,r)}}function Yu(l,n,e,u,t,r){var o=l.renderer;switch(e){case 1:o.appendChild(u,n);break;case 2:o.insertBefore(u,n,t);break;case 3:o.removeChild(u,n);break;case 0:r.push(n)}}var Xu=/^:([^:]+):(.+)$/;function Zu(l){if(":"===l[0]){var n=l.match(Xu);return[n[1],n[2]]}return["",l]}function lt(l){for(var n=0,e=0;e<l.length;e++)n|=l[e].flags;return n}function nt(l,n,e,u,t,r,o,a,i,s,c,p,d,h,f,m,g,y,b,v){switch(l){case 1:return n+et(e)+u;case 2:return n+et(e)+u+et(t)+r;case 3:return n+et(e)+u+et(t)+r+et(o)+a;case 4:return n+et(e)+u+et(t)+r+et(o)+a+et(i)+s;case 5:return n+et(e)+u+et(t)+r+et(o)+a+et(i)+s+et(c)+p;case 6:return n+et(e)+u+et(t)+r+et(o)+a+et(i)+s+et(c)+p+et(d)+h;case 7:return n+et(e)+u+et(t)+r+et(o)+a+et(i)+s+et(c)+p+et(d)+h+et(f)+m;case 8:return n+et(e)+u+et(t)+r+et(o)+a+et(i)+s+et(c)+p+et(d)+h+et(f)+m+et(g)+y;case 9:return n+et(e)+u+et(t)+r+et(o)+a+et(i)+s+et(c)+p+et(d)+h+et(f)+m+et(g)+y+et(b)+v;default:throw new Error("Does not support more than 9 expressions")}}function et(l){return null!=l?l.toString():""}function ut(l,n,e,u,t,r){l|=1;var o=Uu(n);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:l,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o.matchedQueries,matchedQueryIds:o.matchedQueryIds,references:o.references,ngContentIndex:e,childCount:u,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:r?zu(r):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:t||Cu},provider:null,text:null,query:null,ngContent:null}}function tt(l,n,e,t,r,o,a,i,s,c,p,d){var h;void 0===a&&(a=[]),c||(c=Cu);var f=Uu(e),m=f.matchedQueries,g=f.references,y=f.matchedQueryIds,b=null,v=null;o&&(b=(h=Object(u.f)(Zu(o),2))[0],v=h[1]),i=i||[];for(var w=new Array(i.length),x=0;x<i.length;x++){var C=Object(u.f)(i[x],3),k=C[0],j=C[1],O=C[2],S=Object(u.f)(Zu(j),2),P=S[0],T=S[1],A=void 0,M=void 0;switch(15&k){case 4:M=O;break;case 1:case 8:A=O}w[x]={flags:k,ns:P,name:T,nonMinifiedName:T,securityContext:A,suffix:M}}s=s||[];var _=new Array(s.length);for(x=0;x<s.length;x++){var I=Object(u.f)(s[x],2);_[x]={type:0,target:I[0],eventName:I[1],propName:null}}var E=(a=a||[]).map(function(l){var n=Object(u.f)(l,2),e=n[0],t=n[1],r=Object(u.f)(Zu(e),2);return[r[0],r[1],t]});return d=function(l){if(l&&l.id===Su){var n=null!=l.encapsulation&&l.encapsulation!==X.None||l.styles.length||Object.keys(l.data).length;l.id=n?"c"+Au++:Pu}return l&&l.id===Pu&&(l=null),l||null}(d),p&&(n|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:l,flags:n|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:y,references:g,ngContentIndex:t,childCount:r,bindings:w,bindingFlags:lt(w),outputs:_,element:{ns:b,name:v,attrs:E,template:null,componentProvider:null,componentView:p||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||Cu},provider:null,text:null,query:null,ngContent:null}}function rt(l,n,e){var t,r=e.element,o=l.root.selectorOrNode,a=l.renderer;if(l.parent||!o){t=r.name?a.createElement(r.name,r.ns):a.createComment("");var i=Gu(l,n,e);i&&a.appendChild(i,t)}else t=a.selectRootElement(o,!!r.componentRendererType&&r.componentRendererType.encapsulation===X.ShadowDom);if(r.attrs)for(var s=0;s<r.attrs.length;s++){var c=Object(u.f)(r.attrs[s],3);a.setAttribute(t,c[1],c[2],c[0])}return t}function ot(l,n,e,u){for(var t=0;t<e.outputs.length;t++){var r=e.outputs[t],o=at(l,e.nodeIndex,(p=r.eventName,(c=r.target)?c+":"+p:p)),a=r.target,i=l;"component"===r.target&&(a=null,i=n);var s=i.renderer.listen(a||u,r.eventName,o);l.disposables[e.outputIndex+t]=s}var c,p}function at(l,n,e){return function(u){return Nu(l,n,e,u)}}function it(l,n,e,u){if(!_u(l,n,e,u))return!1;var t=n.bindings[e],r=fu(l,n.nodeIndex),o=r.renderElement,a=t.name;switch(15&t.flags){case 1:!function(l,n,e,u,t,r){var o=n.securityContext,a=o?l.root.sanitizer.sanitize(o,r):r;a=null!=a?a.toString():null;var i=l.renderer;null!=r?i.setAttribute(e,t,a,u):i.removeAttribute(e,t,u)}(l,t,o,t.ns,a,u);break;case 2:!function(l,n,e,u){var t=l.renderer;u?t.addClass(n,e):t.removeClass(n,e)}(l,o,a,u);break;case 4:!function(l,n,e,u,t){var r=l.root.sanitizer.sanitize(Yl.STYLE,t);if(null!=r){r=r.toString();var o=n.suffix;null!=o&&(r+=o)}else r=null;var a=l.renderer;null!=r?a.setStyle(e,u,r):a.removeStyle(e,u)}(l,t,o,a,u);break;case 8:!function(l,n,e,u,t){var r=n.securityContext,o=r?l.root.sanitizer.sanitize(r,t):t;l.renderer.setProperty(e,u,o)}(33554432&n.flags&&32&t.flags?r.componentView:l,t,o,a,u)}return!0}var st=new Object,ct=ju(vl),pt=ju(yl),dt=ju(Ul);function ht(l,n,e,u){return e=$(e),{index:-1,deps:Bu(u,V(n)),flags:l,token:n,value:e}}function ft(l,n,e){void 0===e&&(e=vl.THROW_IF_NOT_FOUND);var u,t,r=rl(l);try{if(8&n.flags)return n.token;if(2&n.flags&&(e=null),1&n.flags)return l._parent.get(n.token,e);var o=n.tokenKey;switch(o){case ct:case pt:case dt:return l}var a,i=l._def.providersByKey[o];if(i){var s=l._providers[i.index];return void 0===s&&(s=l._providers[i.index]=mt(l,i)),s===st?void 0:s}if((a=_(n.token))&&(u=l,null!=(t=a).providedIn&&(function(l,n){return l._def.modules.indexOf(t.providedIn)>-1}(u)||"root"===t.providedIn&&u._def.isRoot))){var c=l._providers.length;return l._def.providersByKey[n.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:n.token},l._providers[c]=st,l._providers[c]=mt(l,l._def.providersByKey[n.tokenKey])}return 4&n.flags?e:l._parent.get(n.token,e)}finally{rl(r)}}function mt(l,n){var e;switch(201347067&n.flags){case 512:e=function(l,n,e){var t=e.length;switch(t){case 0:return new n;case 1:return new n(ft(l,e[0]));case 2:return new n(ft(l,e[0]),ft(l,e[1]));case 3:return new n(ft(l,e[0]),ft(l,e[1]),ft(l,e[2]));default:for(var r=new Array(t),o=0;o<t;o++)r[o]=ft(l,e[o]);return new(n.bind.apply(n,Object(u.g)([void 0],r)))}}(l,n.value,n.deps);break;case 1024:e=function(l,n,e){var t=e.length;switch(t){case 0:return n();case 1:return n(ft(l,e[0]));case 2:return n(ft(l,e[0]),ft(l,e[1]));case 3:return n(ft(l,e[0]),ft(l,e[1]),ft(l,e[2]));default:for(var r=Array(t),o=0;o<t;o++)r[o]=ft(l,e[o]);return n.apply(void 0,Object(u.g)(r))}}(l,n.value,n.deps);break;case 2048:e=ft(l,n.deps[0]);break;case 256:e=n.value}return e===st||null==e||"object"!=typeof e||131072&n.flags||"function"!=typeof e.ngOnDestroy||(n.flags|=131072),void 0===e?st:e}function gt(l,n){var e=l.viewContainer._embeddedViews;if((null==n||n>=e.length)&&(n=e.length-1),n<0)return null;var u=e[n];return u.viewContainerParent=null,wt(e,n),bu.dirtyParentQueries(u),bt(u),u}function yt(l,n,e){var u=n?Hu(n,n.def.lastRenderRootNode):l.renderElement,t=e.renderer.parentNode(u),r=e.renderer.nextSibling(u);Vu(e,2,t,r,void 0)}function bt(l){Vu(l,3,null,null,void 0)}function vt(l,n,e){n>=l.length?l.push(e):l.splice(n,0,e)}function wt(l,n){n>=l.length-1?l.pop():l.splice(n,1)}var xt=new Object;function Ct(l,n,e,u,t,r){return new kt(l,n,e,u,t,r)}var kt=function(l){function n(n,e,u,t,r,o){var a=l.call(this)||this;return a.selector=n,a.componentType=e,a._inputs=t,a._outputs=r,a.ngContentSelectors=o,a.viewDefFactory=u,a}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"inputs",{get:function(){var l=[],n=this._inputs;for(var e in n)l.push({propName:e,templateName:n[e]});return l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outputs",{get:function(){var l=[];for(var n in this._outputs)l.push({propName:n,templateName:this._outputs[n]});return l},enumerable:!0,configurable:!0}),n.prototype.create=function(l,n,e,u){if(!u)throw new Error("ngModule should be provided");var t=zu(this.viewDefFactory),r=t.nodes[0].element.componentProvider.nodeIndex,o=bu.createRootView(l,n||[],e,t,u,xt),a=mu(o,r).instance;return e&&o.renderer.setAttribute(fu(o,0).renderElement,"ng-version",Zl.full),new jt(o,new Tt(o),a)},n}(Nl),jt=function(l){function n(n,e,u){var t=l.call(this)||this;return t._view=n,t._viewRef=e,t._component=u,t._elDef=t._view.def.nodes[0],t.hostView=e,t.changeDetectorRef=e,t.instance=u,t}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"location",{get:function(){return new Gl(fu(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new It(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this._viewRef.destroy()},n.prototype.onDestroy=function(l){this._viewRef.onDestroy(l)},n}(Rl);function Ot(l,n,e){return new St(l,n,e)}var St=function(){function l(l,n,e){this._view=l,this._elDef=n,this._data=e,this._embeddedViews=[]}return Object.defineProperty(l.prototype,"element",{get:function(){return new Gl(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"injector",{get:function(){return new It(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parentInjector",{get:function(){for(var l=this._view,n=this._elDef.parent;!n&&l;)n=Du(l),l=l.parent;return l?new It(l,n):new It(this._view,null)},enumerable:!0,configurable:!0}),l.prototype.clear=function(){for(var l=this._embeddedViews.length-1;l>=0;l--){var n=gt(this._data,l);bu.destroyView(n)}},l.prototype.get=function(l){var n=this._embeddedViews[l];if(n){var e=new Tt(n);return e.attachToViewContainerRef(this),e}return null},Object.defineProperty(l.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),l.prototype.createEmbeddedView=function(l,n,e){var u=l.createEmbeddedView(n||{});return this.insert(u,e),u},l.prototype.createComponent=function(l,n,e,u,t){var r=e||this.parentInjector;t||l instanceof Jl||(t=r.get(Ul));var o=l.create(r,u,void 0,t);return this.insert(o.hostView,n),o},l.prototype.insert=function(l,n){if(l.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var e,u,t,r,o=l;return r=(e=this._data).viewContainer._embeddedViews,null==(u=n)&&(u=r.length),(t=o._view).viewContainerParent=this._view,vt(r,u,t),function(l,n){var e=qu(n);if(e&&e!==l&&!(16&n.state)){n.state|=16;var u=e.template._projectedViews;u||(u=e.template._projectedViews=[]),u.push(n),function(l,e){if(!(4&e.flags)){n.parent.def.nodeFlags|=4,e.flags|=4;for(var u=e.parent;u;)u.childFlags|=4,u=u.parent}}(0,n.parentNodeDef)}}(e,t),bu.dirtyParentQueries(t),yt(e,u>0?r[u-1]:null,t),o.attachToViewContainerRef(this),l},l.prototype.move=function(l,n){if(l.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var e,u,t,r,o,a=this._embeddedViews.indexOf(l._view);return t=n,o=(r=(e=this._data).viewContainer._embeddedViews)[u=a],wt(r,u),null==t&&(t=r.length),vt(r,t,o),bu.dirtyParentQueries(o),bt(o),yt(e,t>0?r[t-1]:null,o),l},l.prototype.indexOf=function(l){return this._embeddedViews.indexOf(l._view)},l.prototype.remove=function(l){var n=gt(this._data,l);n&&bu.destroyView(n)},l.prototype.detach=function(l){var n=gt(this._data,l);return n?new Tt(n):null},l}();function Pt(l){return new Tt(l)}var Tt=function(){function l(l){this._view=l,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(l.prototype,"rootNodes",{get:function(){return Vu(this._view,0,void 0,void 0,l=[]),l;var l},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),l.prototype.markForCheck=function(){Eu(this._view)},l.prototype.detach=function(){this._view.state&=-5},l.prototype.detectChanges=function(){var l=this._view.root.rendererFactory;l.begin&&l.begin();try{bu.checkAndUpdateView(this._view)}finally{l.end&&l.end()}},l.prototype.checkNoChanges=function(){bu.checkNoChangesView(this._view)},l.prototype.reattach=function(){this._view.state|=4},l.prototype.onDestroy=function(l){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(l)},l.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),bu.destroyView(this._view)},l.prototype.detachFromAppRef=function(){this._appRef=null,bt(this._view),bu.dirtyParentQueries(this._view)},l.prototype.attachToAppRef=function(l){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l},l.prototype.attachToViewContainerRef=function(l){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=l},l}();function At(l,n){return new Mt(l,n)}var Mt=function(l){function n(n,e){var u=l.call(this)||this;return u._parentView=n,u._def=e,u}return Object(u.c)(n,l),n.prototype.createEmbeddedView=function(l){return new Tt(bu.createEmbeddedView(this._parentView,this._def,this._def.element.template,l))},Object.defineProperty(n.prototype,"elementRef",{get:function(){return new Gl(fu(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),n}(On);function _t(l,n){return new It(l,n)}var It=function(){function l(l,n){this.view=l,this.elDef=n}return l.prototype.get=function(l,n){return void 0===n&&(n=vl.THROW_IF_NOT_FOUND),bu.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:l,tokenKey:ju(l)},n)},l}();function Et(l,n){var e=l.def.nodes[n];if(1&e.flags){var u=fu(l,e.nodeIndex);return e.element.template?u.template:u.renderElement}if(2&e.flags)return hu(l,e.nodeIndex).renderText;if(20240&e.flags)return mu(l,e.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+n)}function Rt(l){return new Nt(l.renderer)}var Nt=function(){function l(l){this.delegate=l}return l.prototype.selectRootElement=function(l){return this.delegate.selectRootElement(l)},l.prototype.createElement=function(l,n){var e=Object(u.f)(Zu(n),2),t=this.delegate.createElement(e[1],e[0]);return l&&this.delegate.appendChild(l,t),t},l.prototype.createViewRoot=function(l){return l},l.prototype.createTemplateAnchor=function(l){var n=this.delegate.createComment("");return l&&this.delegate.appendChild(l,n),n},l.prototype.createText=function(l,n){var e=this.delegate.createText(n);return l&&this.delegate.appendChild(l,e),e},l.prototype.projectNodes=function(l,n){for(var e=0;e<n.length;e++)this.delegate.appendChild(l,n[e])},l.prototype.attachViewAfter=function(l,n){for(var e=this.delegate.parentNode(l),u=this.delegate.nextSibling(l),t=0;t<n.length;t++)this.delegate.insertBefore(e,n[t],u)},l.prototype.detachView=function(l){for(var n=0;n<l.length;n++){var e=l[n],u=this.delegate.parentNode(e);this.delegate.removeChild(u,e)}},l.prototype.destroyView=function(l,n){for(var e=0;e<n.length;e++)this.delegate.destroyNode(n[e])},l.prototype.listen=function(l,n,e){return this.delegate.listen(l,n,e)},l.prototype.listenGlobal=function(l,n,e){return this.delegate.listen(l,n,e)},l.prototype.setElementProperty=function(l,n,e){this.delegate.setProperty(l,n,e)},l.prototype.setElementAttribute=function(l,n,e){var t=Object(u.f)(Zu(n),2),r=t[0],o=t[1];null!=e?this.delegate.setAttribute(l,o,e,r):this.delegate.removeAttribute(l,o,r)},l.prototype.setBindingDebugInfo=function(l,n,e){},l.prototype.setElementClass=function(l,n,e){e?this.delegate.addClass(l,n):this.delegate.removeClass(l,n)},l.prototype.setElementStyle=function(l,n,e){null!=e?this.delegate.setStyle(l,n,e):this.delegate.removeStyle(l,n)},l.prototype.invokeElementMethod=function(l,n,e){l[n].apply(l,e)},l.prototype.setText=function(l,n){this.delegate.setValue(l,n)},l.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},l}();function qt(l,n,e,u){return new Dt(l,n,e,u)}var Dt=function(){function l(l,n,e,u){this._moduleType=l,this._parent=n,this._bootstrapComponents=e,this._def=u,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(l){for(var n=l._def,e=l._providers=new Array(n.providers.length),u=0;u<n.providers.length;u++){var t=n.providers[u];4096&t.flags||void 0===e[u]&&(e[u]=mt(l,t))}}(this)}return l.prototype.get=function(l,n,e){void 0===n&&(n=vl.THROW_IF_NOT_FOUND),void 0===e&&(e=ul.Default);var u=0;return e&ul.SkipSelf?u|=1:e&ul.Self&&(u|=4),ft(this,{token:l,tokenKey:ju(l),flags:u},n)},Object.defineProperty(l.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"componentFactoryResolver",{get:function(){return this.get(Ll)},enumerable:!0,configurable:!0}),l.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+V(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(l,n){for(var e=l._def,u=new Set,t=0;t<e.providers.length;t++)if(131072&e.providers[t].flags){var r=l._providers[t];if(r&&r!==st){var o=r.ngOnDestroy;"function"!=typeof o||u.has(r)||(o.apply(r),u.add(r))}}}(this),this._destroyListeners.forEach(function(l){return l()})},l.prototype.onDestroy=function(l){this._destroyListeners.push(l)},l}(),Ht=ju(zl),Lt=ju(Ql),Ft=ju(Gl),Jt=ju(Re),Ut=ju(On),Bt=ju(qe),Gt=ju(vl),Wt=ju(yl);function zt(l,n,e,t,r,o,a,i){var s=[];if(a)for(var c in a){var p=Object(u.f)(a[c],2);s[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var d=[];if(i)for(var h in i)d.push({type:1,propName:h,target:null,eventName:i[h]});return Kt(l,n|=16384,e,t,r,r,o,s,d)}function Vt(l,n,e){return Kt(-1,l|=16,null,0,n,n,e)}function Kt(l,n,e,u,t,r,o,a,i){var s=Uu(e),c=s.matchedQueries,p=s.references,d=s.matchedQueryIds;i||(i=[]),a||(a=[]),r=$(r);var h=Bu(o,V(t));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:l,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:p,ngContentIndex:-1,childCount:u,bindings:a,bindingFlags:lt(a),outputs:i,element:null,provider:{token:t,value:r,deps:h},text:null,query:null,ngContent:null}}function Qt(l,n){return Zt(l,n)}function $t(l,n){for(var e=l;e.parent&&!Lu(e);)e=e.parent;return lr(e.parent,Du(e),!0,n.provider.value,n.provider.deps)}function Yt(l,n){var e=lr(l,n.parent,(32768&n.flags)>0,n.provider.value,n.provider.deps);if(n.outputs.length)for(var u=0;u<n.outputs.length;u++){var t=n.outputs[u],r=e[t.propName];if(!Fn(r))throw new Error("@Output "+t.propName+" not initialized in '"+e.constructor.name+"'.");var o=r.subscribe(Xt(l,n.parent.nodeIndex,t.eventName));l.disposables[n.outputIndex+u]=o.unsubscribe.bind(o)}return e}function Xt(l,n,e){return function(u){return Nu(l,n,e,u)}}function Zt(l,n){var e=(8192&n.flags)>0,t=n.provider;switch(201347067&n.flags){case 512:return lr(l,n.parent,e,t.value,t.deps);case 1024:return function(l,n,e,t,r){var o=r.length;switch(o){case 0:return t();case 1:return t(er(l,n,e,r[0]));case 2:return t(er(l,n,e,r[0]),er(l,n,e,r[1]));case 3:return t(er(l,n,e,r[0]),er(l,n,e,r[1]),er(l,n,e,r[2]));default:for(var a=Array(o),i=0;i<o;i++)a[i]=er(l,n,e,r[i]);return t.apply(void 0,Object(u.g)(a))}}(l,n.parent,e,t.value,t.deps);case 2048:return er(l,n.parent,e,t.deps[0]);case 256:return t.value}}function lr(l,n,e,t,r){var o=r.length;switch(o){case 0:return new t;case 1:return new t(er(l,n,e,r[0]));case 2:return new t(er(l,n,e,r[0]),er(l,n,e,r[1]));case 3:return new t(er(l,n,e,r[0]),er(l,n,e,r[1]),er(l,n,e,r[2]));default:for(var a=new Array(o),i=0;i<o;i++)a[i]=er(l,n,e,r[i]);return new(t.bind.apply(t,Object(u.g)([void 0],a)))}}var nr={};function er(l,n,e,u,t){if(void 0===t&&(t=vl.THROW_IF_NOT_FOUND),8&u.flags)return u.token;var r=l;2&u.flags&&(t=null);var o=u.tokenKey;o===Bt&&(e=!(!n||!n.element.componentView)),n&&1&u.flags&&(e=!1,n=n.parent);for(var a=l;a;){if(n)switch(o){case Ht:return Rt(ur(a,n,e));case Lt:return ur(a,n,e).renderer;case Ft:return new Gl(fu(a,n.nodeIndex).renderElement);case Jt:return fu(a,n.nodeIndex).viewContainer;case Ut:if(n.element.template)return fu(a,n.nodeIndex).template;break;case Bt:return Pt(ur(a,n,e));case Gt:case Wt:return _t(a,n);default:var i=(e?n.element.allProviders:n.element.publicProviders)[o];if(i){var s=mu(a,i.nodeIndex);return s||(s={instance:Zt(a,i)},a.nodes[i.nodeIndex]=s),s.instance}}e=Lu(a),n=Du(a),a=a.parent,4&u.flags&&(a=null)}var c=r.root.injector.get(u.token,nr);return c!==nr||t===nr?c:r.root.ngModule.injector.get(u.token,t)}function ur(l,n,e){var u;if(e)u=fu(l,n.nodeIndex).componentView;else for(u=l;u.parent&&!Lu(u);)u=u.parent;return u}function tr(l,n,e,u,t,r){if(32768&e.flags){var o=fu(l,e.parent.nodeIndex).componentView;2&o.def.flags&&(o.state|=8)}if(n.instance[e.bindings[u].name]=t,524288&e.flags){r=r||{};var a=cl.unwrap(l.oldValues[e.bindingIndex+u]);r[e.bindings[u].nonMinifiedName]=new pl(a,t,0!=(2&l.state))}return l.oldValues[e.bindingIndex+u]=t,r}function rr(l,n){if(l.def.nodeFlags&n)for(var e=l.def.nodes,u=0,t=0;t<e.length;t++){var r=e[t],o=r.parent;for(!o&&r.flags&n&&ar(l,t,r.flags&n,u++),0==(r.childFlags&n)&&(t+=r.childCount);o&&1&o.flags&&t===o.nodeIndex+o.childCount;)o.directChildFlags&n&&(u=or(l,o,n,u)),o=o.parent}}function or(l,n,e,u){for(var t=n.nodeIndex+1;t<=n.nodeIndex+n.childCount;t++){var r=l.def.nodes[t];r.flags&e&&ar(l,t,r.flags&e,u++),t+=r.childCount}return u}function ar(l,n,e,u){var t=mu(l,n);if(t){var r=t.instance;r&&(bu.setCurrentNode(l,n),1048576&e&&du(l,512,u)&&r.ngAfterContentInit(),2097152&e&&r.ngAfterContentChecked(),4194304&e&&du(l,768,u)&&r.ngAfterViewInit(),8388608&e&&r.ngAfterViewChecked(),131072&e&&r.ngOnDestroy())}}function ir(l,n,e){var u=[];for(var t in e)u.push({propName:t,bindingType:e[t]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:l,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:n,filterId:Ju(n),bindings:u},ngContent:null}}function sr(l){for(var n=l.def.nodeMatchedQueries;l.parent&&Fu(l);){var e=l.parentNodeDef;l=l.parent;for(var u=e.nodeIndex+e.childCount,t=0;t<=u;t++)67108864&(r=l.def.nodes[t]).flags&&536870912&r.flags&&(r.query.filterId&n)===r.query.filterId&&yu(l,t).setDirty(),!(1&r.flags&&t+r.childCount<e.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(t+=r.childCount)}if(134217728&l.def.nodeFlags)for(t=0;t<l.def.nodes.length;t++){var r;134217728&(r=l.def.nodes[t]).flags&&536870912&r.flags&&yu(l,t).setDirty(),t+=r.childCount}}function cr(l,n){var e=yu(l,n.nodeIndex);if(e.dirty){var u,t=void 0;if(67108864&n.flags){var r=n.parent.parent;t=pr(l,r.nodeIndex,r.nodeIndex+r.childCount,n.query,[]),u=mu(l,n.parent.nodeIndex).instance}else 134217728&n.flags&&(t=pr(l,0,l.def.nodes.length-1,n.query,[]),u=l.component);e.reset(t);for(var o=n.query.bindings,a=!1,i=0;i<o.length;i++){var s=o[i],c=void 0;switch(s.bindingType){case 0:c=e.first;break;case 1:c=e,a=!0}u[s.propName]=c}a&&e.notifyOnChanges()}}function pr(l,n,e,u,t){for(var r=n;r<=e;r++){var o=l.def.nodes[r],a=o.matchedQueries[u.id];if(null!=a&&t.push(dr(l,o,a)),1&o.flags&&o.element.template&&(o.element.template.nodeMatchedQueries&u.filterId)===u.filterId){var i=fu(l,r);if((o.childMatchedQueries&u.filterId)===u.filterId&&(pr(l,r+1,r+o.childCount,u,t),r+=o.childCount),16777216&o.flags)for(var s=i.viewContainer._embeddedViews,c=0;c<s.length;c++){var p=s[c],d=qu(p);d&&d===i&&pr(p,0,p.def.nodes.length-1,u,t)}var h=i.template._projectedViews;if(h)for(c=0;c<h.length;c++){var f=h[c];pr(f,0,f.def.nodes.length-1,u,t)}}(o.childMatchedQueries&u.filterId)!==u.filterId&&(r+=o.childCount)}return t}function dr(l,n,e){if(null!=e)switch(e){case 1:return fu(l,n.nodeIndex).renderElement;case 0:return new Gl(fu(l,n.nodeIndex).renderElement);case 2:return fu(l,n.nodeIndex).template;case 3:return fu(l,n.nodeIndex).viewContainer;case 4:return mu(l,n.nodeIndex).instance}}function hr(l,n,e){var u=Gu(l,n,e);u&&Qu(l,e.ngContent.index,1,u,null,void 0)}function fr(l,n){return gr(128,l,new Array(n+1))}function mr(l,n){for(var e=Object.keys(n),u=e.length,t=new Array(u),r=0;r<u;r++){var o=e[r];t[n[o]]=o}return gr(64,l,t)}function gr(l,n,e){for(var u=new Array(e.length),t=0;t<e.length;t++){var r=e[t];u[t]={flags:8,name:r,ns:null,nonMinifiedName:r,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:l,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:u,bindingFlags:lt(u),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function yr(l,n,e){for(var u=new Array(e.length-1),t=1;t<e.length;t++)u[t-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:e[t]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:l,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:u,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:e[0]},query:null,ngContent:null}}function br(l,n,e){var u,t=l.renderer;u=t.createText(e.text.prefix);var r=Gu(l,n,e);return r&&t.appendChild(r,u),{renderText:u}}function vr(l,n){return(null!=l?l.toString():"")+n.suffix}function wr(l,n,e,u){for(var t=0,r=0,o=0,a=0,i=0,s=null,c=null,p=!1,d=!1,h=null,f=0;f<n.length;f++){var m=n[f];if(m.nodeIndex=f,m.parent=s,m.bindingIndex=t,m.outputIndex=r,m.renderParent=c,o|=m.flags,i|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=s?s.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,p=!1,d=!1,m.element.template&&(i|=m.element.template.nodeMatchedQueries)}if(Cr(s,m,n.length),t+=m.bindings.length,r+=m.outputs.length,!c&&3&m.flags&&(h=m),20224&m.flags){p||(p=!0,s.element.publicProviders=Object.create(s.element.publicProviders),s.element.allProviders=s.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?s.element.publicProviders[ju(m.provider.token)]=m:(d||(d=!0,s.element.allProviders=Object.create(s.element.publicProviders)),s.element.allProviders[ju(m.provider.token)]=m),y&&(s.element.componentProvider=m)}if(s?(s.childFlags|=m.flags,s.directChildFlags|=m.flags,s.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(s.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,m.childCount>0)s=m,xr(m)||(c=m);else for(;s&&f===s.nodeIndex+s.childCount;){var b=s.parent;b&&(b.childFlags|=s.childFlags,b.childMatchedQueries|=s.childMatchedQueries),c=(s=b)&&xr(s)?s.renderParent:s}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:i,flags:l,nodes:n,updateDirectives:e||Cu,updateRenderer:u||Cu,handleEvent:function(l,e,u,t){return n[e].element.handleEvent(l,u,t)},bindingCount:t,outputCount:r,lastRenderRootNode:h}}function xr(l){return 0!=(1&l.flags)&&null===l.element.name}function Cr(l,n,e){var u=n.element&&n.element.template;if(u){if(!u.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(u.lastRenderRootNode&&16777216&u.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+n.nodeIndex+"!")}if(20224&n.flags&&0==(1&(l?l.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+n.nodeIndex+"!");if(n.query){if(67108864&n.flags&&(!l||0==(16384&l.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+n.nodeIndex+"!");if(134217728&n.flags&&l)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+n.nodeIndex+"!")}if(n.childCount){var t=l?l.nodeIndex+l.childCount:e-1;if(n.nodeIndex<=t&&n.nodeIndex+n.childCount>t)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+n.nodeIndex+"!")}}function kr(l,n,e,u){var t=Sr(l.root,l.renderer,l,n,e);return Pr(t,l.component,u),Tr(t),t}function jr(l,n,e){var u=Sr(l,l.renderer,null,null,n);return Pr(u,e,e),Tr(u),u}function Or(l,n,e,u){var t,r=n.element.componentRendererType;return t=r?l.root.rendererFactory.createRenderer(u,r):l.root.renderer,Sr(l.root,t,l,n.element.componentProvider,e)}function Sr(l,n,e,u,t){var r=new Array(t.nodes.length),o=t.outputCount?new Array(t.outputCount):null;return{def:t,parent:e,viewContainerParent:null,parentNodeDef:u,context:null,component:null,nodes:r,state:13,root:l,renderer:n,oldValues:new Array(t.bindingCount),disposables:o,initIndex:-1}}function Pr(l,n,e){l.component=n,l.context=e}function Tr(l){var n;Lu(l)&&(n=fu(l.parent,l.parentNodeDef.parent.nodeIndex).renderElement);for(var e=l.def,u=l.nodes,t=0;t<e.nodes.length;t++){var r=e.nodes[t];bu.setCurrentNode(l,t);var o=void 0;switch(201347067&r.flags){case 1:var a=rt(l,n,r),i=void 0;if(33554432&r.flags){var s=zu(r.element.componentView);i=bu.createComponentView(l,r,s,a)}ot(l,i,r,a),o={renderElement:a,componentView:i,viewContainer:null,template:r.element.template?At(l,r):void 0},16777216&r.flags&&(o.viewContainer=Ot(l,r,o));break;case 2:o=br(l,n,r);break;case 512:case 1024:case 2048:case 256:(o=u[t])||4096&r.flags||(o={instance:Qt(l,r)});break;case 16:o={instance:$t(l,r)};break;case 16384:(o=u[t])||(o={instance:Yt(l,r)}),32768&r.flags&&Pr(fu(l,r.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ae;break;case 8:hr(l,n,r),o=void 0}u[t]=o}Dr(l,qr.CreateViewNodes),Jr(l,201326592,268435456,0)}function Ar(l){Ir(l),bu.updateDirectives(l,1),Hr(l,qr.CheckNoChanges),bu.updateRenderer(l,1),Dr(l,qr.CheckNoChanges),l.state&=-97}function Mr(l){1&l.state?(l.state&=-2,l.state|=2):l.state&=-3,pu(l,0,256),Ir(l),bu.updateDirectives(l,0),Hr(l,qr.CheckAndUpdate),Jr(l,67108864,536870912,0);var n=pu(l,256,512);rr(l,2097152|(n?1048576:0)),bu.updateRenderer(l,0),Dr(l,qr.CheckAndUpdate),Jr(l,134217728,536870912,0),rr(l,8388608|((n=pu(l,512,768))?4194304:0)),2&l.def.flags&&(l.state&=-9),l.state&=-97,pu(l,768,1024)}function _r(l,n,e,t,r,o,a,i,s,c,p,d,h){return 0===e?function(l,n,e,u,t,r,o,a,i,s,c,p){switch(201347067&n.flags){case 1:return function(l,n,e,u,t,r,o,a,i,s,c,p){var d=n.bindings.length,h=!1;return d>0&&it(l,n,0,e)&&(h=!0),d>1&&it(l,n,1,u)&&(h=!0),d>2&&it(l,n,2,t)&&(h=!0),d>3&&it(l,n,3,r)&&(h=!0),d>4&&it(l,n,4,o)&&(h=!0),d>5&&it(l,n,5,a)&&(h=!0),d>6&&it(l,n,6,i)&&(h=!0),d>7&&it(l,n,7,s)&&(h=!0),d>8&&it(l,n,8,c)&&(h=!0),d>9&&it(l,n,9,p)&&(h=!0),h}(l,n,e,u,t,r,o,a,i,s,c,p);case 2:return function(l,n,e,u,t,r,o,a,i,s,c,p){var d=!1,h=n.bindings,f=h.length;if(f>0&&_u(l,n,0,e)&&(d=!0),f>1&&_u(l,n,1,u)&&(d=!0),f>2&&_u(l,n,2,t)&&(d=!0),f>3&&_u(l,n,3,r)&&(d=!0),f>4&&_u(l,n,4,o)&&(d=!0),f>5&&_u(l,n,5,a)&&(d=!0),f>6&&_u(l,n,6,i)&&(d=!0),f>7&&_u(l,n,7,s)&&(d=!0),f>8&&_u(l,n,8,c)&&(d=!0),f>9&&_u(l,n,9,p)&&(d=!0),d){var m=n.text.prefix;f>0&&(m+=vr(e,h[0])),f>1&&(m+=vr(u,h[1])),f>2&&(m+=vr(t,h[2])),f>3&&(m+=vr(r,h[3])),f>4&&(m+=vr(o,h[4])),f>5&&(m+=vr(a,h[5])),f>6&&(m+=vr(i,h[6])),f>7&&(m+=vr(s,h[7])),f>8&&(m+=vr(c,h[8])),f>9&&(m+=vr(p,h[9]));var g=hu(l,n.nodeIndex).renderText;l.renderer.setValue(g,m)}return d}(l,n,e,u,t,r,o,a,i,s,c,p);case 16384:return function(l,n,e,u,t,r,o,a,i,s,c,p){var d=mu(l,n.nodeIndex),h=d.instance,f=!1,m=void 0,g=n.bindings.length;return g>0&&Mu(l,n,0,e)&&(f=!0,m=tr(l,d,n,0,e,m)),g>1&&Mu(l,n,1,u)&&(f=!0,m=tr(l,d,n,1,u,m)),g>2&&Mu(l,n,2,t)&&(f=!0,m=tr(l,d,n,2,t,m)),g>3&&Mu(l,n,3,r)&&(f=!0,m=tr(l,d,n,3,r,m)),g>4&&Mu(l,n,4,o)&&(f=!0,m=tr(l,d,n,4,o,m)),g>5&&Mu(l,n,5,a)&&(f=!0,m=tr(l,d,n,5,a,m)),g>6&&Mu(l,n,6,i)&&(f=!0,m=tr(l,d,n,6,i,m)),g>7&&Mu(l,n,7,s)&&(f=!0,m=tr(l,d,n,7,s,m)),g>8&&Mu(l,n,8,c)&&(f=!0,m=tr(l,d,n,8,c,m)),g>9&&Mu(l,n,9,p)&&(f=!0,m=tr(l,d,n,9,p,m)),m&&h.ngOnChanges(m),65536&n.flags&&du(l,256,n.nodeIndex)&&h.ngOnInit(),262144&n.flags&&h.ngDoCheck(),f}(l,n,e,u,t,r,o,a,i,s,c,p);case 32:case 64:case 128:return function(l,n,e,u,t,r,o,a,i,s,c,p){var d=n.bindings,h=!1,f=d.length;if(f>0&&_u(l,n,0,e)&&(h=!0),f>1&&_u(l,n,1,u)&&(h=!0),f>2&&_u(l,n,2,t)&&(h=!0),f>3&&_u(l,n,3,r)&&(h=!0),f>4&&_u(l,n,4,o)&&(h=!0),f>5&&_u(l,n,5,a)&&(h=!0),f>6&&_u(l,n,6,i)&&(h=!0),f>7&&_u(l,n,7,s)&&(h=!0),f>8&&_u(l,n,8,c)&&(h=!0),f>9&&_u(l,n,9,p)&&(h=!0),h){var m=gu(l,n.nodeIndex),g=void 0;switch(201347067&n.flags){case 32:g=new Array(d.length),f>0&&(g[0]=e),f>1&&(g[1]=u),f>2&&(g[2]=t),f>3&&(g[3]=r),f>4&&(g[4]=o),f>5&&(g[5]=a),f>6&&(g[6]=i),f>7&&(g[7]=s),f>8&&(g[8]=c),f>9&&(g[9]=p);break;case 64:g={},f>0&&(g[d[0].name]=e),f>1&&(g[d[1].name]=u),f>2&&(g[d[2].name]=t),f>3&&(g[d[3].name]=r),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=i),f>7&&(g[d[7].name]=s),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=p);break;case 128:var y=e;switch(f){case 1:g=y.transform(e);break;case 2:g=y.transform(u);break;case 3:g=y.transform(u,t);break;case 4:g=y.transform(u,t,r);break;case 5:g=y.transform(u,t,r,o);break;case 6:g=y.transform(u,t,r,o,a);break;case 7:g=y.transform(u,t,r,o,a,i);break;case 8:g=y.transform(u,t,r,o,a,i,s);break;case 9:g=y.transform(u,t,r,o,a,i,s,c);break;case 10:g=y.transform(u,t,r,o,a,i,s,c,p)}}m.value=g}return h}(l,n,e,u,t,r,o,a,i,s,c,p);default:throw"unreachable"}}(l,n,t,r,o,a,i,s,c,p,d,h):function(l,n,e){switch(201347067&n.flags){case 1:return function(l,n,e){for(var u=!1,t=0;t<e.length;t++)it(l,n,t,e[t])&&(u=!0);return u}(l,n,e);case 2:return function(l,n,e){for(var u=n.bindings,t=!1,r=0;r<e.length;r++)_u(l,n,r,e[r])&&(t=!0);if(t){var o="";for(r=0;r<e.length;r++)o+=vr(e[r],u[r]);o=n.text.prefix+o;var a=hu(l,n.nodeIndex).renderText;l.renderer.setValue(a,o)}return t}(l,n,e);case 16384:return function(l,n,e){for(var u=mu(l,n.nodeIndex),t=u.instance,r=!1,o=void 0,a=0;a<e.length;a++)Mu(l,n,a,e[a])&&(r=!0,o=tr(l,u,n,a,e[a],o));return o&&t.ngOnChanges(o),65536&n.flags&&du(l,256,n.nodeIndex)&&t.ngOnInit(),262144&n.flags&&t.ngDoCheck(),r}(l,n,e);case 32:case 64:case 128:return function(l,n,e){for(var t=n.bindings,r=!1,o=0;o<e.length;o++)_u(l,n,o,e[o])&&(r=!0);if(r){var a=gu(l,n.nodeIndex),i=void 0;switch(201347067&n.flags){case 32:i=e;break;case 64:for(i={},o=0;o<e.length;o++)i[t[o].name]=e[o];break;case 128:var s=e[0],c=e.slice(1);i=s.transform.apply(s,Object(u.g)(c))}a.value=i}return r}(l,n,e);default:throw"unreachable"}}(l,n,t)}function Ir(l){var n=l.def;if(4&n.nodeFlags)for(var e=0;e<n.nodes.length;e++){var u=n.nodes[e];if(4&u.flags){var t=fu(l,e).template._projectedViews;if(t)for(var r=0;r<t.length;r++){var o=t[r];o.state|=32,Ru(o,l)}}else 0==(4&u.childFlags)&&(e+=u.childCount)}}function Er(l,n,e,u,t,r,o,a,i,s,c,p,d){return 0===e?function(l,n,e,u,t,r,o,a,i,s,c,p){var d=n.bindings.length;d>0&&Iu(l,n,0,e),d>1&&Iu(l,n,1,u),d>2&&Iu(l,n,2,t),d>3&&Iu(l,n,3,r),d>4&&Iu(l,n,4,o),d>5&&Iu(l,n,5,a),d>6&&Iu(l,n,6,i),d>7&&Iu(l,n,7,s),d>8&&Iu(l,n,8,c),d>9&&Iu(l,n,9,p)}(l,n,u,t,r,o,a,i,s,c,p,d):function(l,n,e){for(var u=0;u<e.length;u++)Iu(l,n,u,e[u])}(l,n,u),!1}function Rr(l,n){if(yu(l,n.nodeIndex).dirty)throw vu(bu.createDebugContext(l,n.nodeIndex),"Query "+n.query.id+" not dirty","Query "+n.query.id+" dirty",0!=(1&l.state))}function Nr(l){if(!(128&l.state)){if(Hr(l,qr.Destroy),Dr(l,qr.Destroy),rr(l,131072),l.disposables)for(var n=0;n<l.disposables.length;n++)l.disposables[n]();!function(l){if(16&l.state){var n=qu(l);if(n){var e=n.template._projectedViews;e&&(wt(e,e.indexOf(l)),bu.dirtyParentQueries(l))}}}(l),l.renderer.destroyNode&&function(l){for(var n=l.def.nodes.length,e=0;e<n;e++){var u=l.def.nodes[e];1&u.flags?l.renderer.destroyNode(fu(l,e).renderElement):2&u.flags?l.renderer.destroyNode(hu(l,e).renderText):(67108864&u.flags||134217728&u.flags)&&yu(l,e).destroy()}}(l),Lu(l)&&l.renderer.destroy(),l.state|=128}}var qr=function(l){return l[l.CreateViewNodes=0]="CreateViewNodes",l[l.CheckNoChanges=1]="CheckNoChanges",l[l.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",l[l.CheckAndUpdate=3]="CheckAndUpdate",l[l.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",l[l.Destroy=5]="Destroy",l}({});function Dr(l,n){var e=l.def;if(33554432&e.nodeFlags)for(var u=0;u<e.nodes.length;u++){var t=e.nodes[u];33554432&t.flags?Lr(fu(l,u).componentView,n):0==(33554432&t.childFlags)&&(u+=t.childCount)}}function Hr(l,n){var e=l.def;if(16777216&e.nodeFlags)for(var u=0;u<e.nodes.length;u++){var t=e.nodes[u];if(16777216&t.flags)for(var r=fu(l,u).viewContainer._embeddedViews,o=0;o<r.length;o++)Lr(r[o],n);else 0==(16777216&t.childFlags)&&(u+=t.childCount)}}function Lr(l,n){var e=l.state;switch(n){case qr.CheckNoChanges:0==(128&e)&&(12==(12&e)?Ar(l):64&e&&Fr(l,qr.CheckNoChangesProjectedViews));break;case qr.CheckNoChangesProjectedViews:0==(128&e)&&(32&e?Ar(l):64&e&&Fr(l,n));break;case qr.CheckAndUpdate:0==(128&e)&&(12==(12&e)?Mr(l):64&e&&Fr(l,qr.CheckAndUpdateProjectedViews));break;case qr.CheckAndUpdateProjectedViews:0==(128&e)&&(32&e?Mr(l):64&e&&Fr(l,n));break;case qr.Destroy:Nr(l);break;case qr.CreateViewNodes:Tr(l)}}function Fr(l,n){Hr(l,n),Dr(l,n)}function Jr(l,n,e,u){if(l.def.nodeFlags&n&&l.def.nodeFlags&e)for(var t=l.def.nodes.length,r=0;r<t;r++){var o=l.def.nodes[r];if(o.flags&n&&o.flags&e)switch(bu.setCurrentNode(l,o.nodeIndex),u){case 0:cr(l,o);break;case 1:Rr(l,o)}o.childFlags&n&&o.childFlags&e||(r+=o.childCount)}}var Ur=!1;function Br(l,n,e,u,t,r){var o=t.injector.get(Vl);return jr(Wr(l,t,o,n,e),u,r)}function Gr(l,n,e,u,t,r){var o=t.injector.get(Vl),a=Wr(l,t,new jo(o),n,e),i=no(u);return Co(co.create,jr,null,[a,i,r])}function Wr(l,n,e,u,t){var r=n.injector.get(Xl),o=n.injector.get(Hn),a=e.createRenderer(null,null);return{ngModule:n,injector:l,projectableNodes:u,selectorOrNode:t,sanitizer:r,rendererFactory:e,renderer:a,errorHandler:o}}function zr(l,n,e,u){var t=no(e);return Co(co.create,kr,null,[l,n,t,u])}function Vr(l,n,e,u){return e=Yr.get(n.element.componentProvider.provider.token)||no(e),Co(co.create,Or,null,[l,n,e,u])}function Kr(l,n,e,u){return qt(l,n,e,function(l){var n=function(l){var n=!1,e=!1;return 0===Qr.size?{hasOverrides:n,hasDeprecatedOverrides:e}:(l.providers.forEach(function(l){var u=Qr.get(l.token);3840&l.flags&&u&&(n=!0,e=e||u.deprecatedBehavior)}),l.modules.forEach(function(l){$r.forEach(function(u,t){_(t).providedIn===l&&(n=!0,e=e||u.deprecatedBehavior)})}),{hasOverrides:n,hasDeprecatedOverrides:e})}(l),e=n.hasDeprecatedOverrides;return n.hasOverrides?(function(l){for(var n=0;n<l.providers.length;n++){var u=l.providers[n];e&&(u.flags|=4096);var t=Qr.get(u.token);t&&(u.flags=-3841&u.flags|t.flags,u.deps=Bu(t.deps),u.value=t.value)}if($r.size>0){var r=new Set(l.modules);$r.forEach(function(n,u){if(r.has(_(u).providedIn)){var t={token:u,flags:n.flags|(e?4096:0),deps:Bu(n.deps),value:n.value,index:l.providers.length};l.providers.push(t),l.providersByKey[ju(u)]=t}})}}(l=l.factory(function(){return Cu})),l):l}(u))}var Qr=new Map,$r=new Map,Yr=new Map;function Xr(l){var n;Qr.set(l.token,l),"function"==typeof l.token&&(n=_(l.token))&&"function"==typeof n.providedIn&&$r.set(l.token,l)}function Zr(l,n){var e=zu(n.viewDefFactory),u=zu(e.nodes[0].element.componentView);Yr.set(l,u)}function lo(){Qr.clear(),$r.clear(),Yr.clear()}function no(l){if(0===Qr.size)return l;var n=function(l){for(var n=[],e=null,u=0;u<l.nodes.length;u++){var t=l.nodes[u];1&t.flags&&(e=t),e&&3840&t.flags&&Qr.has(t.provider.token)&&(n.push(e.nodeIndex),e=null)}return n}(l);if(0===n.length)return l;l=l.factory(function(){return Cu});for(var e=0;e<n.length;e++)u(l,n[e]);return l;function u(l,n){for(var e=n+1;e<l.nodes.length;e++){var u=l.nodes[e];if(1&u.flags)return;if(3840&u.flags){var t=u.provider,r=Qr.get(t.token);r&&(u.flags=-3841&u.flags|r.flags,t.deps=Bu(r.deps),t.value=r.value)}}}}function eo(l,n,e,u,t,r,o,a,i,s,c,p,d){var h=l.def.nodes[n];return _r(l,h,e,u,t,r,o,a,i,s,c,p,d),224&h.flags?gu(l,n).value:void 0}function uo(l,n,e,u,t,r,o,a,i,s,c,p,d){var h=l.def.nodes[n];return Er(l,h,e,u,t,r,o,a,i,s,c,p,d),224&h.flags?gu(l,n).value:void 0}function to(l){return Co(co.detectChanges,Mr,null,[l])}function ro(l){return Co(co.checkNoChanges,Ar,null,[l])}function oo(l){return Co(co.destroy,Nr,null,[l])}var ao,io,so,co=function(l){return l[l.create=0]="create",l[l.detectChanges=1]="detectChanges",l[l.checkNoChanges=2]="checkNoChanges",l[l.destroy=3]="destroy",l[l.handleEvent=4]="handleEvent",l}({});function po(l,n){io=l,so=n}function ho(l,n,e,u){return po(l,n),Co(co.handleEvent,l.def.handleEvent,null,[l,n,e,u])}function fo(l,n){if(128&l.state)throw xu(co[ao]);return po(l,bo(l,0)),l.def.updateDirectives(function(l,e,u){for(var t=[],r=3;r<arguments.length;r++)t[r-3]=arguments[r];var o=l.def.nodes[e];return 0===n?go(l,o,u,t):yo(l,o,u,t),16384&o.flags&&po(l,bo(l,e)),224&o.flags?gu(l,o.nodeIndex).value:void 0},l)}function mo(l,n){if(128&l.state)throw xu(co[ao]);return po(l,vo(l,0)),l.def.updateRenderer(function(l,e,u){for(var t=[],r=3;r<arguments.length;r++)t[r-3]=arguments[r];var o=l.def.nodes[e];return 0===n?go(l,o,u,t):yo(l,o,u,t),3&o.flags&&po(l,vo(l,e)),224&o.flags?gu(l,o.nodeIndex).value:void 0},l)}function go(l,n,e,t){if(_r.apply(void 0,Object(u.g)([l,n,e],t))){var r=1===e?t[0]:t;if(16384&n.flags){for(var o={},a=0;a<n.bindings.length;a++){var i=n.bindings[a],s=r[a];8&i.flags&&(o[(h=i.nonMinifiedName,"ng-reflect-"+h.replace(/[$@]/g,"_").replace(al,function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return"-"+l[1].toLowerCase()}))]=il(s))}var c=n.parent,p=fu(l,c.nodeIndex).renderElement;if(c.element.name)for(var d in o)null!=(s=o[d])?l.renderer.setAttribute(p,d,s):l.renderer.removeAttribute(p,d);else l.renderer.setValue(p,"bindings="+JSON.stringify(o,null,2))}}var h}function yo(l,n,e,t){Er.apply(void 0,Object(u.g)([l,n,e],t))}function bo(l,n){for(var e=n;e<l.def.nodes.length;e++){var u=l.def.nodes[e];if(16384&u.flags&&u.bindings&&u.bindings.length)return e}return null}function vo(l,n){for(var e=n;e<l.def.nodes.length;e++){var u=l.def.nodes[e];if(3&u.flags&&u.bindings&&u.bindings.length)return e}return null}var wo=function(){function l(l,n){this.view=l,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=l.def.nodes[n];for(var e=this.nodeDef,u=l;e&&0==(1&e.flags);)e=e.parent;if(!e)for(;!e&&u;)e=Du(u),u=u.parent;this.elDef=e,this.elView=u}return Object.defineProperty(l.prototype,"elOrCompView",{get:function(){return fu(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"injector",{get:function(){return _t(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"providerTokens",{get:function(){var l=[];if(this.elDef)for(var n=this.elDef.nodeIndex+1;n<=this.elDef.nodeIndex+this.elDef.childCount;n++){var e=this.elView.def.nodes[n];20224&e.flags&&l.push(e.provider.token),n+=e.childCount}return l},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"references",{get:function(){var l={};if(this.elDef){xo(this.elView,this.elDef,l);for(var n=this.elDef.nodeIndex+1;n<=this.elDef.nodeIndex+this.elDef.childCount;n++){var e=this.elView.def.nodes[n];20224&e.flags&&xo(this.elView,e,l),n+=e.childCount}}return l},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"componentRenderElement",{get:function(){var l=function(l){for(;l&&!Lu(l);)l=l.parent;return l.parent?fu(l.parent,Du(l).nodeIndex):null}(this.elOrCompView);return l?l.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Hu(this.view,this.nodeDef):Hu(this.elView,this.elDef)},enumerable:!0,configurable:!0}),l.prototype.logError=function(l){for(var n,e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];2&this.nodeDef.flags?(n=this.view.def,e=this.nodeDef.nodeIndex):(n=this.elView.def,e=this.elDef.nodeIndex);var o=function(l,n){for(var e=-1,u=0;u<=n;u++)3&l.nodes[u].flags&&e++;return e}(n,e),a=-1;n.factory(function(){var n;return++a===o?(n=l.error).bind.apply(n,Object(u.g)([l],t)):Cu}),a<o&&(l.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),l.error.apply(l,Object(u.g)(t)))},l}();function xo(l,n,e){for(var u in n.references)e[u]=dr(l,n,n.references[u])}function Co(l,n,e,u){var t=ao,r=io,o=so;try{ao=l;var a=n.apply(e,u);return io=r,so=o,ao=t,a}catch(i){if(Nn(i)||!io)throw i;throw function(l,n){return l instanceof Error||(l=new Error(l.toString())),wu(l,n),l}(i,ko())}}function ko(){return io?new wo(io,so):null}var jo=function(){function l(l){this.delegate=l}return l.prototype.createRenderer=function(l,n){return new Oo(this.delegate.createRenderer(l,n))},l.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},l.prototype.end=function(){this.delegate.end&&this.delegate.end()},l.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},l}(),Oo=function(){function l(l){this.delegate=l,this.debugContextFactory=ko,this.data=this.delegate.data}return l.prototype.createDebugContext=function(l){return this.debugContextFactory(l)},l.prototype.destroyNode=function(l){!function(l){Je.delete(l.nativeNode)}(Ue(l)),this.delegate.destroyNode&&this.delegate.destroyNode(l)},l.prototype.destroy=function(){this.delegate.destroy()},l.prototype.createElement=function(l,n){var e=this.delegate.createElement(l,n),u=this.createDebugContext(e);if(u){var t=new Fe(e,null,u);t.name=l,Be(t)}return e},l.prototype.createComment=function(l){var n=this.delegate.createComment(l),e=this.createDebugContext(n);return e&&Be(new Le(n,null,e)),n},l.prototype.createText=function(l){var n=this.delegate.createText(l),e=this.createDebugContext(n);return e&&Be(new Le(n,null,e)),n},l.prototype.appendChild=function(l,n){var e=Ue(l),u=Ue(n);e&&u&&e instanceof Fe&&e.addChild(u),this.delegate.appendChild(l,n)},l.prototype.insertBefore=function(l,n,e){var u=Ue(l),t=Ue(n),r=Ue(e);u&&t&&u instanceof Fe&&u.insertBefore(r,t),this.delegate.insertBefore(l,n,e)},l.prototype.removeChild=function(l,n){var e=Ue(l),u=Ue(n);e&&u&&e instanceof Fe&&e.removeChild(u),this.delegate.removeChild(l,n)},l.prototype.selectRootElement=function(l,n){var e=this.delegate.selectRootElement(l,n),u=ko();return u&&Be(new Fe(e,null,u)),e},l.prototype.setAttribute=function(l,n,e,u){var t=Ue(l);t&&t instanceof Fe&&(t.attributes[u?u+":"+n:n]=e),this.delegate.setAttribute(l,n,e,u)},l.prototype.removeAttribute=function(l,n,e){var u=Ue(l);u&&u instanceof Fe&&(u.attributes[e?e+":"+n:n]=null),this.delegate.removeAttribute(l,n,e)},l.prototype.addClass=function(l,n){var e=Ue(l);e&&e instanceof Fe&&(e.classes[n]=!0),this.delegate.addClass(l,n)},l.prototype.removeClass=function(l,n){var e=Ue(l);e&&e instanceof Fe&&(e.classes[n]=!1),this.delegate.removeClass(l,n)},l.prototype.setStyle=function(l,n,e,u){var t=Ue(l);t&&t instanceof Fe&&(t.styles[n]=e),this.delegate.setStyle(l,n,e,u)},l.prototype.removeStyle=function(l,n,e){var u=Ue(l);u&&u instanceof Fe&&(u.styles[n]=null),this.delegate.removeStyle(l,n,e)},l.prototype.setProperty=function(l,n,e){var u=Ue(l);u&&u instanceof Fe&&(u.properties[n]=e),this.delegate.setProperty(l,n,e)},l.prototype.listen=function(l,n,e){if("string"!=typeof l){var u=Ue(l);u&&u.listeners.push(new He(n,e))}return this.delegate.listen(l,n,e)},l.prototype.parentNode=function(l){return this.delegate.parentNode(l)},l.prototype.nextSibling=function(l){return this.delegate.nextSibling(l)},l.prototype.setValue=function(l,n){return this.delegate.setValue(l,n)},l}();function So(l,n,e){return new Po(l,n,e)}var Po=function(l){function n(n,e,u){var t=l.call(this)||this;return t.moduleType=n,t._bootstrapComponents=e,t._ngModuleDefFactory=u,t}return Object(u.c)(n,l),n.prototype.create=function(l){!function(){if(!Ur){Ur=!0;var l=en()?{setCurrentNode:po,createRootView:Gr,createEmbeddedView:zr,createComponentView:Vr,createNgModuleRef:Kr,overrideProvider:Xr,overrideComponentView:Zr,clearOverrides:lo,checkAndUpdateView:to,checkNoChangesView:ro,destroyView:oo,createDebugContext:function(l,n){return new wo(l,n)},handleEvent:ho,updateDirectives:fo,updateRenderer:mo}:{setCurrentNode:function(){},createRootView:Br,createEmbeddedView:kr,createComponentView:Or,createNgModuleRef:qt,overrideProvider:Cu,overrideComponentView:Cu,clearOverrides:Cu,checkAndUpdateView:Mr,checkNoChangesView:Ar,destroyView:Nr,createDebugContext:function(l,n){return new wo(l,n)},handleEvent:function(l,n,e,u){return l.def.handleEvent(l,n,e,u)},updateDirectives:function(l,n){return l.def.updateDirectives(0===n?eo:uo,l)},updateRenderer:function(l,n){return l.def.updateRenderer(0===n?eo:uo,l)}};bu.setCurrentNode=l.setCurrentNode,bu.createRootView=l.createRootView,bu.createEmbeddedView=l.createEmbeddedView,bu.createComponentView=l.createComponentView,bu.createNgModuleRef=l.createNgModuleRef,bu.overrideProvider=l.overrideProvider,bu.overrideComponentView=l.overrideComponentView,bu.clearOverrides=l.clearOverrides,bu.checkAndUpdateView=l.checkAndUpdateView,bu.checkNoChangesView=l.checkNoChangesView,bu.destroyView=l.destroyView,bu.resolveDep=er,bu.createDebugContext=l.createDebugContext,bu.handleEvent=l.handleEvent,bu.updateDirectives=l.updateDirectives,bu.updateRenderer=l.updateRenderer,bu.dirtyParentQueries=sr}}();var n=function(l){var n=Array.from(l.providers),e=Array.from(l.modules),u={};for(var t in l.providersByKey)u[t]=l.providersByKey[t];return{factory:l.factory,isRoot:l.isRoot,providers:n,modules:e,providersByKey:u}}(zu(this._ngModuleDefFactory));return bu.createNgModuleRef(this.moduleType,l||vl.NULL,this._bootstrapComponents,n)},n}(Bl),To=e("isby"),Ao=e("2Bdj"),Mo=e("67Y/");function _o(l,n,e,u){return Object(Ao.a)(e)&&(u=e,e=void 0),u?_o(l,n,e).pipe(Object(Mo.a)(function(l){return Object(To.a)(l)?u.apply(void 0,l):u(l)})):new r.a(function(u){!function l(n,e,u,t,r){var o;if(function(l){return l&&"function"==typeof l.addEventListener&&"function"==typeof l.removeEventListener}(n)){var a=n;n.addEventListener(e,u,r),o=function(){return a.removeEventListener(e,u,r)}}else if(function(l){return l&&"function"==typeof l.on&&"function"==typeof l.off}(n)){var i=n;n.on(e,u),o=function(){return i.off(e,u)}}else if(function(l){return l&&"function"==typeof l.addListener&&"function"==typeof l.removeListener}(n)){var s=n;n.addListener(e,u),o=function(){return s.removeListener(e,u)}}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(var c=0,p=n.length;c<p;c++)l(n[c],e,u,t,r)}t.add(o)}(l,n,function(l){u.next(arguments.length>1?Array.prototype.slice.call(arguments):l)},u,e)})}var Io=e("T1DM");function Eo(l,n){return void 0===n&&(n=Io.a),function(e){return e.lift(new Ro(l,n))}}var Ro=function(){function l(l,n){this.dueTime=l,this.scheduler=n}return l.prototype.call=function(l,n){return n.subscribe(new No(l,this.dueTime,this.scheduler))},l}(),No=function(l){function n(n,e,u){var t=l.call(this,n)||this;return t.dueTime=e,t.scheduler=u,t.debouncedSubscription=null,t.lastValue=null,t.hasValue=!1,t}return u.c(n,l),n.prototype._next=function(l){this.clearDebounce(),this.lastValue=l,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qo,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var l=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(l)}},n.prototype.clearDebounce=function(){var l=this.debouncedSubscription;null!==l&&(this.remove(l),l.unsubscribe(),this.debouncedSubscription=null)},n}(o.a);function qo(l){l.debouncedNext()}var Do=e("MGBS"),Ho=e("zotm"),Lo=function(){function l(l){this.notifier=l}return l.prototype.call=function(l,n){var e=new Fo(l),u=Object(Ho.a)(e,this.notifier);return u&&!e.seenValue?(e.add(u),n.subscribe(e)):e},l}(),Fo=function(l){function n(n){var e=l.call(this,n)||this;return e.seenValue=!1,e}return u.c(n,l),n.prototype.notifyNext=function(l,n,e,u,t){this.seenValue=!0,this.complete()},n.prototype.notifyComplete=function(){},n}(Do.a);e("aGNc");var Jo=function(){return function(){}}(),Uo=new I("Location Initialized"),Bo=function(){return function(){}}(),Go=new I("appBaseHref"),Wo=function(){function l(l){var e=this;this._subject=new jn,this._platformStrategy=l;var u=this._platformStrategy.getBaseHref();this._baseHref=n.stripTrailingSlash(zo(u)),this._platformStrategy.onPopState(function(l){e._subject.emit({url:e.path(!0),pop:!0,state:l.state,type:l.type})})}var n;return n=l,l.prototype.path=function(l){return void 0===l&&(l=!1),this.normalize(this._platformStrategy.path(l))},l.prototype.isCurrentPathEqualTo=function(l,e){return void 0===e&&(e=""),this.path()==this.normalize(l+n.normalizeQueryParams(e))},l.prototype.normalize=function(l){return n.stripTrailingSlash(function(l,n){return l&&n.startsWith(l)?n.substring(l.length):n}(this._baseHref,zo(l)))},l.prototype.prepareExternalUrl=function(l){return l&&"/"!==l[0]&&(l="/"+l),this._platformStrategy.prepareExternalUrl(l)},l.prototype.go=function(l,n,e){void 0===n&&(n=""),void 0===e&&(e=null),this._platformStrategy.pushState(e,"",l,n)},l.prototype.replaceState=function(l,n,e){void 0===n&&(n=""),void 0===e&&(e=null),this._platformStrategy.replaceState(e,"",l,n)},l.prototype.forward=function(){this._platformStrategy.forward()},l.prototype.back=function(){this._platformStrategy.back()},l.prototype.subscribe=function(l,n,e){return this._subject.subscribe({next:l,error:n,complete:e})},l.normalizeQueryParams=function(l){return l&&"?"!==l[0]?"?"+l:l},l.joinWithSlash=function(l,n){if(0==l.length)return n;if(0==n.length)return l;var e=0;return l.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?l+n.substring(1):1==e?l+n:l+"/"+n},l.stripTrailingSlash=function(l){var n=l.match(/#|\?|$/),e=n&&n.index||l.length;return l.slice(0,e-("/"===l[e-1]?1:0))+l.slice(e)},l}();function zo(l){return l.replace(/\/index.html$/,"")}var Vo=function(l){function n(n,e){var u=l.call(this)||this;return u._platformLocation=n,u._baseHref="",null!=e&&(u._baseHref=e),u}return Object(u.c)(n,l),n.prototype.onPopState=function(l){this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l)},n.prototype.getBaseHref=function(){return this._baseHref},n.prototype.path=function(l){void 0===l&&(l=!1);var n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n},n.prototype.prepareExternalUrl=function(l){var n=Wo.joinWithSlash(this._baseHref,l);return n.length>0?"#"+n:n},n.prototype.pushState=function(l,n,e,u){var t=this.prepareExternalUrl(e+Wo.normalizeQueryParams(u));0==t.length&&(t=this._platformLocation.pathname),this._platformLocation.pushState(l,n,t)},n.prototype.replaceState=function(l,n,e,u){var t=this.prepareExternalUrl(e+Wo.normalizeQueryParams(u));0==t.length&&(t=this._platformLocation.pathname),this._platformLocation.replaceState(l,n,t)},n.prototype.forward=function(){this._platformLocation.forward()},n.prototype.back=function(){this._platformLocation.back()},n}(Bo),Ko=function(l){function n(n,e){var u=l.call(this)||this;if(u._platformLocation=n,null==e&&(e=u._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return u._baseHref=e,u}return Object(u.c)(n,l),n.prototype.onPopState=function(l){this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l)},n.prototype.getBaseHref=function(){return this._baseHref},n.prototype.prepareExternalUrl=function(l){return Wo.joinWithSlash(this._baseHref,l)},n.prototype.path=function(l){void 0===l&&(l=!1);var n=this._platformLocation.pathname+Wo.normalizeQueryParams(this._platformLocation.search),e=this._platformLocation.hash;return e&&l?""+n+e:n},n.prototype.pushState=function(l,n,e,u){var t=this.prepareExternalUrl(e+Wo.normalizeQueryParams(u));this._platformLocation.pushState(l,n,t)},n.prototype.replaceState=function(l,n,e,u){var t=this.prepareExternalUrl(e+Wo.normalizeQueryParams(u));this._platformLocation.replaceState(l,n,t)},n.prototype.forward=function(){this._platformLocation.forward()},n.prototype.back=function(){this._platformLocation.back()},n}(Bo),Qo=void 0,$o=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(l){var n=Math.floor(Math.abs(l)),e=l.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===e?1:5}],Yo={},Xo=function(l){return l[l.Zero=0]="Zero",l[l.One=1]="One",l[l.Two=2]="Two",l[l.Few=3]="Few",l[l.Many=4]="Many",l[l.Other=5]="Other",l}({}),Zo=new I("UseV4Plurals"),la=function(){return function(){}}(),na=function(l){function n(n,e){var u=l.call(this)||this;return u.locale=n,u.deprecatedPluralFn=e,u}return Object(u.c)(n,l),n.prototype.getPluralCategory=function(l,n){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(n||this.locale,l):function(l){return function(l){var n=l.toLowerCase().replace(/_/g,"-"),e=Yo[n];if(e)return e;var u=n.split("-")[0];if(e=Yo[u])return e;if("en"===u)return $o;throw new Error('Missing locale data for the locale "'+l+'".')}(l)[18]}(n||this.locale)(l)){case Xo.Zero:return"zero";case Xo.One:return"one";case Xo.Two:return"two";case Xo.Few:return"few";case Xo.Many:return"many";default:return"other"}},n}(la),ea=function(){function l(l,n,e,u){this.$implicit=l,this.ngForOf=n,this.index=e,this.count=u}return Object.defineProperty(l.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),l}(),ua=function(){function l(l,n,e){this._viewContainer=l,this._template=n,this._differs=e,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(l.prototype,"ngForOf",{set:function(l){this._ngForOf=l,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(l){en()&&null!=l&&"function"!=typeof l&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(l)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=l},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ngForTemplate",{set:function(l){l&&(this._template=l)},enumerable:!0,configurable:!0}),l.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var l=this._ngForOf;if(!this._differ&&l)try{this._differ=this._differs.find(l).create(this.ngForTrackBy)}catch(u){throw new Error("Cannot find a differ supporting object '"+l+"' of type '"+((n=l).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n;if(this._differ){var e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}},l.prototype._applyChanges=function(l){var n=this,e=[];l.forEachOperation(function(l,u,t){if(null==l.previousIndex){var r=n._viewContainer.createEmbeddedView(n._template,new ea(null,n._ngForOf,-1,-1),t),o=new ta(l,r);e.push(o)}else null==t?n._viewContainer.remove(u):(r=n._viewContainer.get(u),n._viewContainer.move(r,t),o=new ta(l,r),e.push(o))});for(var u=0;u<e.length;u++)this._perViewChange(e[u].view,e[u].record);u=0;for(var t=this._viewContainer.length;u<t;u++){var r=this._viewContainer.get(u);r.context.index=u,r.context.count=t,r.context.ngForOf=this._ngForOf}l.forEachIdentityChange(function(l){n._viewContainer.get(l.currentIndex).context.$implicit=l.item})},l.prototype._perViewChange=function(l,n){l.context.$implicit=n.item},l.ngTemplateContextGuard=function(l,n){return!0},l}(),ta=function(){return function(l,n){this.record=l,this.view=n}}(),ra=function(){function l(l,n){this._viewContainer=l,this._context=new oa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object.defineProperty(l.prototype,"ngIf",{set:function(l){this._context.$implicit=this._context.ngIf=l,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ngIfThen",{set:function(l){aa("ngIfThen",l),this._thenTemplateRef=l,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ngIfElse",{set:function(l){aa("ngIfElse",l),this._elseTemplateRef=l,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),l.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},l.ngTemplateGuard_ngIf=function(l,n){return!0},l}(),oa=function(){return function(){this.$implicit=null,this.ngIf=null}}();function aa(l,n){if(n&&!n.createEmbeddedView)throw new Error(l+" must be a TemplateRef, but received '"+V(n)+"'.")}var ia=function(){return function(){}}(),sa=new I("DocumentToken"),ca="browser",pa="server";function da(l){return l===ca}var ha=function(){function l(){}return l.ngInjectableDef=M({providedIn:"root",factory:function(){return new fa(ol(sa),window)}}),l}(),fa=function(){function l(l,n){this.document=l,this.window=n,this.offset=function(){return[0,0]}}return l.prototype.setOffset=function(l){this.offset=Array.isArray(l)?function(){return l}:l},l.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},l.prototype.scrollToPosition=function(l){this.supportScrollRestoration()&&this.window.scrollTo(l[0],l[1])},l.prototype.scrollToAnchor=function(l){if(this.supportScrollRestoration()){var n=this.document.querySelector("#"+l);if(n)return void this.scrollToElement(n);var e=this.document.querySelector("[name='"+l+"']");if(e)return void this.scrollToElement(e)}},l.prototype.setHistoryScrollRestoration=function(l){if(this.supportScrollRestoration()){var n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=l)}},l.prototype.scrollToElement=function(l){var n=l.getBoundingClientRect(),e=n.left+this.window.pageXOffset,u=n.top+this.window.pageYOffset,t=this.offset();this.window.scrollTo(e-t[0],u-t[1])},l.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(l){return!1}},l}();function ma(l){return getComputedStyle(l)}function ga(l,n){for(var e in n){var u=n[e];"number"==typeof u&&(u+="px"),l.style[e]=u}return l}function ya(l){var n=document.createElement("div");return n.className=l,n}var ba="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function va(l,n){if(!ba)throw new Error("No element matching method supported");return ba.call(l,n)}function wa(l){l.remove?l.remove():l.parentNode&&l.parentNode.removeChild(l)}function xa(l,n){return Array.prototype.filter.call(l.children,function(l){return va(l,n)})}var Ca={main:"ps",element:{thumb:function(l){return"ps__thumb-"+l},rail:function(l){return"ps__rail-"+l},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(l){return"ps--active-"+l},scrolling:function(l){return"ps--scrolling-"+l}}},ka={x:null,y:null};function ja(l,n){var e=l.element.classList,u=Ca.state.scrolling(n);e.contains(u)?clearTimeout(ka[n]):e.add(u)}function Oa(l,n){ka[n]=setTimeout(function(){return l.isAlive&&l.element.classList.remove(Ca.state.scrolling(n))},l.settings.scrollingThreshold)}var Sa=function(l){this.element=l,this.handlers={}},Pa={isEmpty:{configurable:!0}};Sa.prototype.bind=function(l,n){void 0===this.handlers[l]&&(this.handlers[l]=[]),this.handlers[l].push(n),this.element.addEventListener(l,n,!1)},Sa.prototype.unbind=function(l,n){var e=this;this.handlers[l]=this.handlers[l].filter(function(u){return!(!n||u===n)||(e.element.removeEventListener(l,u,!1),!1)})},Sa.prototype.unbindAll=function(){for(var l in this.handlers)this.unbind(l)},Pa.isEmpty.get=function(){var l=this;return Object.keys(this.handlers).every(function(n){return 0===l.handlers[n].length})},Object.defineProperties(Sa.prototype,Pa);var Ta=function(){this.eventElements=[]};function Aa(l){if("function"==typeof window.CustomEvent)return new CustomEvent(l);var n=document.createEvent("CustomEvent");return n.initCustomEvent(l,!1,!1,void 0),n}Ta.prototype.eventElement=function(l){var n=this.eventElements.filter(function(n){return n.element===l})[0];return n||(n=new Sa(l),this.eventElements.push(n)),n},Ta.prototype.bind=function(l,n,e){this.eventElement(l).bind(n,e)},Ta.prototype.unbind=function(l,n,e){var u=this.eventElement(l);u.unbind(n,e),u.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(u),1)},Ta.prototype.unbindAll=function(){this.eventElements.forEach(function(l){return l.unbindAll()}),this.eventElements=[]},Ta.prototype.once=function(l,n,e){var u=this.eventElement(l),t=function(l){u.unbind(n,t),e(l)};u.bind(n,t)};var Ma=function(l,n,e,u,t){var r;if(void 0===u&&(u=!0),void 0===t&&(t=!1),"top"===n)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==n)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(l,n,e,u,t){var o=r[0],a=r[1],i=r[2],s=r[3],c=r[4],p=r[5];void 0===u&&(u=!0),void 0===t&&(t=!1);var d=l.element;l.reach[s]=null,d[i]<1&&(l.reach[s]="start"),d[i]>l[o]-l[a]-1&&(l.reach[s]="end"),n&&(d.dispatchEvent(Aa("ps-scroll-"+s)),n<0?d.dispatchEvent(Aa("ps-scroll-"+c)):n>0&&d.dispatchEvent(Aa("ps-scroll-"+p)),u&&function(l,n){ja(l,n),Oa(l,n)}(l,s)),l.reach[s]&&(n||t)&&d.dispatchEvent(Aa("ps-"+s+"-reach-"+l.reach[s]))}(l,e,0,u,t)};function _a(l){return parseInt(l,10)||0}var Ia={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},Ea=function(l){var n=l.element,e=Math.floor(n.scrollTop);l.containerWidth=n.clientWidth,l.containerHeight=n.clientHeight,l.contentWidth=n.scrollWidth,l.contentHeight=n.scrollHeight,n.contains(l.scrollbarXRail)||(xa(n,Ca.element.rail("x")).forEach(function(l){return wa(l)}),n.appendChild(l.scrollbarXRail)),n.contains(l.scrollbarYRail)||(xa(n,Ca.element.rail("y")).forEach(function(l){return wa(l)}),n.appendChild(l.scrollbarYRail)),!l.settings.suppressScrollX&&l.containerWidth+l.settings.scrollXMarginOffset<l.contentWidth?(l.scrollbarXActive=!0,l.railXWidth=l.containerWidth-l.railXMarginWidth,l.railXRatio=l.containerWidth/l.railXWidth,l.scrollbarXWidth=Ra(l,_a(l.railXWidth*l.containerWidth/l.contentWidth)),l.scrollbarXLeft=_a((l.negativeScrollAdjustment+n.scrollLeft)*(l.railXWidth-l.scrollbarXWidth)/(l.contentWidth-l.containerWidth))):l.scrollbarXActive=!1,!l.settings.suppressScrollY&&l.containerHeight+l.settings.scrollYMarginOffset<l.contentHeight?(l.scrollbarYActive=!0,l.railYHeight=l.containerHeight-l.railYMarginHeight,l.railYRatio=l.containerHeight/l.railYHeight,l.scrollbarYHeight=Ra(l,_a(l.railYHeight*l.containerHeight/l.contentHeight)),l.scrollbarYTop=_a(e*(l.railYHeight-l.scrollbarYHeight)/(l.contentHeight-l.containerHeight))):l.scrollbarYActive=!1,l.scrollbarXLeft>=l.railXWidth-l.scrollbarXWidth&&(l.scrollbarXLeft=l.railXWidth-l.scrollbarXWidth),l.scrollbarYTop>=l.railYHeight-l.scrollbarYHeight&&(l.scrollbarYTop=l.railYHeight-l.scrollbarYHeight),function(l,n){var e={width:n.railXWidth},u=Math.floor(l.scrollTop);e.left=n.isRtl?n.negativeScrollAdjustment+l.scrollLeft+n.containerWidth-n.contentWidth:l.scrollLeft,n.isScrollbarXUsingBottom?e.bottom=n.scrollbarXBottom-u:e.top=n.scrollbarXTop+u,ga(n.scrollbarXRail,e);var t={top:u,height:n.railYHeight};n.isScrollbarYUsingRight?t.right=n.isRtl?n.contentWidth-(n.negativeScrollAdjustment+l.scrollLeft)-n.scrollbarYRight-n.scrollbarYOuterWidth:n.scrollbarYRight-l.scrollLeft:t.left=n.isRtl?n.negativeScrollAdjustment+l.scrollLeft+2*n.containerWidth-n.contentWidth-n.scrollbarYLeft-n.scrollbarYOuterWidth:n.scrollbarYLeft+l.scrollLeft,ga(n.scrollbarYRail,t),ga(n.scrollbarX,{left:n.scrollbarXLeft,width:n.scrollbarXWidth-n.railBorderXWidth}),ga(n.scrollbarY,{top:n.scrollbarYTop,height:n.scrollbarYHeight-n.railBorderYWidth})}(n,l),l.scrollbarXActive?n.classList.add(Ca.state.active("x")):(n.classList.remove(Ca.state.active("x")),l.scrollbarXWidth=0,l.scrollbarXLeft=0,n.scrollLeft=0),l.scrollbarYActive?n.classList.add(Ca.state.active("y")):(n.classList.remove(Ca.state.active("y")),l.scrollbarYHeight=0,l.scrollbarYTop=0,n.scrollTop=0)};function Ra(l,n){return l.settings.minScrollbarLength&&(n=Math.max(n,l.settings.minScrollbarLength)),l.settings.maxScrollbarLength&&(n=Math.min(n,l.settings.maxScrollbarLength)),n}function Na(l,n){var e=n[0],u=n[1],t=n[2],r=n[3],o=n[5],a=n[6],i=n[7],s=n[8],c=l.element,p=null,d=null,h=null;function f(n){c[a]=p+h*(n[t]-d),ja(l,i),Ea(l),n.stopPropagation(),n.preventDefault()}function m(){Oa(l,i),l[s].classList.remove(Ca.state.clicking),l.event.unbind(l.ownerDocument,"mousemove",f)}l.event.bind(l[n[4]],"mousedown",function(n){p=c[a],d=n[t],h=(l[u]-l[e])/(l[r]-l[o]),l.event.bind(l.ownerDocument,"mousemove",f),l.event.once(l.ownerDocument,"mouseup",m),l[s].classList.add(Ca.state.clicking),n.stopPropagation(),n.preventDefault()})}var qa={"click-rail":function(l){l.event.bind(l.scrollbarY,"mousedown",function(l){return l.stopPropagation()}),l.event.bind(l.scrollbarYRail,"mousedown",function(n){var e=n.pageY-window.pageYOffset-l.scrollbarYRail.getBoundingClientRect().top;l.element.scrollTop+=(e>l.scrollbarYTop?1:-1)*l.containerHeight,Ea(l),n.stopPropagation()}),l.event.bind(l.scrollbarX,"mousedown",function(l){return l.stopPropagation()}),l.event.bind(l.scrollbarXRail,"mousedown",function(n){var e=n.pageX-window.pageXOffset-l.scrollbarXRail.getBoundingClientRect().left;l.element.scrollLeft+=(e>l.scrollbarXLeft?1:-1)*l.containerWidth,Ea(l),n.stopPropagation()})},"drag-thumb":function(l){Na(l,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Na(l,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(l){var n=l.element;l.event.bind(l.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(va(n,":hover")||va(l.scrollbarX,":focus")||va(l.scrollbarY,":focus"))){var u,t=document.activeElement?document.activeElement:l.ownerDocument.activeElement;if(t){if("IFRAME"===t.tagName)t=t.contentDocument.activeElement;else for(;t.shadowRoot;)t=t.shadowRoot.activeElement;if(va(u=t,"input,[contenteditable]")||va(u,"select,[contenteditable]")||va(u,"textarea,[contenteditable]")||va(u,"button,[contenteditable]"))return}var r=0,o=0;switch(e.which){case 37:r=e.metaKey?-l.contentWidth:e.altKey?-l.containerWidth:-30;break;case 38:o=e.metaKey?l.contentHeight:e.altKey?l.containerHeight:30;break;case 39:r=e.metaKey?l.contentWidth:e.altKey?l.containerWidth:30;break;case 40:o=e.metaKey?-l.contentHeight:e.altKey?-l.containerHeight:-30;break;case 32:o=e.shiftKey?l.containerHeight:-l.containerHeight;break;case 33:o=l.containerHeight;break;case 34:o=-l.containerHeight;break;case 36:o=l.contentHeight;break;case 35:o=-l.contentHeight;break;default:return}l.settings.suppressScrollX&&0!==r||l.settings.suppressScrollY&&0!==o||(n.scrollTop-=o,n.scrollLeft+=r,Ea(l),function(e,u){var t=Math.floor(n.scrollTop);if(0===e){if(!l.scrollbarYActive)return!1;if(0===t&&u>0||t>=l.contentHeight-l.containerHeight&&u<0)return!l.settings.wheelPropagation}var r=n.scrollLeft;if(0===u){if(!l.scrollbarXActive)return!1;if(0===r&&e<0||r>=l.contentWidth-l.containerWidth&&e>0)return!l.settings.wheelPropagation}return!0}(r,o)&&e.preventDefault())}})},wheel:function(l){var n=l.element;function e(e){var u=function(l){var n=l.deltaX,e=-1*l.deltaY;return void 0!==n&&void 0!==e||(n=-1*l.wheelDeltaX/6,e=l.wheelDeltaY/6),l.deltaMode&&1===l.deltaMode&&(n*=10,e*=10),n!=n&&e!=e&&(n=0,e=l.wheelDelta),l.shiftKey?[-e,-n]:[n,e]}(e),t=u[0],r=u[1];if(!function(l,e,u){if(!Ia.isWebKit&&n.querySelector("select:focus"))return!0;if(!n.contains(l))return!1;for(var t=l;t&&t!==n;){if(t.classList.contains(Ca.element.consuming))return!0;var r=ma(t);if([r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/)){var o=t.scrollHeight-t.clientHeight;if(o>0&&!(0===t.scrollTop&&u>0||t.scrollTop===o&&u<0))return!0;var a=t.scrollWidth-t.clientWidth;if(a>0&&!(0===t.scrollLeft&&e<0||t.scrollLeft===a&&e>0))return!0}t=t.parentNode}return!1}(e.target,t,r)){var o=!1;l.settings.useBothWheelAxes?l.scrollbarYActive&&!l.scrollbarXActive?(r?n.scrollTop-=r*l.settings.wheelSpeed:n.scrollTop+=t*l.settings.wheelSpeed,o=!0):l.scrollbarXActive&&!l.scrollbarYActive&&(t?n.scrollLeft+=t*l.settings.wheelSpeed:n.scrollLeft-=r*l.settings.wheelSpeed,o=!0):(n.scrollTop-=r*l.settings.wheelSpeed,n.scrollLeft+=t*l.settings.wheelSpeed),Ea(l),(o=o||function(e,u){var t=Math.floor(n.scrollTop),r=0===n.scrollTop,o=t+n.offsetHeight===n.scrollHeight,a=0===n.scrollLeft,i=n.scrollLeft+n.offsetWidth===n.scrollWidth;return!(Math.abs(u)>Math.abs(e)?r||o:a||i)||!l.settings.wheelPropagation}(t,r))&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}void 0!==window.onwheel?l.event.bind(n,"wheel",e):void 0!==window.onmousewheel&&l.event.bind(n,"mousewheel",e)},touch:function(l){if(Ia.supportsTouch||Ia.supportsIePointer){var n=l.element,e={},u=0,t={},r=null;Ia.supportsTouch?(l.event.bind(n,"touchstart",s),l.event.bind(n,"touchmove",c),l.event.bind(n,"touchend",p)):Ia.supportsIePointer&&(window.PointerEvent?(l.event.bind(n,"pointerdown",s),l.event.bind(n,"pointermove",c),l.event.bind(n,"pointerup",p)):window.MSPointerEvent&&(l.event.bind(n,"MSPointerDown",s),l.event.bind(n,"MSPointerMove",c),l.event.bind(n,"MSPointerUp",p)))}function o(e,u){n.scrollTop-=u,n.scrollLeft-=e,Ea(l)}function a(l){return l.targetTouches?l.targetTouches[0]:l}function i(l){return!(l.pointerType&&"pen"===l.pointerType&&0===l.buttons||(!l.targetTouches||1!==l.targetTouches.length)&&(!l.pointerType||"mouse"===l.pointerType||l.pointerType===l.MSPOINTER_TYPE_MOUSE))}function s(l){if(i(l)){var n=a(l);e.pageX=n.pageX,e.pageY=n.pageY,u=(new Date).getTime(),null!==r&&clearInterval(r)}}function c(r){if(i(r)){var s=a(r),c={pageX:s.pageX,pageY:s.pageY},p=c.pageX-e.pageX,d=c.pageY-e.pageY;if(function(l,e,u){if(!n.contains(l))return!1;for(var t=l;t&&t!==n;){if(t.classList.contains(Ca.element.consuming))return!0;var r=ma(t);if([r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/)){var o=t.scrollHeight-t.clientHeight;if(o>0&&!(0===t.scrollTop&&u>0||t.scrollTop===o&&u<0))return!0;var a=t.scrollLeft-t.clientWidth;if(a>0&&!(0===t.scrollLeft&&e<0||t.scrollLeft===a&&e>0))return!0}t=t.parentNode}return!1}(r.target,p,d))return;o(p,d),e=c;var h=(new Date).getTime(),f=h-u;f>0&&(t.x=p/f,t.y=d/f,u=h),function(e,u){var t=Math.floor(n.scrollTop),r=n.scrollLeft,o=Math.abs(e),a=Math.abs(u);if(a>o){if(u<0&&t===l.contentHeight-l.containerHeight||u>0&&0===t)return 0===window.scrollY&&u>0&&Ia.isChrome}else if(o>a&&(e<0&&r===l.contentWidth-l.containerWidth||e>0&&0===r))return!0;return!0}(p,d)&&r.preventDefault()}}function p(){l.settings.swipeEasing&&(clearInterval(r),r=setInterval(function(){l.isInitialized?clearInterval(r):t.x||t.y?Math.abs(t.x)<.01&&Math.abs(t.y)<.01?clearInterval(r):(o(30*t.x,30*t.y),t.x*=.8,t.y*=.8):clearInterval(r)},10))}}},Da=function(l,n){var e=this;if(void 0===n&&(n={}),"string"==typeof l&&(l=document.querySelector(l)),!l||!l.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var u in this.element=l,l.classList.add(Ca.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},n)e.settings[u]=n[u];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var t,r,o=function(){return l.classList.add(Ca.state.focus)},a=function(){return l.classList.remove(Ca.state.focus)};this.isRtl="rtl"===ma(l).direction,this.isNegativeScroll=(r=l.scrollLeft,l.scrollLeft=-1,t=l.scrollLeft<0,l.scrollLeft=r,t),this.negativeScrollAdjustment=this.isNegativeScroll?l.scrollWidth-l.clientWidth:0,this.event=new Ta,this.ownerDocument=l.ownerDocument||document,this.scrollbarXRail=ya(Ca.element.rail("x")),l.appendChild(this.scrollbarXRail),this.scrollbarX=ya(Ca.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var i=ma(this.scrollbarXRail);this.scrollbarXBottom=parseInt(i.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=_a(i.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=_a(i.borderLeftWidth)+_a(i.borderRightWidth),ga(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=_a(i.marginLeft)+_a(i.marginRight),ga(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ya(Ca.element.rail("y")),l.appendChild(this.scrollbarYRail),this.scrollbarY=ya(Ca.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var s=ma(this.scrollbarYRail);this.scrollbarYRight=parseInt(s.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=_a(s.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(l){var n=ma(l);return _a(n.width)+_a(n.paddingLeft)+_a(n.paddingRight)+_a(n.borderLeftWidth)+_a(n.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=_a(s.borderTopWidth)+_a(s.borderBottomWidth),ga(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=_a(s.marginTop)+_a(s.marginBottom),ga(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:l.scrollLeft<=0?"start":l.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:l.scrollTop<=0?"start":l.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(l){return qa[l](e)}),this.lastScrollTop=Math.floor(l.scrollTop),this.lastScrollLeft=l.scrollLeft,this.event.bind(this.element,"scroll",function(l){return e.onScroll(l)}),Ea(this)};Da.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,ga(this.scrollbarXRail,{display:"block"}),ga(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=_a(ma(this.scrollbarXRail).marginLeft)+_a(ma(this.scrollbarXRail).marginRight),this.railYMarginHeight=_a(ma(this.scrollbarYRail).marginTop)+_a(ma(this.scrollbarYRail).marginBottom),ga(this.scrollbarXRail,{display:"none"}),ga(this.scrollbarYRail,{display:"none"}),Ea(this),Ma(this,"top",0,!1,!0),Ma(this,"left",0,!1,!0),ga(this.scrollbarXRail,{display:""}),ga(this.scrollbarYRail,{display:""}))},Da.prototype.onScroll=function(l){this.isAlive&&(Ea(this),Ma(this,"top",this.element.scrollTop-this.lastScrollTop),Ma(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Da.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),wa(this.scrollbarX),wa(this.scrollbarY),wa(this.scrollbarXRail),wa(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Da.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(l){return!l.match(/^ps([-_].+|)$/)}).join(" ")};var Ha=Da,La=function(){if("undefined"!=typeof Map)return Map;function l(l,n){var e=-1;return l.some(function(l,u){return l[0]===n&&(e=u,!0)}),e}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(n){var e=l(this.__entries__,n),u=this.__entries__[e];return u&&u[1]},n.prototype.set=function(n,e){var u=l(this.__entries__,n);~u?this.__entries__[u][1]=e:this.__entries__.push([n,e])},n.prototype.delete=function(n){var e=this.__entries__,u=l(e,n);~u&&e.splice(u,1)},n.prototype.has=function(n){return!!~l(this.__entries__,n)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(l,n){void 0===n&&(n=null);for(var e=0,u=this.__entries__;e<u.length;e++){var t=u[e];l.call(n,t[1],t[0])}},n}()}(),Fa="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Ja="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Ua="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Ja):function(l){return setTimeout(function(){return l(Date.now())},1e3/60)},Ba=2,Ga=20,Wa=["top","right","bottom","left","width","height","size","weight"],za="undefined"!=typeof MutationObserver,Va=function(){function l(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(l,n){var e=!1,u=!1,t=0;function r(){e&&(e=!1,l()),u&&a()}function o(){Ua(r)}function a(){var l=Date.now();if(e){if(l-t<Ba)return;u=!0}else e=!0,u=!1,setTimeout(o,n);t=l}return a}(this.refresh.bind(this),Ga)}return l.prototype.addObserver=function(l){~this.observers_.indexOf(l)||this.observers_.push(l),this.connected_||this.connect_()},l.prototype.removeObserver=function(l){var n=this.observers_,e=n.indexOf(l);~e&&n.splice(e,1),!n.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var l=this.observers_.filter(function(l){return l.gatherActive(),l.hasActive()});return l.forEach(function(l){return l.broadcastActive()}),l.length>0},l.prototype.connect_=function(){Fa&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),za?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){Fa&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(l){var n=l.propertyName,e=void 0===n?"":n;Wa.some(function(l){return!!~e.indexOf(l)})&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null,l}(),Ka=function(l,n){for(var e=0,u=Object.keys(n);e<u.length;e++){var t=u[e];Object.defineProperty(l,t,{value:n[t],enumerable:!1,writable:!1,configurable:!0})}return l},Qa=function(l){return l&&l.ownerDocument&&l.ownerDocument.defaultView||Ja},$a=li(0,0,0,0);function Ya(l){return parseFloat(l)||0}function Xa(l){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return n.reduce(function(n,e){return n+Ya(l["border-"+e+"-width"])},0)}var Za="undefined"!=typeof SVGGraphicsElement?function(l){return l instanceof Qa(l).SVGGraphicsElement}:function(l){return l instanceof Qa(l).SVGElement&&"function"==typeof l.getBBox};function li(l,n,e,u){return{x:l,y:n,width:e,height:u}}var ni=function(){function l(l){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=li(0,0,0,0),this.target=l}return l.prototype.isActive=function(){var l,n=(l=this.target,Fa?Za(l)?function(l){var n=l.getBBox();return li(0,0,n.width,n.height)}(l):function(l){var n=l.clientWidth,e=l.clientHeight;if(!n&&!e)return $a;var u=Qa(l).getComputedStyle(l),t=function(l){for(var n={},e=0,u=["top","right","bottom","left"];e<u.length;e++){var t=u[e];n[t]=Ya(l["padding-"+t])}return n}(u),r=t.left+t.right,o=t.top+t.bottom,a=Ya(u.width),i=Ya(u.height);if("border-box"===u.boxSizing&&(Math.round(a+r)!==n&&(a-=Xa(u,"left","right")+r),Math.round(i+o)!==e&&(i-=Xa(u,"top","bottom")+o)),!function(l){return l===Qa(l).document.documentElement}(l)){var s=Math.round(a+r)-n,c=Math.round(i+o)-e;1!==Math.abs(s)&&(a-=s),1!==Math.abs(c)&&(i-=c)}return li(t.left,t.top,a,i)}(l):$a);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},l.prototype.broadcastRect=function(){var l=this.contentRect_;return this.broadcastWidth=l.width,this.broadcastHeight=l.height,l},l}(),ei=function(){return function(l,n){var e,u,t,r,o,a,i,s=(u=(e=n).x,t=e.y,r=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype),Ka(i,{x:u,y:t,width:r,height:o,top:t,right:u+r,bottom:o+t,left:u}),i);Ka(this,{target:l,contentRect:s})}}(),ui=function(){function l(l,n,e){if(this.activeObservations_=[],this.observations_=new La,"function"!=typeof l)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=l,this.controller_=n,this.callbackCtx_=e}return l.prototype.observe=function(l){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(l instanceof Qa(l).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(l)||(n.set(l,new ni(l)),this.controller_.addObserver(this),this.controller_.refresh())}},l.prototype.unobserve=function(l){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(l instanceof Qa(l).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(l)&&(n.delete(l),n.size||this.controller_.removeObserver(this))}},l.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},l.prototype.gatherActive=function(){var l=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&l.activeObservations_.push(n)})},l.prototype.broadcastActive=function(){if(this.hasActive()){var l=this.callbackCtx_,n=this.activeObservations_.map(function(l){return new ei(l.target,l.broadcastRect())});this.callback_.call(l,n,l),this.clearActive()}},l.prototype.clearActive=function(){this.activeObservations_.splice(0)},l.prototype.hasActive=function(){return this.activeObservations_.length>0},l}(),ti="undefined"!=typeof WeakMap?new WeakMap:new La,ri=function(){return function l(n){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=Va.getInstance(),u=new ui(n,e,this);ti.set(this,u)}}();["observe","unobserve","disconnect"].forEach(function(l){ri.prototype[l]=function(){var n;return(n=ti.get(this))[l].apply(n,arguments)}});var oi=void 0!==Ja.ResizeObserver?Ja.ResizeObserver:ri,ai=new I("PERFECT_SCROLLBAR_CONFIG"),ii=function(){return function(l,n,e,u){this.x=l,this.y=n,this.w=e,this.h=u}}(),si=function(){return function(l,n){this.x=l,this.y=n}}(),ci=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"],pi=function(){function l(l){void 0===l&&(l={}),this.assign(l)}return l.prototype.assign=function(l){for(var n in void 0===l&&(l={}),l)this[n]=l[n]},l}(),di=function(){function l(l,n,e,u,t){this.zone=l,this.differs=n,this.elementRef=e,this.platformId=u,this.defaults=t,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new d,this.disabled=!1,this.psScrollY=new jn,this.psScrollX=new jn,this.psScrollUp=new jn,this.psScrollDown=new jn,this.psScrollLeft=new jn,this.psScrollRight=new jn,this.psYReachEnd=new jn,this.psYReachStart=new jn,this.psXReachEnd=new jn,this.psXReachStart=new jn}return l.prototype.ngOnInit=function(){var l=this;if(!this.disabled&&da(this.platformId)){var n=new pi(this.defaults);n.assign(this.config),this.zone.runOutsideAngular(function(){l.instance=new Ha(l.elementRef.nativeElement,n)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(function(){l.ro=new oi(function(){l.update()}),l.elementRef.nativeElement.children[0]&&l.ro.observe(l.elementRef.nativeElement.children[0]),l.ro.observe(l.elementRef.nativeElement)}),this.zone.runOutsideAngular(function(){ci.forEach(function(n){var e,u=n.replace(/([A-Z])/g,function(l){return"-"+l.toLowerCase()});_o(l.elementRef.nativeElement,u).pipe(Eo(20),(e=l.ngDestroy,function(l){return l.lift(new Lo(e))})).subscribe(function(e){l[n].emit(e)})})})}},l.prototype.ngOnDestroy=function(){var l=this;da(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(function(){l.instance&&l.instance.destroy()}),this.instance=null)},l.prototype.ngDoCheck=function(){!this.disabled&&this.configDiff&&da(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())},l.prototype.ngOnChanges=function(l){l.disabled&&!l.disabled.isFirstChange()&&da(this.platformId)&&l.disabled.currentValue!==l.disabled.previousValue&&(!0===l.disabled.currentValue?this.ngOnDestroy():!1===l.disabled.currentValue&&this.ngOnInit())},l.prototype.ps=function(){return this.instance},l.prototype.update=function(){var l=this;"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){if(!l.disabled&&l.configDiff)try{l.zone.runOutsideAngular(function(){l.instance&&l.instance.update()})}catch(n){}},0))},l.prototype.geometry=function(l){return void 0===l&&(l="scroll"),new ii(this.elementRef.nativeElement[l+"Left"],this.elementRef.nativeElement[l+"Top"],this.elementRef.nativeElement[l+"Width"],this.elementRef.nativeElement[l+"Height"])},l.prototype.position=function(l){return void 0===l&&(l=!1),!l&&this.instance?new si(this.instance.reach.x||0,this.instance.reach.y||0):new si(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)},l.prototype.scrollable=function(l){void 0===l&&(l="any");var n=this.elementRef.nativeElement;return"any"===l?n.classList.contains("ps--active-x")||n.classList.contains("ps--active-y"):"both"===l?n.classList.contains("ps--active-x")&&n.classList.contains("ps--active-y"):n.classList.contains("ps--active-"+l)},l.prototype.scrollTo=function(l,n,e){this.disabled||(null==n&&null==e?this.animateScrolling("scrollTop",l,e):(null!=l&&this.animateScrolling("scrollLeft",l,e),null!=n&&this.animateScrolling("scrollTop",n,e)))},l.prototype.scrollToX=function(l,n){this.animateScrolling("scrollLeft",l,n)},l.prototype.scrollToY=function(l,n){this.animateScrolling("scrollTop",l,n)},l.prototype.scrollToTop=function(l,n){this.animateScrolling("scrollTop",l||0,n)},l.prototype.scrollToLeft=function(l,n){this.animateScrolling("scrollLeft",l||0,n)},l.prototype.scrollToRight=function(l,n){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(l||0),n)},l.prototype.scrollToBottom=function(l,n){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(l||0),n)},l.prototype.scrollToElement=function(l,n,e){var u=this.elementRef.nativeElement.querySelector(l);if(u){var t=u.getBoundingClientRect(),r=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",t.left-r.left+this.elementRef.nativeElement.scrollLeft+(n||0),e),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",t.top-r.top+this.elementRef.nativeElement.scrollTop+(n||0),e)}},l.prototype.animateScrolling=function(l,n,e){var u=this;if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),e&&"undefined"!=typeof window){if(n!==this.elementRef.nativeElement[l]){var t=0,r=0,o=performance.now(),a=this.elementRef.nativeElement[l],i=(a-n)/2,s=function(c){r+=Math.PI/(e/(c-o)),t=Math.round(n+i+i*Math.cos(r)),u.elementRef.nativeElement[l]===a&&(r>=Math.PI?u.animateScrolling(l,n,0):(u.elementRef.nativeElement[l]=t,a=u.elementRef.nativeElement[l],o=c,u.animation=window.requestAnimationFrame(s)))};window.requestAnimationFrame(s)}}else this.elementRef.nativeElement[l]=n},l}(),hi=function(){return function(){}}(),fi={suppressScrollX:!0,wheelPropagation:!0},mi=function(){return function(){}}(),gi=e("F/XL"),yi=e("0/uQ"),bi=function(l){function n(n){var e=l.call(this)||this;return e._value=n,e}return u.c(n,l),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(n){var e=l.prototype._subscribe.call(this,n);return e&&!e.closed&&n.next(this._value),e},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i;return this._value},n.prototype.next=function(n){l.prototype.next.call(this,this._value=n)},n}(d);function vi(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}vi.prototype=Object.create(Error.prototype);var wi=vi,xi={},Ci=function(){function l(l){this.resultSelector=l}return l.prototype.call=function(l,n){return n.subscribe(new ki(l,this.resultSelector))},l}(),ki=function(l){function n(n,e){var u=l.call(this,n)||this;return u.resultSelector=e,u.active=0,u.values=[],u.observables=[],u}return u.c(n,l),n.prototype._next=function(l){this.values.push(xi),this.observables.push(l)},n.prototype._complete=function(){var l=this.observables,n=l.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(var e=0;e<n;e++){var u=l[e];this.add(Object(Ho.a)(this,u,u,e))}}},n.prototype.notifyComplete=function(l){0==(this.active-=1)&&this.destination.complete()},n.prototype.notifyNext=function(l,n,e,u,t){var r=this.values,o=this.toRespond?r[e]===xi?--this.toRespond:this.toRespond:0;r[e]=n,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},n.prototype._tryResultSelector=function(l){var n;try{n=this.resultSelector.apply(this,l)}catch(e){return void this.destination.error(e)}this.destination.next(n)},n}(Do.a),ji=e("G5J1");function Oi(l){return new r.a(function(n){var e;try{e=l()}catch(u){return void n.error(u)}return(e?Object(yi.a)(e):Object(ji.b)()).subscribe(n)})}function Si(){return y(1)}var Pi=e("VnD/"),Ti=e("b7mW");function Ai(l){return function(n){return 0===l?Object(ji.b)():n.lift(new Mi(l))}}var Mi=function(){function l(l){if(this.total=l,this.total<0)throw new Ti.a}return l.prototype.call=function(l,n){return n.subscribe(new _i(l,this.total))},l}(),_i=function(l){function n(n,e){var u=l.call(this,n)||this;return u.total=e,u.ring=new Array,u.count=0,u}return u.c(n,l),n.prototype._next=function(l){var n=this.ring,e=this.total,u=this.count++;n.length<e?n.push(l):n[u%e]=l},n.prototype._complete=function(){var l=this.destination,n=this.count;if(n>0)for(var e=this.count>=this.total?this.total:this.count,u=this.ring,t=0;t<e;t++){var r=n++%e;l.next(u[r])}l.complete()},n}(o.a),Ii=e("+umK");function Ei(l,n,e){return function(u){return u.lift(new Ri(l,n,e))}}var Ri=function(){function l(l,n,e){this.nextOrObserver=l,this.error=n,this.complete=e}return l.prototype.call=function(l,n){return n.subscribe(new Ni(l,this.nextOrObserver,this.error,this.complete))},l}(),Ni=function(l){function n(n,e,u,t){var r=l.call(this,n)||this;return r._tapNext=Ii.a,r._tapError=Ii.a,r._tapComplete=Ii.a,r._tapError=u||Ii.a,r._tapComplete=t||Ii.a,Object(Ao.a)(e)?(r._context=r,r._tapNext=e):e&&(r._context=e,r._tapNext=e.next||Ii.a,r._tapError=e.error||Ii.a,r._tapComplete=e.complete||Ii.a),r}return u.c(n,l),n.prototype._next=function(l){try{this._tapNext.call(this._context,l)}catch(n){return void this.destination.error(n)}this.destination.next(l)},n.prototype._error=function(l){try{this._tapError.call(this._context,l)}catch(l){return void this.destination.error(l)}this.destination.error(l)},n.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(l){return void this.destination.error(l)}return this.destination.complete()},n}(o.a),qi=function(l){return void 0===l&&(l=Di),Ei({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw l()}})};function Di(){return new wi}function Hi(l){return void 0===l&&(l=null),function(n){return n.lift(new Li(l))}}var Li=function(){function l(l){this.defaultValue=l}return l.prototype.call=function(l,n){return n.subscribe(new Fi(l,this.defaultValue))},l}(),Fi=function(l){function n(n,e){var u=l.call(this,n)||this;return u.defaultValue=e,u.isEmpty=!0,u}return u.c(n,l),n.prototype._next=function(l){this.isEmpty=!1,this.destination.next(l)},n.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},n}(o.a);function Ji(l,n){var e=arguments.length>=2;return function(u){return u.pipe(l?Object(Pi.a)(function(n,e){return l(n,e,u)}):g,Ai(1),e?Hi(n):qi(function(){return new wi}))}}var Ui=e("9Z1F"),Bi=e("t9fZ");function Gi(l,n){var e=arguments.length>=2;return function(u){return u.pipe(l?Object(Pi.a)(function(n,e){return l(n,e,u)}):g,Object(Bi.a)(1),e?Hi(n):qi(function(){return new wi}))}}var Wi=function(){function l(l,n,e){this.predicate=l,this.thisArg=n,this.source=e}return l.prototype.call=function(l,n){return n.subscribe(new zi(l,this.predicate,this.thisArg,this.source))},l}(),zi=function(l){function n(n,e,u,t){var r=l.call(this,n)||this;return r.predicate=e,r.thisArg=u,r.source=t,r.index=0,r.thisArg=u||r,r}return u.c(n,l),n.prototype.notifyComplete=function(l){this.destination.next(l),this.destination.complete()},n.prototype._next=function(l){var n=!1;try{n=this.predicate.call(this.thisArg,l,this.index++,this.source)}catch(e){return void this.destination.error(e)}n||this.notifyComplete(!1)},n.prototype._complete=function(){this.notifyComplete(!0)},n}(o.a),Vi=e("rPjj");function Ki(l,n){return"function"==typeof n?function(e){return e.pipe(Ki(function(e,u){return Object(yi.a)(l(e,u)).pipe(Object(Mo.a)(function(l,t){return n(e,l,u,t)}))}))}:function(n){return n.lift(new Qi(l))}}var Qi=function(){function l(l){this.project=l}return l.prototype.call=function(l,n){return n.subscribe(new $i(l,this.project))},l}(),$i=function(l){function n(n,e){var u=l.call(this,n)||this;return u.project=e,u.index=0,u}return u.c(n,l),n.prototype._next=function(l){var n,e=this.index++;try{n=this.project(l,e)}catch(u){return void this.destination.error(u)}this._innerSub(n,l,e)},n.prototype._innerSub=function(l,n,e){var u=this.innerSubscription;u&&u.unsubscribe();var t=new Vi.a(this,void 0,void 0);this.destination.add(t),this.innerSubscription=Object(Ho.a)(this,l,n,e,t)},n.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||l.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=null},n.prototype.notifyComplete=function(n){this.destination.remove(n),this.innerSubscription=null,this.isStopped&&l.prototype._complete.call(this)},n.prototype.notifyNext=function(l,n,e,u,t){this.destination.next(n)},n}(Do.a),Yi=e("PU8L");function Xi(l,n){var e=!1;return arguments.length>=2&&(e=!0),function(u){return u.lift(new Zi(l,n,e))}}var Zi=function(){function l(l,n,e){void 0===e&&(e=!1),this.accumulator=l,this.seed=n,this.hasSeed=e}return l.prototype.call=function(l,n){return n.subscribe(new ls(l,this.accumulator,this.seed,this.hasSeed))},l}(),ls=function(l){function n(n,e,u,t){var r=l.call(this,n)||this;return r.accumulator=e,r._seed=u,r.hasSeed=t,r.index=0,r}return u.c(n,l),Object.defineProperty(n.prototype,"seed",{get:function(){return this._seed},set:function(l){this.hasSeed=!0,this._seed=l},enumerable:!0,configurable:!0}),n.prototype._next=function(l){if(this.hasSeed)return this._tryNext(l);this.seed=l,this.destination.next(l)},n.prototype._tryNext=function(l){var n,e=this.index++;try{n=this.accumulator(this.seed,l,e)}catch(u){this.destination.error(u)}this.seed=n,this.destination.next(n)},n}(o.a);function ns(l,n){return Object(m.a)(l,n,1)}var es=e("y3By"),us=function(){function l(l){this.callback=l}return l.prototype.call=function(l,n){return n.subscribe(new ts(l,this.callback))},l}(),ts=function(l){function n(n,e){var u=l.call(this,n)||this;return u.add(new t.a(e)),u}return u.c(n,l),n}(o.a),rs=null;function os(){return rs}var as,is={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ss={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};J.Node&&(as=J.Node.prototype.contains||function(l){return!!(16&this.compareDocumentPosition(l))});var ps,ds=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n.prototype.parse=function(l){throw new Error("parse not implemented")},n.makeCurrent=function(){var l;l=new n,rs||(rs=l)},n.prototype.hasProperty=function(l,n){return n in l},n.prototype.setProperty=function(l,n,e){l[n]=e},n.prototype.getProperty=function(l,n){return l[n]},n.prototype.invoke=function(l,n,e){var t;(t=l)[n].apply(t,Object(u.g)(e))},n.prototype.logError=function(l){window.console&&(console.error?console.error(l):console.log(l))},n.prototype.log=function(l){window.console&&window.console.log&&window.console.log(l)},n.prototype.logGroup=function(l){window.console&&window.console.group&&window.console.group(l)},n.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(n.prototype,"attrToPropMap",{get:function(){return is},enumerable:!0,configurable:!0}),n.prototype.contains=function(l,n){return as.call(l,n)},n.prototype.querySelector=function(l,n){return l.querySelector(n)},n.prototype.querySelectorAll=function(l,n){return l.querySelectorAll(n)},n.prototype.on=function(l,n,e){l.addEventListener(n,e,!1)},n.prototype.onAndCancel=function(l,n,e){return l.addEventListener(n,e,!1),function(){l.removeEventListener(n,e,!1)}},n.prototype.dispatchEvent=function(l,n){l.dispatchEvent(n)},n.prototype.createMouseEvent=function(l){var n=this.getDefaultDocument().createEvent("MouseEvent");return n.initEvent(l,!0,!0),n},n.prototype.createEvent=function(l){var n=this.getDefaultDocument().createEvent("Event");return n.initEvent(l,!0,!0),n},n.prototype.preventDefault=function(l){l.preventDefault(),l.returnValue=!1},n.prototype.isPrevented=function(l){return l.defaultPrevented||null!=l.returnValue&&!l.returnValue},n.prototype.getInnerHTML=function(l){return l.innerHTML},n.prototype.getTemplateContent=function(l){return"content"in l&&this.isTemplateElement(l)?l.content:null},n.prototype.getOuterHTML=function(l){return l.outerHTML},n.prototype.nodeName=function(l){return l.nodeName},n.prototype.nodeValue=function(l){return l.nodeValue},n.prototype.type=function(l){return l.type},n.prototype.content=function(l){return this.hasProperty(l,"content")?l.content:l},n.prototype.firstChild=function(l){return l.firstChild},n.prototype.nextSibling=function(l){return l.nextSibling},n.prototype.parentElement=function(l){return l.parentNode},n.prototype.childNodes=function(l){return l.childNodes},n.prototype.childNodesAsList=function(l){for(var n=l.childNodes,e=new Array(n.length),u=0;u<n.length;u++)e[u]=n[u];return e},n.prototype.clearNodes=function(l){for(;l.firstChild;)l.removeChild(l.firstChild)},n.prototype.appendChild=function(l,n){l.appendChild(n)},n.prototype.removeChild=function(l,n){l.removeChild(n)},n.prototype.replaceChild=function(l,n,e){l.replaceChild(n,e)},n.prototype.remove=function(l){return l.parentNode&&l.parentNode.removeChild(l),l},n.prototype.insertBefore=function(l,n,e){l.insertBefore(e,n)},n.prototype.insertAllBefore=function(l,n,e){e.forEach(function(e){return l.insertBefore(e,n)})},n.prototype.insertAfter=function(l,n,e){l.insertBefore(e,n.nextSibling)},n.prototype.setInnerHTML=function(l,n){l.innerHTML=n},n.prototype.getText=function(l){return l.textContent},n.prototype.setText=function(l,n){l.textContent=n},n.prototype.getValue=function(l){return l.value},n.prototype.setValue=function(l,n){l.value=n},n.prototype.getChecked=function(l){return l.checked},n.prototype.setChecked=function(l,n){l.checked=n},n.prototype.createComment=function(l){return this.getDefaultDocument().createComment(l)},n.prototype.createTemplate=function(l){var n=this.getDefaultDocument().createElement("template");return n.innerHTML=l,n},n.prototype.createElement=function(l,n){return(n=n||this.getDefaultDocument()).createElement(l)},n.prototype.createElementNS=function(l,n,e){return(e=e||this.getDefaultDocument()).createElementNS(l,n)},n.prototype.createTextNode=function(l,n){return(n=n||this.getDefaultDocument()).createTextNode(l)},n.prototype.createScriptTag=function(l,n,e){var u=(e=e||this.getDefaultDocument()).createElement("SCRIPT");return u.setAttribute(l,n),u},n.prototype.createStyleElement=function(l,n){var e=(n=n||this.getDefaultDocument()).createElement("style");return this.appendChild(e,this.createTextNode(l,n)),e},n.prototype.createShadowRoot=function(l){return l.createShadowRoot()},n.prototype.getShadowRoot=function(l){return l.shadowRoot},n.prototype.getHost=function(l){return l.host},n.prototype.clone=function(l){return l.cloneNode(!0)},n.prototype.getElementsByClassName=function(l,n){return l.getElementsByClassName(n)},n.prototype.getElementsByTagName=function(l,n){return l.getElementsByTagName(n)},n.prototype.classList=function(l){return Array.prototype.slice.call(l.classList,0)},n.prototype.addClass=function(l,n){l.classList.add(n)},n.prototype.removeClass=function(l,n){l.classList.remove(n)},n.prototype.hasClass=function(l,n){return l.classList.contains(n)},n.prototype.setStyle=function(l,n,e){l.style[n]=e},n.prototype.removeStyle=function(l,n){l.style[n]=""},n.prototype.getStyle=function(l,n){return l.style[n]},n.prototype.hasStyle=function(l,n,e){var u=this.getStyle(l,n)||"";return e?u==e:u.length>0},n.prototype.tagName=function(l){return l.tagName},n.prototype.attributeMap=function(l){for(var n=new Map,e=l.attributes,u=0;u<e.length;u++){var t=e.item(u);n.set(t.name,t.value)}return n},n.prototype.hasAttribute=function(l,n){return l.hasAttribute(n)},n.prototype.hasAttributeNS=function(l,n,e){return l.hasAttributeNS(n,e)},n.prototype.getAttribute=function(l,n){return l.getAttribute(n)},n.prototype.getAttributeNS=function(l,n,e){return l.getAttributeNS(n,e)},n.prototype.setAttribute=function(l,n,e){l.setAttribute(n,e)},n.prototype.setAttributeNS=function(l,n,e,u){l.setAttributeNS(n,e,u)},n.prototype.removeAttribute=function(l,n){l.removeAttribute(n)},n.prototype.removeAttributeNS=function(l,n,e){l.removeAttributeNS(n,e)},n.prototype.templateAwareRoot=function(l){return this.isTemplateElement(l)?this.content(l):l},n.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},n.prototype.getDefaultDocument=function(){return document},n.prototype.getBoundingClientRect=function(l){try{return l.getBoundingClientRect()}catch(n){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},n.prototype.getTitle=function(l){return l.title},n.prototype.setTitle=function(l,n){l.title=n||""},n.prototype.elementMatches=function(l,n){return!!this.isElementNode(l)&&(l.matches&&l.matches(n)||l.msMatchesSelector&&l.msMatchesSelector(n)||l.webkitMatchesSelector&&l.webkitMatchesSelector(n))},n.prototype.isTemplateElement=function(l){return this.isElementNode(l)&&"TEMPLATE"===l.nodeName},n.prototype.isTextNode=function(l){return l.nodeType===Node.TEXT_NODE},n.prototype.isCommentNode=function(l){return l.nodeType===Node.COMMENT_NODE},n.prototype.isElementNode=function(l){return l.nodeType===Node.ELEMENT_NODE},n.prototype.hasShadowRoot=function(l){return null!=l.shadowRoot&&l instanceof HTMLElement},n.prototype.isShadowRoot=function(l){return l instanceof DocumentFragment},n.prototype.importIntoDoc=function(l){return document.importNode(this.templateAwareRoot(l),!0)},n.prototype.adoptNode=function(l){return document.adoptNode(l)},n.prototype.getHref=function(l){return l.getAttribute("href")},n.prototype.getEventKey=function(l){var n=l.key;if(null==n){if(null==(n=l.keyIdentifier))return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===l.location&&cs.hasOwnProperty(n)&&(n=cs[n]))}return ss[n]||n},n.prototype.getGlobalEventTarget=function(l,n){return"window"===n?window:"document"===n?l:"body"===n?l.body:null},n.prototype.getHistory=function(){return window.history},n.prototype.getLocation=function(){return window.location},n.prototype.getBaseHref=function(l){var n,e=hs||(hs=document.querySelector("base"))?hs.getAttribute("href"):null;return null==e?null:(n=e,ps||(ps=document.createElement("a")),ps.setAttribute("href",n),"/"===ps.pathname.charAt(0)?ps.pathname:"/"+ps.pathname)},n.prototype.resetBaseElement=function(){hs=null},n.prototype.getUserAgent=function(){return window.navigator.userAgent},n.prototype.setData=function(l,n,e){this.setAttribute(l,"data-"+n,e)},n.prototype.getData=function(l,n){return this.getAttribute(l,"data-"+n)},n.prototype.getComputedStyle=function(l){return getComputedStyle(l)},n.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},n.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},n.prototype.supportsCookies=function(){return!0},n.prototype.getCookie=function(l){return function(l,n){var e,t;n=encodeURIComponent(n);try{for(var r=Object(u.h)(l.split(";")),o=r.next();!o.done;o=r.next()){var a=o.value,i=a.indexOf("="),s=Object(u.f)(-1==i?[a,""]:[a.slice(0,i),a.slice(i+1)],2),c=s[1];if(s[0].trim()===n)return decodeURIComponent(c)}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null}(document.cookie,l)},n.prototype.setCookie=function(l,n){document.cookie=encodeURIComponent(l)+"="+encodeURIComponent(n)},n}(function(l){function n(){var n=l.call(this)||this;n._animationPrefix=null,n._transitionEnd=null;try{var e=n.createElement("div",document);if(null!=n.getStyle(e,"animationName"))n._animationPrefix="";else for(var u=["Webkit","Moz","O","ms"],t=0;t<u.length;t++)if(null!=n.getStyle(e,u[t]+"AnimationName")){n._animationPrefix="-"+u[t].toLowerCase()+"-";break}var r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(r).forEach(function(l){null!=n.getStyle(e,l)&&(n._transitionEnd=r[l])})}catch(o){n._animationPrefix=null,n._transitionEnd=null}return n}return Object(u.c)(n,l),n.prototype.getDistributedNodes=function(l){return l.getDistributedNodes()},n.prototype.resolveAndSetHref=function(l,n,e){l.href=null==e?n:n+"/../"+e},n.prototype.supportsDOMEvents=function(){return!0},n.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},n.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},n.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},n.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},n}(function(){function l(){this.resourceLoaderType=null}return Object.defineProperty(l.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(l){this._attrToPropMap=l},enumerable:!0,configurable:!0}),l}())),hs=null,fs=sa;function ms(){return!!window.history.pushState}var gs=function(l){function n(n){var e=l.call(this)||this;return e._doc=n,e._init(),e}return Object(u.c)(n,l),n.prototype._init=function(){this.location=os().getLocation(),this._history=os().getHistory()},n.prototype.getBaseHrefFromDOM=function(){return os().getBaseHref(this._doc)},n.prototype.onPopState=function(l){os().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",l,!1)},n.prototype.onHashChange=function(l){os().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",l,!1)},Object.defineProperty(n.prototype,"pathname",{get:function(){return this.location.pathname},set:function(l){this.location.pathname=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),n.prototype.pushState=function(l,n,e){ms()?this._history.pushState(l,n,e):this.location.hash=e},n.prototype.replaceState=function(l,n,e){ms()?this._history.replaceState(l,n,e):this.location.hash=e},n.prototype.forward=function(){this._history.forward()},n.prototype.back=function(){this._history.back()},Object(u.b)([Object(u.e)(0,Z(fs)),Object(u.d)("design:paramtypes",[Object])],n)}(Jo),ys=new I("TRANSITION_ID"),bs=[{provide:Jn,useFactory:function(l,n,e){return function(){e.get(Un).donePromise.then(function(){var e=os();Array.prototype.slice.apply(e.querySelectorAll(n,"style[ng-transition]")).filter(function(n){return e.getAttribute(n,"ng-transition")===l}).forEach(function(l){return e.remove(l)})})}},deps:[ys,fs,vl],multi:!0}],vs=function(){function l(){}return l.init=function(){var n;n=new l,we=n},l.prototype.addToWindow=function(l){J.getAngularTestability=function(n,e){void 0===e&&(e=!0);var u=l.findTestabilityInTree(n,e);if(null==u)throw new Error("Could not find testability for element.");return u},J.getAllAngularTestabilities=function(){return l.getAllTestabilities()},J.getAllAngularRootElements=function(){return l.getAllRootElements()},J.frameworkStabilizers||(J.frameworkStabilizers=[]),J.frameworkStabilizers.push(function(l){var n=J.getAllAngularTestabilities(),e=n.length,u=!1,t=function(n){u=u||n,0==--e&&l(u)};n.forEach(function(l){l.whenStable(t)})})},l.prototype.findTestabilityInTree=function(l,n,e){if(null==n)return null;var u=l.getTestability(n);return null!=u?u:e?os().isShadowRoot(n)?this.findTestabilityInTree(l,os().getHost(n),!0):this.findTestabilityInTree(l,os().parentElement(n),!0):null},l}();function ws(l,n){"undefined"!=typeof COMPILED&&COMPILED||((J.ng=J.ng||{})[l]=n)}var xs={ApplicationRef:Pe,NgZone:ce};function Cs(l){return Ue(l)}var ks=new I("EventManagerPlugins"),js=function(){function l(l,n){var e=this;this._zone=n,this._eventNameToPlugin=new Map,l.forEach(function(l){return l.manager=e}),this._plugins=l.slice().reverse()}return l.prototype.addEventListener=function(l,n,e){return this._findPluginFor(n).addEventListener(l,n,e)},l.prototype.addGlobalEventListener=function(l,n,e){return this._findPluginFor(n).addGlobalEventListener(l,n,e)},l.prototype.getZone=function(){return this._zone},l.prototype._findPluginFor=function(l){var n=this._eventNameToPlugin.get(l);if(n)return n;for(var e=this._plugins,u=0;u<e.length;u++){var t=e[u];if(t.supports(l))return this._eventNameToPlugin.set(l,t),t}throw new Error("No event manager plugin found for event "+l)},l}(),Os=function(){function l(l){this._doc=l}return l.prototype.addGlobalEventListener=function(l,n,e){var u=os().getGlobalEventTarget(this._doc,l);if(!u)throw new Error("Unsupported event target "+u+" for event "+n);return this.addEventListener(u,n,e)},l}(),Ss=function(){function l(){this._stylesSet=new Set}return l.prototype.addStyles=function(l){var n=this,e=new Set;l.forEach(function(l){n._stylesSet.has(l)||(n._stylesSet.add(l),e.add(l))}),this.onStylesAdded(e)},l.prototype.onStylesAdded=function(l){},l.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},l}(),Ps=function(l){function n(n){var e=l.call(this)||this;return e._doc=n,e._hostNodes=new Set,e._styleNodes=new Set,e._hostNodes.add(n.head),e}return Object(u.c)(n,l),n.prototype._addStylesToHost=function(l,n){var e=this;l.forEach(function(l){var u=e._doc.createElement("style");u.textContent=l,e._styleNodes.add(n.appendChild(u))})},n.prototype.addHost=function(l){this._addStylesToHost(this._stylesSet,l),this._hostNodes.add(l)},n.prototype.removeHost=function(l){this._hostNodes.delete(l)},n.prototype.onStylesAdded=function(l){var n=this;this._hostNodes.forEach(function(e){return n._addStylesToHost(l,e)})},n.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(l){return os().remove(l)})},n}(Ss),Ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},As=/%COMP%/g,Ms="_nghost-%COMP%",_s="_ngcontent-%COMP%";function Is(l,n,e){for(var u=0;u<n.length;u++){var t=n[u];Array.isArray(t)?Is(l,t,e):(t=t.replace(As,l),e.push(t))}return e}function Es(l){return function(n){!1===l(n)&&(n.preventDefault(),n.returnValue=!1)}}var Rs=function(){function l(l,n){this.eventManager=l,this.sharedStylesHost=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ns(l)}return l.prototype.createRenderer=function(l,n){if(!l||!n)return this.defaultRenderer;switch(n.encapsulation){case X.Emulated:var e=this.rendererByCompId.get(n.id);return e||(e=new Ls(this.eventManager,this.sharedStylesHost,n),this.rendererByCompId.set(n.id,e)),e.applyToHost(l),e;case X.Native:case X.ShadowDom:return new Fs(this.eventManager,this.sharedStylesHost,l,n);default:if(!this.rendererByCompId.has(n.id)){var u=Is(n.id,n.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}},l.prototype.begin=function(){},l.prototype.end=function(){},l}(),Ns=function(){function l(l){this.eventManager=l,this.data=Object.create(null)}return l.prototype.destroy=function(){},l.prototype.createElement=function(l,n){return n?document.createElementNS(Ts[n],l):document.createElement(l)},l.prototype.createComment=function(l){return document.createComment(l)},l.prototype.createText=function(l){return document.createTextNode(l)},l.prototype.appendChild=function(l,n){l.appendChild(n)},l.prototype.insertBefore=function(l,n,e){l&&l.insertBefore(n,e)},l.prototype.removeChild=function(l,n){l&&l.removeChild(n)},l.prototype.selectRootElement=function(l,n){var e="string"==typeof l?document.querySelector(l):l;if(!e)throw new Error('The selector "'+l+'" did not match any elements');return n||(e.textContent=""),e},l.prototype.parentNode=function(l){return l.parentNode},l.prototype.nextSibling=function(l){return l.nextSibling},l.prototype.setAttribute=function(l,n,e,u){if(u){n=u+":"+n;var t=Ts[u];t?l.setAttributeNS(t,n,e):l.setAttribute(n,e)}else l.setAttribute(n,e)},l.prototype.removeAttribute=function(l,n,e){if(e){var u=Ts[e];u?l.removeAttributeNS(u,n):l.removeAttribute(e+":"+n)}else l.removeAttribute(n)},l.prototype.addClass=function(l,n){l.classList.add(n)},l.prototype.removeClass=function(l,n){l.classList.remove(n)},l.prototype.setStyle=function(l,n,e,u){u&Kl.DashCase?l.style.setProperty(n,e,u&Kl.Important?"important":""):l.style[n]=e},l.prototype.removeStyle=function(l,n,e){e&Kl.DashCase?l.style.removeProperty(n):l.style[n]=""},l.prototype.setProperty=function(l,n,e){Ds(n,"property"),l[n]=e},l.prototype.setValue=function(l,n){l.nodeValue=n},l.prototype.listen=function(l,n,e){return Ds(n,"listener"),"string"==typeof l?this.eventManager.addGlobalEventListener(l,n,Es(e)):this.eventManager.addEventListener(l,n,Es(e))},l}(),qs="@".charCodeAt(0);function Ds(l,n){if(l.charCodeAt(0)===qs)throw new Error("Found the synthetic "+n+" "+l+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Hs,Ls=function(l){function n(n,e,u){var t=l.call(this,n)||this;t.component=u;var r=Is(u.id,u.styles,[]);return e.addStyles(r),t.contentAttr=_s.replace(As,u.id),t.hostAttr=Ms.replace(As,u.id),t}return Object(u.c)(n,l),n.prototype.applyToHost=function(n){l.prototype.setAttribute.call(this,n,this.hostAttr,"")},n.prototype.createElement=function(n,e){var u=l.prototype.createElement.call(this,n,e);return l.prototype.setAttribute.call(this,u,this.contentAttr,""),u},n}(Ns),Fs=function(l){function n(n,e,u,t){var r=l.call(this,n)||this;r.sharedStylesHost=e,r.hostEl=u,r.component=t,r.shadowRoot=t.encapsulation===X.ShadowDom?u.attachShadow({mode:"open"}):u.createShadowRoot(),r.sharedStylesHost.addHost(r.shadowRoot);for(var o=Is(t.id,t.styles,[]),a=0;a<o.length;a++){var i=document.createElement("style");i.textContent=o[a],r.shadowRoot.appendChild(i)}return r}return Object(u.c)(n,l),n.prototype.nodeOrShadowRoot=function(l){return l===this.hostEl?this.shadowRoot:l},n.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},n.prototype.appendChild=function(n,e){return l.prototype.appendChild.call(this,this.nodeOrShadowRoot(n),e)},n.prototype.insertBefore=function(n,e,u){return l.prototype.insertBefore.call(this,this.nodeOrShadowRoot(n),e,u)},n.prototype.removeChild=function(n,e){return l.prototype.removeChild.call(this,this.nodeOrShadowRoot(n),e)},n.prototype.parentNode=function(n){return this.nodeOrShadowRoot(l.prototype.parentNode.call(this,this.nodeOrShadowRoot(n)))},n}(Ns),Js="undefined"!=typeof Zone&&Zone.__symbol__||function(l){return"__zone_symbol__"+l},Us=Js("addEventListener"),Bs=Js("removeEventListener"),Gs={},Ws="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Js("BLACK_LISTED_EVENTS")]&&(Hs={});var zs=function(l){return!!Hs&&Hs.hasOwnProperty(l)},Vs=function(l){var n=Gs[l.type];if(n){var e=this[n];if(e){var u=[l];if(1===e.length)return(o=e[0]).zone!==Zone.current?o.zone.run(o.handler,this,u):o.handler.apply(this,u);for(var t=e.slice(),r=0;r<t.length&&!0!==l[Ws];r++){var o;(o=t[r]).zone!==Zone.current?o.zone.run(o.handler,this,u):o.handler.apply(this,u)}}}},Ks=function(l){function n(n,e,u){var t=l.call(this,n)||this;return t.ngZone=e,u&&function(l){return l===pa}(u)||t.patchEvent(),t}return Object(u.c)(n,l),n.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var l=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ws]=!0),l&&l.apply(this,arguments)}}},n.prototype.supports=function(l){return!0},n.prototype.addEventListener=function(l,n,e){var u=this,t=e;if(!l[Us]||ce.isInAngularZone()&&!zs(n))l.addEventListener(n,t,!1);else{var r=Gs[n];r||(r=Gs[n]=Js("ANGULAR"+n+"FALSE"));var o=l[r],a=o&&o.length>0;o||(o=l[r]=[]);var i=zs(n)?Zone.root:Zone.current;if(0===o.length)o.push({zone:i,handler:t});else{for(var s=!1,c=0;c<o.length;c++)if(o[c].handler===t){s=!0;break}s||o.push({zone:i,handler:t})}a||l[Us](n,Vs,!1)}return function(){return u.removeEventListener(l,n,t)}},n.prototype.removeEventListener=function(l,n,e){var u=l[Bs];if(!u)return l.removeEventListener.apply(l,[n,e,!1]);var t=Gs[n],r=t&&l[t];if(!r)return l.removeEventListener.apply(l,[n,e,!1]);for(var o=!1,a=0;a<r.length;a++)if(r[a].handler===e){o=!0,r.splice(a,1);break}o?0===r.length&&u.apply(l,[n,Vs,!1]):l.removeEventListener.apply(l,[n,e,!1])},n}(Os),Qs={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},$s=new I("HammerGestureConfig"),Ys=new I("HammerLoader"),Xs=function(){function l(){this.events=[],this.overrides={}}return l.prototype.buildHammer=function(l){var n=new Hammer(l,this.options);for(var e in n.get("pinch").set({enable:!0}),n.get("rotate").set({enable:!0}),this.overrides)n.get(e).set(this.overrides[e]);return n},l}(),Zs=function(l){function n(n,e,u,t){var r=l.call(this,n)||this;return r._config=e,r.console=u,r.loader=t,r}return Object(u.c)(n,l),n.prototype.supports=function(l){return!(!Qs.hasOwnProperty(l.toLowerCase())&&!this.isCustomEvent(l)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+l+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},n.prototype.addEventListener=function(l,n,e){var u=this,t=this.manager.getZone();if(n=n.toLowerCase(),!window.Hammer&&this.loader){var r=!1,o=function(){r=!0};return this.loader().then(function(){if(!window.Hammer)return u.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});r||(o=u.addEventListener(l,n,e))}).catch(function(){u.console.warn('The "'+n+'" event cannot be bound because the custom Hammer.JS loader failed.'),o=function(){}}),function(){o()}}return t.runOutsideAngular(function(){var r=u._config.buildHammer(l),o=function(l){t.runGuarded(function(){e(l)})};return r.on(n,o),function(){r.off(n,o),"function"==typeof r.destroy&&r.destroy()}})},n.prototype.isCustomEvent=function(l){return this._config.events.indexOf(l)>-1},n}(Os),lc=["alt","control","meta","shift"],nc={alt:function(l){return l.altKey},control:function(l){return l.ctrlKey},meta:function(l){return l.metaKey},shift:function(l){return l.shiftKey}},ec=function(l){function n(n){return l.call(this,n)||this}var e;return Object(u.c)(n,l),e=n,n.prototype.supports=function(l){return null!=e.parseEventName(l)},n.prototype.addEventListener=function(l,n,u){var t=e.parseEventName(n),r=e.eventCallback(t.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return os().onAndCancel(l,t.domEventName,r)})},n.parseEventName=function(l){var n=l.toLowerCase().split("."),u=n.shift();if(0===n.length||"keydown"!==u&&"keyup"!==u)return null;var t=e._normalizeKey(n.pop()),r="";if(lc.forEach(function(l){var e=n.indexOf(l);e>-1&&(n.splice(e,1),r+=l+".")}),r+=t,0!=n.length||0===t.length)return null;var o={};return o.domEventName=u,o.fullKey=r,o},n.getEventFullKey=function(l){var n="",e=os().getEventKey(l);return" "===(e=e.toLowerCase())?e="space":"."===e&&(e="dot"),lc.forEach(function(u){u!=e&&(0,nc[u])(l)&&(n+=u+".")}),n+=e},n.eventCallback=function(l,n,u){return function(t){e.getEventFullKey(t)===l&&u.runGuarded(function(){return n(t)})}},n._normalizeKey=function(l){switch(l){case"esc":return"escape";default:return l}},n}(Os),uc=function(){return function(){}}(),tc=function(l){function n(n){var e=l.call(this)||this;return e._doc=n,e}return Object(u.c)(n,l),n.prototype.sanitize=function(l,n){if(null==n)return null;switch(l){case Yl.NONE:return n;case Yl.HTML:return n instanceof oc?n.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(n,"HTML"),function(l,n){var e=null;try{cn=cn||new un(l);var u=n?String(n):"";e=cn.getInertBodyElement(u);var t=5,r=u;do{if(0===t)throw new Error("Failed to sanitize html because the input is unstable");t--,u=r,r=e.innerHTML,e=cn.getInertBodyElement(u)}while(u!==r);var o=new vn,a=o.sanitizeChildren(kn(e)||e);return en()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(e)for(var i=kn(e)||e;i.firstChild;)i.removeChild(i.firstChild)}}(this._doc,String(n)));case Yl.STYLE:return n instanceof ac?n.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(n,"Style"),function(l){if(!(l=String(l).trim()))return"";var n=l.match(Tn);return n&&on(n[1])===n[1]||l.match(Pn)&&function(l){for(var n=!0,e=!0,u=0;u<l.length;u++){var t=l.charAt(u);"'"===t&&e?n=!n:'"'===t&&n&&(e=!e)}return n&&e}(l)?l:(en()&&console.warn("WARNING: sanitizing unsafe style value "+l+" (see http://g.co/ng/security#xss)."),"unsafe")}(n));case Yl.SCRIPT:if(n instanceof ic)return n.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(n,"Script"),new Error("unsafe value used in a script context");case Yl.URL:return n instanceof cc||n instanceof sc?n.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(n,"URL"),on(String(n)));case Yl.RESOURCE_URL:if(n instanceof cc)return n.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(n,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+l+" (see http://g.co/ng/security#xss)")}},n.prototype.checkNotSafeValue=function(l,n){if(l instanceof rc)throw new Error("Required a safe "+n+", got a "+l.getTypeName()+" (see http://g.co/ng/security#xss)")},n.prototype.bypassSecurityTrustHtml=function(l){return new oc(l)},n.prototype.bypassSecurityTrustStyle=function(l){return new ac(l)},n.prototype.bypassSecurityTrustScript=function(l){return new ic(l)},n.prototype.bypassSecurityTrustUrl=function(l){return new sc(l)},n.prototype.bypassSecurityTrustResourceUrl=function(l){return new cc(l)},n}(uc),rc=function(){function l(l){this.changingThisBreaksApplicationSecurity=l}return l.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},l}(),oc=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n.prototype.getTypeName=function(){return"HTML"},n}(rc),ac=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n.prototype.getTypeName=function(){return"Style"},n}(rc),ic=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n.prototype.getTypeName=function(){return"Script"},n}(rc),sc=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n.prototype.getTypeName=function(){return"URL"},n}(rc),cc=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n.prototype.getTypeName=function(){return"ResourceURL"},n}(rc),pc=ke(ru,"browser",[{provide:Vn,useValue:ca},{provide:zn,useValue:function(){ds.makeCurrent(),vs.init()},multi:!0},{provide:Jo,useClass:gs,deps:[fs]},{provide:fs,useFactory:function(){return document},deps:[]}]);function dc(){return new Hn}var hc=function(){function l(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var n;return n=l,l.withServerTransition=function(l){return{ngModule:n,providers:[{provide:Bn,useValue:l.appId},{provide:ys,useExisting:Bn},bs]}},l}();function fc(){return new mc(ol(fs))}var mc=function(){function l(l){this._doc=l}return l.prototype.getTitle=function(){return os().getTitle(this._doc)},l.prototype.setTitle=function(l){os().setTitle(this._doc,l)},l.ngInjectableDef=M({factory:fc,token:l,providedIn:"root"}),l}();"undefined"!=typeof window&&window;var gc=function(){return function(l,n){this.id=l,this.url=n}}(),yc=function(l){function n(n,e,u,t){void 0===u&&(u="imperative"),void 0===t&&(t=null);var r=l.call(this,n,e)||this;return r.navigationTrigger=u,r.restoredState=t,r}return Object(u.c)(n,l),n.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},n}(gc),bc=function(l){function n(n,e,u){var t=l.call(this,n,e)||this;return t.urlAfterRedirects=u,t}return Object(u.c)(n,l),n.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},n}(gc),vc=function(l){function n(n,e,u){var t=l.call(this,n,e)||this;return t.reason=u,t}return Object(u.c)(n,l),n.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},n}(gc),wc=function(l){function n(n,e,u){var t=l.call(this,n,e)||this;return t.error=u,t}return Object(u.c)(n,l),n.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},n}(gc),xc=function(l){function n(n,e,u,t){var r=l.call(this,n,e)||this;return r.urlAfterRedirects=u,r.state=t,r}return Object(u.c)(n,l),n.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},n}(gc),Cc=function(l){function n(n,e,u,t){var r=l.call(this,n,e)||this;return r.urlAfterRedirects=u,r.state=t,r}return Object(u.c)(n,l),n.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},n}(gc),kc=function(l){function n(n,e,u,t,r){var o=l.call(this,n,e)||this;return o.urlAfterRedirects=u,o.state=t,o.shouldActivate=r,o}return Object(u.c)(n,l),n.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},n}(gc),jc=function(l){function n(n,e,u,t){var r=l.call(this,n,e)||this;return r.urlAfterRedirects=u,r.state=t,r}return Object(u.c)(n,l),n.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},n}(gc),Oc=function(l){function n(n,e,u,t){var r=l.call(this,n,e)||this;return r.urlAfterRedirects=u,r.state=t,r}return Object(u.c)(n,l),n.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},n}(gc),Sc=function(){function l(l){this.route=l}return l.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},l}(),Pc=function(){function l(l){this.route=l}return l.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},l}(),Tc=function(){function l(l){this.snapshot=l}return l.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},l}(),Ac=function(){function l(l){this.snapshot=l}return l.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},l}(),Mc=function(){function l(l){this.snapshot=l}return l.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},l}(),_c=function(){function l(l){this.snapshot=l}return l.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},l}(),Ic=function(){function l(l,n,e){this.routerEvent=l,this.position=n,this.anchor=e}return l.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},l}(),Ec=function(){return function(){}}(),Rc="primary",Nc=function(){function l(l){this.params=l||{}}return l.prototype.has=function(l){return this.params.hasOwnProperty(l)},l.prototype.get=function(l){if(this.has(l)){var n=this.params[l];return Array.isArray(n)?n[0]:n}return null},l.prototype.getAll=function(l){if(this.has(l)){var n=this.params[l];return Array.isArray(n)?n:[n]}return[]},Object.defineProperty(l.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),l}();function qc(l){return new Nc(l)}var Dc="ngNavigationCancelingError";function Hc(l){var n=Error("NavigationCancelingError: "+l);return n[Dc]=!0,n}function Lc(l,n,e){var u=e.path.split("/");if(u.length>l.length)return null;if("full"===e.pathMatch&&(n.hasChildren()||u.length<l.length))return null;for(var t={},r=0;r<u.length;r++){var o=u[r],a=l[r];if(o.startsWith(":"))t[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:l.slice(0,u.length),posParams:t}}var Fc=function(){return function(l,n){this.routes=l,this.module=n}}();function Jc(l,n){void 0===n&&(n="");for(var e=0;e<l.length;e++){var u=l[e];Uc(u,Bc(n,u))}}function Uc(l,n){if(!l)throw new Error("\n      Invalid configuration of route '"+n+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(l))throw new Error("Invalid configuration of route '"+n+"': Array cannot be specified");if(!l.component&&!l.children&&!l.loadChildren&&l.outlet&&l.outlet!==Rc)throw new Error("Invalid configuration of route '"+n+"': a componentless route without children or loadChildren cannot have a named outlet set");if(l.redirectTo&&l.children)throw new Error("Invalid configuration of route '"+n+"': redirectTo and children cannot be used together");if(l.redirectTo&&l.loadChildren)throw new Error("Invalid configuration of route '"+n+"': redirectTo and loadChildren cannot be used together");if(l.children&&l.loadChildren)throw new Error("Invalid configuration of route '"+n+"': children and loadChildren cannot be used together");if(l.redirectTo&&l.component)throw new Error("Invalid configuration of route '"+n+"': redirectTo and component cannot be used together");if(l.path&&l.matcher)throw new Error("Invalid configuration of route '"+n+"': path and matcher cannot be used together");if(void 0===l.redirectTo&&!l.component&&!l.children&&!l.loadChildren)throw new Error("Invalid configuration of route '"+n+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===l.path&&void 0===l.matcher)throw new Error("Invalid configuration of route '"+n+"': routes must have either a path or a matcher specified");if("string"==typeof l.path&&"/"===l.path.charAt(0))throw new Error("Invalid configuration of route '"+n+"': path cannot start with a slash");if(""===l.path&&void 0!==l.redirectTo&&void 0===l.pathMatch)throw new Error("Invalid configuration of route '{path: \""+n+'", redirectTo: "'+l.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==l.pathMatch&&"full"!==l.pathMatch&&"prefix"!==l.pathMatch)throw new Error("Invalid configuration of route '"+n+"': pathMatch can only be set to 'prefix' or 'full'");l.children&&Jc(l.children,n)}function Bc(l,n){return n?l||n.path?l&&!n.path?l+"/":!l&&n.path?n.path:l+"/"+n.path:"":l}function Gc(l){var n=l.children&&l.children.map(Gc),e=n?Object(u.a)({},l,{children:n}):Object(u.a)({},l);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Rc&&(e.component=Ec),e}function Wc(l,n){var e,u=Object.keys(l),t=Object.keys(n);if(u.length!=t.length)return!1;for(var r=0;r<u.length;r++)if(l[e=u[r]]!==n[e])return!1;return!0}function zc(l){return Array.prototype.concat.apply([],l)}function Vc(l){return l.length>0?l[l.length-1]:null}function Kc(l,n){for(var e in l)l.hasOwnProperty(e)&&n(l[e],e)}function Qc(l){return Fn(l)?l:Ln(l)?Object(yi.a)(Promise.resolve(l)):Object(gi.a)(l)}function $c(l,n,e){return e?function(l,n){return Wc(l,n)}(l.queryParams,n.queryParams)&&function l(n,e){if(!lp(n.segments,e.segments))return!1;if(n.numberOfChildren!==e.numberOfChildren)return!1;for(var u in e.children){if(!n.children[u])return!1;if(!l(n.children[u],e.children[u]))return!1}return!0}(l.root,n.root):function(l,n){return Object.keys(n).length<=Object.keys(l).length&&Object.keys(n).every(function(e){return n[e]===l[e]})}(l.queryParams,n.queryParams)&&function l(n,e){return function n(e,u,t){if(e.segments.length>t.length)return!!lp(o=e.segments.slice(0,t.length),t)&&!u.hasChildren();if(e.segments.length===t.length){if(!lp(e.segments,t))return!1;for(var r in u.children){if(!e.children[r])return!1;if(!l(e.children[r],u.children[r]))return!1}return!0}var o=t.slice(0,e.segments.length),a=t.slice(e.segments.length);return!!lp(e.segments,o)&&!!e.children[Rc]&&n(e.children[Rc],u,a)}(n,e,e.segments)}(l.root,n.root)}var Yc=function(){function l(l,n,e){this.root=l,this.queryParams=n,this.fragment=e}return Object.defineProperty(l.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),l.prototype.toString=function(){return tp.serialize(this)},l}(),Xc=function(){function l(l,n){var e=this;this.segments=l,this.children=n,this.parent=null,Kc(n,function(l,n){return l.parent=e})}return l.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(l.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),l.prototype.toString=function(){return rp(this)},l}(),Zc=function(){function l(l,n){this.path=l,this.parameters=n}return Object.defineProperty(l.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=qc(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),l.prototype.toString=function(){return pp(this)},l}();function lp(l,n){return l.length===n.length&&l.every(function(l,e){return l.path===n[e].path})}function np(l,n){var e=[];return Kc(l.children,function(l,u){u===Rc&&(e=e.concat(n(l,u)))}),Kc(l.children,function(l,u){u!==Rc&&(e=e.concat(n(l,u)))}),e}var ep=function(){return function(){}}(),up=function(){function l(){}return l.prototype.parse=function(l){var n=new gp(l);return new Yc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())},l.prototype.serialize=function(l){var n,e;return"/"+function l(n,e){if(!n.hasChildren())return rp(n);if(e){var u=n.children[Rc]?l(n.children[Rc],!1):"",t=[];return Kc(n.children,function(n,e){e!==Rc&&t.push(e+":"+l(n,!1))}),t.length>0?u+"("+t.join("//")+")":u}var r=np(n,function(e,u){return u===Rc?[l(n.children[Rc],!1)]:[u+":"+l(e,!1)]});return rp(n)+"/("+r.join("//")+")"}(l.root,!0)+(n=l.queryParams,(e=Object.keys(n).map(function(l){var e=n[l];return Array.isArray(e)?e.map(function(n){return ap(l)+"="+ap(n)}).join("&"):ap(l)+"="+ap(e)})).length?"?"+e.join("&"):"")+("string"==typeof l.fragment?"#"+encodeURI(l.fragment):"")},l}(),tp=new up;function rp(l){return l.segments.map(function(l){return pp(l)}).join("/")}function op(l){return encodeURIComponent(l).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ap(l){return op(l).replace(/%3B/gi,";")}function ip(l){return op(l).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sp(l){return decodeURIComponent(l)}function cp(l){return sp(l.replace(/\+/g,"%20"))}function pp(l){return""+ip(l.path)+(n=l.parameters,Object.keys(n).map(function(l){return";"+ip(l)+"="+ip(n[l])}).join(""));var n}var dp=/^[^\/()?;=#]+/;function hp(l){var n=l.match(dp);return n?n[0]:""}var fp=/^[^=?&#]+/,mp=/^[^?&#]+/,gp=function(){function l(l){this.url=l,this.remaining=l}return l.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xc([],{}):new Xc([],this.parseChildren())},l.prototype.parseQueryParams=function(){var l={};if(this.consumeOptional("?"))do{this.parseQueryParam(l)}while(this.consumeOptional("&"));return l},l.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},l.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var l=[];for(this.peekStartsWith("(")||l.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),l.push(this.parseSegment());var n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));var e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(l.length>0||Object.keys(n).length>0)&&(e[Rc]=new Xc(l,n)),e},l.prototype.parseSegment=function(){var l=hp(this.remaining);if(""===l&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(l),new Zc(sp(l),this.parseMatrixParams())},l.prototype.parseMatrixParams=function(){for(var l={};this.consumeOptional(";");)this.parseParam(l);return l},l.prototype.parseParam=function(l){var n=hp(this.remaining);if(n){this.capture(n);var e="";if(this.consumeOptional("=")){var u=hp(this.remaining);u&&this.capture(e=u)}l[sp(n)]=sp(e)}},l.prototype.parseQueryParam=function(l){var n,e=(n=this.remaining.match(fp))?n[0]:"";if(e){this.capture(e);var u="";if(this.consumeOptional("=")){var t=function(l){var n=l.match(mp);return n?n[0]:""}(this.remaining);t&&this.capture(u=t)}var r=cp(e),o=cp(u);if(l.hasOwnProperty(r)){var a=l[r];Array.isArray(a)||(l[r]=a=[a]),a.push(o)}else l[r]=o}},l.prototype.parseParens=function(l){var n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var e=hp(this.remaining),u=this.remaining[e.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error("Cannot parse url '"+this.url+"'");var t=void 0;e.indexOf(":")>-1?(t=e.substr(0,e.indexOf(":")),this.capture(t),this.capture(":")):l&&(t=Rc);var r=this.parseChildren();n[t]=1===Object.keys(r).length?r[Rc]:new Xc([],r),this.consumeOptional("//")}return n},l.prototype.peekStartsWith=function(l){return this.remaining.startsWith(l)},l.prototype.consumeOptional=function(l){return!!this.peekStartsWith(l)&&(this.remaining=this.remaining.substring(l.length),!0)},l.prototype.capture=function(l){if(!this.consumeOptional(l))throw new Error('Expected "'+l+'".')},l}(),yp=function(){function l(l){this._root=l}return Object.defineProperty(l.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),l.prototype.parent=function(l){var n=this.pathFromRoot(l);return n.length>1?n[n.length-2]:null},l.prototype.children=function(l){var n=bp(l,this._root);return n?n.children.map(function(l){return l.value}):[]},l.prototype.firstChild=function(l){var n=bp(l,this._root);return n&&n.children.length>0?n.children[0].value:null},l.prototype.siblings=function(l){var n=vp(l,this._root);return n.length<2?[]:n[n.length-2].children.map(function(l){return l.value}).filter(function(n){return n!==l})},l.prototype.pathFromRoot=function(l){return vp(l,this._root).map(function(l){return l.value})},l}();function bp(l,n){var e,t;if(l===n.value)return n;try{for(var r=Object(u.h)(n.children),o=r.next();!o.done;o=r.next()){var a=bp(l,o.value);if(a)return a}}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null}function vp(l,n){var e,t;if(l===n.value)return[n];try{for(var r=Object(u.h)(n.children),o=r.next();!o.done;o=r.next()){var a=vp(l,o.value);if(a.length)return a.unshift(n),a}}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return[]}var wp=function(){function l(l,n){this.value=l,this.children=n}return l.prototype.toString=function(){return"TreeNode("+this.value+")"},l}();function xp(l){var n={};return l&&l.children.forEach(function(l){return n[l.value.outlet]=l}),n}var Cp=function(l){function n(n,e){var u=l.call(this,n)||this;return u.snapshot=e,Tp(u,n),u}return Object(u.c)(n,l),n.prototype.toString=function(){return this.snapshot.toString()},n}(yp);function kp(l,n){var e=function(l,n){var e=new Sp([],{},{},"",{},Rc,n,null,l.root,-1,{});return new Pp("",new wp(e,[]))}(l,n),u=new bi([new Zc("",{})]),t=new bi({}),r=new bi({}),o=new bi({}),a=new bi(""),i=new jp(u,t,o,a,r,Rc,n,e.root);return i.snapshot=e.root,new Cp(new wp(i,[]),e)}var jp=function(){function l(l,n,e,u,t,r,o,a){this.url=l,this.params=n,this.queryParams=e,this.fragment=u,this.data=t,this.outlet=r,this.component=o,this._futureSnapshot=a}return Object.defineProperty(l.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Mo.a)(function(l){return qc(l)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Mo.a)(function(l){return qc(l)}))),this._queryParamMap},enumerable:!0,configurable:!0}),l.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},l}();function Op(l,n){void 0===n&&(n="emptyOnly");var e=l.pathFromRoot,t=0;if("always"!==n)for(t=e.length-1;t>=1;){var r=e[t],o=e[t-1];if(r.routeConfig&&""===r.routeConfig.path)t--;else{if(o.component)break;t--}}return function(l){return l.reduce(function(l,n){return{params:Object(u.a)({},l.params,n.params),data:Object(u.a)({},l.data,n.data),resolve:Object(u.a)({},l.resolve,n._resolvedData)}},{params:{},data:{},resolve:{}})}(e.slice(t))}var Sp=function(){function l(l,n,e,u,t,r,o,a,i,s,c){this.url=l,this.params=n,this.queryParams=e,this.fragment=u,this.data=t,this.outlet=r,this.component=o,this.routeConfig=a,this._urlSegment=i,this._lastPathIndex=s,this._resolve=c}return Object.defineProperty(l.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=qc(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),l.prototype.toString=function(){return"Route(url:'"+this.url.map(function(l){return l.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},l}(),Pp=function(l){function n(n,e){var u=l.call(this,e)||this;return u.url=n,Tp(u,e),u}return Object(u.c)(n,l),n.prototype.toString=function(){return Ap(this._root)},n}(yp);function Tp(l,n){n.value._routerState=l,n.children.forEach(function(n){return Tp(l,n)})}function Ap(l){var n=l.children.length>0?" { "+l.children.map(Ap).join(", ")+" } ":"";return""+l.value+n}function Mp(l){if(l.snapshot){var n=l.snapshot,e=l._futureSnapshot;l.snapshot=e,Wc(n.queryParams,e.queryParams)||l.queryParams.next(e.queryParams),n.fragment!==e.fragment&&l.fragment.next(e.fragment),Wc(n.params,e.params)||l.params.next(e.params),function(l,n){if(l.length!==n.length)return!1;for(var e=0;e<l.length;++e)if(!Wc(l[e],n[e]))return!1;return!0}(n.url,e.url)||l.url.next(e.url),Wc(n.data,e.data)||l.data.next(e.data)}else l.snapshot=l._futureSnapshot,l.data.next(l._futureSnapshot.data)}function _p(l,n){var e,u;return Wc(l.params,n.params)&&lp(e=l.url,u=n.url)&&e.every(function(l,n){return Wc(l.parameters,u[n].parameters)})&&!(!l.parent!=!n.parent)&&(!l.parent||_p(l.parent,n.parent))}function Ip(l){return"object"==typeof l&&null!=l&&!l.outlets&&!l.segmentPath}function Ep(l,n,e,u,t){var r={};return u&&Kc(u,function(l,n){r[n]=Array.isArray(l)?l.map(function(l){return""+l}):""+l}),new Yc(e.root===l?n:function l(n,e,u){var t={};return Kc(n.children,function(n,r){t[r]=n===e?u:l(n,e,u)}),new Xc(n.segments,t)}(e.root,l,n),r,t)}var Rp=function(){function l(l,n,e){if(this.isAbsolute=l,this.numberOfDoubleDots=n,this.commands=e,l&&e.length>0&&Ip(e[0]))throw new Error("Root segment cannot have matrix parameters");var u=e.find(function(l){return"object"==typeof l&&null!=l&&l.outlets});if(u&&u!==Vc(e))throw new Error("{outlets:{}} has to be the last command")}return l.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},l}(),Np=function(){return function(l,n,e){this.segmentGroup=l,this.processChildren=n,this.index=e}}();function qp(l){return"object"==typeof l&&null!=l&&l.outlets?l.outlets[Rc]:""+l}function Dp(l,n,e){if(l||(l=new Xc([],{})),0===l.segments.length&&l.hasChildren())return Hp(l,n,e);var u=function(l,n,e){for(var u=0,t=n,r={match:!1,pathIndex:0,commandIndex:0};t<l.segments.length;){if(u>=e.length)return r;var o=l.segments[t],a=qp(e[u]),i=u<e.length-1?e[u+1]:null;if(t>0&&void 0===a)break;if(a&&i&&"object"==typeof i&&void 0===i.outlets){if(!Up(a,i,o))return r;u+=2}else{if(!Up(a,{},o))return r;u++}t++}return{match:!0,pathIndex:t,commandIndex:u}}(l,n,e),t=e.slice(u.commandIndex);if(u.match&&u.pathIndex<l.segments.length){var r=new Xc(l.segments.slice(0,u.pathIndex),{});return r.children[Rc]=new Xc(l.segments.slice(u.pathIndex),l.children),Hp(r,0,t)}return u.match&&0===t.length?new Xc(l.segments,{}):u.match&&!l.hasChildren()?Lp(l,n,e):u.match?Hp(l,0,t):Lp(l,n,e)}function Hp(l,n,e){if(0===e.length)return new Xc(l.segments,{});var u=function(l){var n,e;return"object"!=typeof l[0]?((n={})[Rc]=l,n):void 0===l[0].outlets?((e={})[Rc]=l,e):l[0].outlets}(e),t={};return Kc(u,function(e,u){null!==e&&(t[u]=Dp(l.children[u],n,e))}),Kc(l.children,function(l,n){void 0===u[n]&&(t[n]=l)}),new Xc(l.segments,t)}function Lp(l,n,e){for(var u=l.segments.slice(0,n),t=0;t<e.length;){if("object"==typeof e[t]&&void 0!==e[t].outlets){var r=Fp(e[t].outlets);return new Xc(u,r)}if(0===t&&Ip(e[0]))u.push(new Zc(l.segments[n].path,e[0])),t++;else{var o=qp(e[t]),a=t<e.length-1?e[t+1]:null;o&&a&&Ip(a)?(u.push(new Zc(o,Jp(a))),t+=2):(u.push(new Zc(o,{})),t++)}}return new Xc(u,{})}function Fp(l){var n={};return Kc(l,function(l,e){null!==l&&(n[e]=Lp(new Xc([],{}),0,l))}),n}function Jp(l){var n={};return Kc(l,function(l,e){return n[e]=""+l}),n}function Up(l,n,e){return l==e.path&&Wc(n,e.parameters)}var Bp=function(){function l(l,n,e,u){this.routeReuseStrategy=l,this.futureState=n,this.currState=e,this.forwardEvent=u}return l.prototype.activate=function(l){var n=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,e,l),Mp(this.futureState.root),this.activateChildRoutes(n,e,l)},l.prototype.deactivateChildRoutes=function(l,n,e){var u=this,t=xp(n);l.children.forEach(function(l){var n=l.value.outlet;u.deactivateRoutes(l,t[n],e),delete t[n]}),Kc(t,function(l,n){u.deactivateRouteAndItsChildren(l,e)})},l.prototype.deactivateRoutes=function(l,n,e){var u=l.value,t=n?n.value:null;if(u===t)if(u.component){var r=e.getContext(u.outlet);r&&this.deactivateChildRoutes(l,n,r.children)}else this.deactivateChildRoutes(l,n,e);else t&&this.deactivateRouteAndItsChildren(n,e)},l.prototype.deactivateRouteAndItsChildren=function(l,n){this.routeReuseStrategy.shouldDetach(l.value.snapshot)?this.detachAndStoreRouteSubtree(l,n):this.deactivateRouteAndOutlet(l,n)},l.prototype.detachAndStoreRouteSubtree=function(l,n){var e=n.getContext(l.value.outlet);if(e&&e.outlet){var u=e.outlet.detach(),t=e.children.onOutletDeactivated();this.routeReuseStrategy.store(l.value.snapshot,{componentRef:u,route:l,contexts:t})}},l.prototype.deactivateRouteAndOutlet=function(l,n){var e=this,u=n.getContext(l.value.outlet);if(u){var t=xp(l),r=l.value.component?u.children:n;Kc(t,function(l,n){return e.deactivateRouteAndItsChildren(l,r)}),u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated())}},l.prototype.activateChildRoutes=function(l,n,e){var u=this,t=xp(n);l.children.forEach(function(l){u.activateRoutes(l,t[l.value.outlet],e),u.forwardEvent(new _c(l.value.snapshot))}),l.children.length&&this.forwardEvent(new Ac(l.value.snapshot))},l.prototype.activateRoutes=function(l,n,e){var u=l.value,t=n?n.value:null;if(Mp(u),u===t)if(u.component){var r=e.getOrCreateContext(u.outlet);this.activateChildRoutes(l,n,r.children)}else this.activateChildRoutes(l,n,e);else if(u.component)if(r=e.getOrCreateContext(u.outlet),this.routeReuseStrategy.shouldAttach(u.snapshot)){var o=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),r.children.onOutletReAttached(o.contexts),r.attachRef=o.componentRef,r.route=o.route.value,r.outlet&&r.outlet.attach(o.componentRef,o.route.value),Gp(o.route)}else{var a=function(l){for(var n=u.snapshot.parent;n;n=n.parent){var e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(),i=a?a.module.componentFactoryResolver:null;r.attachRef=null,r.route=u,r.resolver=i,r.outlet&&r.outlet.activateWith(u,i),this.activateChildRoutes(l,null,r.children)}else this.activateChildRoutes(l,null,e)},l}();function Gp(l){Mp(l.value),l.children.forEach(Gp)}function Wp(l){return"function"==typeof l}function zp(l){return l instanceof Yc}var Vp=function(){return function(l){this.segmentGroup=l||null}}(),Kp=function(){return function(l){this.urlTree=l}}();function Qp(l){return new r.a(function(n){return n.error(new Vp(l))})}function $p(l){return new r.a(function(n){return n.error(new Kp(l))})}function Yp(l){return new r.a(function(n){return n.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+l+"'"))})}var Xp=function(){function l(l,n,e,u,t){this.configLoader=n,this.urlSerializer=e,this.urlTree=u,this.config=t,this.allowRedirects=!0,this.ngModule=l.get(Ul)}return l.prototype.apply=function(){var l=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Rc).pipe(Object(Mo.a)(function(n){return l.createUrlTree(n,l.urlTree.queryParams,l.urlTree.fragment)})).pipe(Object(Ui.a)(function(n){if(n instanceof Kp)return l.allowRedirects=!1,l.match(n.urlTree);if(n instanceof Vp)throw l.noMatchError(n);throw n}))},l.prototype.match=function(l){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,l.root,Rc).pipe(Object(Mo.a)(function(e){return n.createUrlTree(e,l.queryParams,l.fragment)})).pipe(Object(Ui.a)(function(l){if(l instanceof Vp)throw n.noMatchError(l);throw l}))},l.prototype.noMatchError=function(l){return new Error("Cannot match any routes. URL Segment: '"+l.segmentGroup+"'")},l.prototype.createUrlTree=function(l,n,e){var u,t=l.segments.length>0?new Xc([],((u={})[Rc]=l,u)):l;return new Yc(t,n,e)},l.prototype.expandSegmentGroup=function(l,n,e,u){return 0===e.segments.length&&e.hasChildren()?this.expandChildren(l,n,e).pipe(Object(Mo.a)(function(l){return new Xc([],l)})):this.expandSegment(l,e,n,e.segments,u,!0)},l.prototype.expandChildren=function(l,n,e){var u=this;return function(e,t){if(0===Object.keys(e).length)return Object(gi.a)({});var r=[],o=[],a={};return Kc(e,function(e,t){var i,s,c=(i=t,s=e,u.expandSegmentGroup(l,n,s,i)).pipe(Object(Mo.a)(function(l){return a[t]=l}));t===Rc?r.push(c):o.push(c)}),gi.a.apply(null,r.concat(o)).pipe(Si(),Ji(),Object(Mo.a)(function(){return a}))}(e.children)},l.prototype.expandSegment=function(l,n,e,t,r,o){var a=this;return gi.a.apply(void 0,Object(u.g)(e)).pipe(Object(Mo.a)(function(u){return a.expandSegmentAgainstRoute(l,n,e,u,t,r,o).pipe(Object(Ui.a)(function(l){if(l instanceof Vp)return Object(gi.a)(null);throw l}))}),Si(),Gi(function(l){return!!l}),Object(Ui.a)(function(l,e){if(l instanceof wi||"EmptyError"===l.name){if(a.noLeftoversInUrl(n,t,r))return Object(gi.a)(new Xc([],{}));throw new Vp(n)}throw l}))},l.prototype.noLeftoversInUrl=function(l,n,e){return 0===n.length&&!l.children[e]},l.prototype.expandSegmentAgainstRoute=function(l,n,e,u,t,r,o){return ed(u)!==r?Qp(n):void 0===u.redirectTo?this.matchSegmentAgainstRoute(l,n,u,t):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(l,n,e,u,t,r):Qp(n)},l.prototype.expandSegmentAgainstRouteUsingRedirect=function(l,n,e,u,t,r){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(l,e,u,r):this.expandRegularSegmentAgainstRouteUsingRedirect(l,n,e,u,t,r)},l.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(l,n,e,u){var t=this,r=this.applyRedirectCommands([],e.redirectTo,{});return e.redirectTo.startsWith("/")?$p(r):this.lineralizeSegments(e,r).pipe(Object(m.a)(function(e){var r=new Xc(e,{});return t.expandSegment(l,r,n,e,u,!1)}))},l.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(l,n,e,u,t,r){var o=this,a=Zp(n,u,t),i=a.consumedSegments,s=a.lastChild,c=a.positionalParamSegments;if(!a.matched)return Qp(n);var p=this.applyRedirectCommands(i,u.redirectTo,c);return u.redirectTo.startsWith("/")?$p(p):this.lineralizeSegments(u,p).pipe(Object(m.a)(function(u){return o.expandSegment(l,n,e,u.concat(t.slice(s)),r,!1)}))},l.prototype.matchSegmentAgainstRoute=function(l,n,e,t){var r=this;if("**"===e.path)return e.loadChildren?this.configLoader.load(l.injector,e).pipe(Object(Mo.a)(function(l){return e._loadedConfig=l,new Xc(t,{})})):Object(gi.a)(new Xc(t,{}));var o=Zp(n,e,t),a=o.consumedSegments,i=o.lastChild;if(!o.matched)return Qp(n);var s=t.slice(i);return this.getChildConfig(l,e,t).pipe(Object(m.a)(function(l){var e=l.module,t=l.routes,o=function(l,n,e,t){return e.length>0&&function(l,n,e){return t.some(function(e){return nd(l,n,e)&&ed(e)!==Rc})}(l,e)?{segmentGroup:ld(new Xc(n,function(l,n){var e,t,r={};r[Rc]=n;try{for(var o=Object(u.h)(l),a=o.next();!a.done;a=o.next()){var i=a.value;""===i.path&&ed(i)!==Rc&&(r[ed(i)]=new Xc([],{}))}}catch(s){e={error:s}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r}(t,new Xc(e,l.children)))),slicedSegments:[]}:0===e.length&&function(l,n,e){return t.some(function(e){return nd(l,n,e)})}(l,e)?{segmentGroup:ld(new Xc(l.segments,function(l,n,e,t){var r,o,a={};try{for(var i=Object(u.h)(e),s=i.next();!s.done;s=i.next()){var c=s.value;nd(l,n,c)&&!t[ed(c)]&&(a[ed(c)]=new Xc([],{}))}}catch(p){r={error:p}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return Object(u.a)({},t,a)}(l,e,t,l.children))),slicedSegments:e}:{segmentGroup:l,slicedSegments:e}}(n,a,s,t),i=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&i.hasChildren()?r.expandChildren(e,t,i).pipe(Object(Mo.a)(function(l){return new Xc(a,l)})):0===t.length&&0===c.length?Object(gi.a)(new Xc(a,{})):r.expandSegment(e,i,t,c,Rc,!0).pipe(Object(Mo.a)(function(l){return new Xc(a.concat(l.segments),l.children)}))}))},l.prototype.getChildConfig=function(l,n,e){var u=this;return n.children?Object(gi.a)(new Fc(n.children,l)):n.loadChildren?void 0!==n._loadedConfig?Object(gi.a)(n._loadedConfig):function(l,n,e){var u,t=n.canLoad;return t&&0!==t.length?Object(yi.a)(t).pipe(Object(Mo.a)(function(u){var t,r=l.get(u);if(function(l){return l&&Wp(l.canLoad)}(r))t=r.canLoad(n,e);else{if(!Wp(r))throw new Error("Invalid CanLoad guard");t=r(n,e)}return Qc(t)})).pipe(Si(),(u=function(l){return!0===l},function(l){return l.lift(new Wi(u,void 0,l))})):Object(gi.a)(!0)}(l.injector,n,e).pipe(Object(m.a)(function(e){return e?u.configLoader.load(l.injector,n).pipe(Object(Mo.a)(function(l){return n._loadedConfig=l,l})):function(l){return new r.a(function(n){return n.error(Hc("Cannot load children because the guard of the route \"path: '"+l.path+"'\" returned false"))})}(n)})):Object(gi.a)(new Fc([],l))},l.prototype.lineralizeSegments=function(l,n){for(var e=[],u=n.root;;){if(e=e.concat(u.segments),0===u.numberOfChildren)return Object(gi.a)(e);if(u.numberOfChildren>1||!u.children[Rc])return Yp(l.redirectTo);u=u.children[Rc]}},l.prototype.applyRedirectCommands=function(l,n,e){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),l,e)},l.prototype.applyRedirectCreatreUrlTree=function(l,n,e,u){var t=this.createSegmentGroup(l,n.root,e,u);return new Yc(t,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)},l.prototype.createQueryParams=function(l,n){var e={};return Kc(l,function(l,u){if("string"==typeof l&&l.startsWith(":")){var t=l.substring(1);e[u]=n[t]}else e[u]=l}),e},l.prototype.createSegmentGroup=function(l,n,e,u){var t=this,r=this.createSegments(l,n.segments,e,u),o={};return Kc(n.children,function(n,r){o[r]=t.createSegmentGroup(l,n,e,u)}),new Xc(r,o)},l.prototype.createSegments=function(l,n,e,u){var t=this;return n.map(function(n){return n.path.startsWith(":")?t.findPosParam(l,n,u):t.findOrReturn(n,e)})},l.prototype.findPosParam=function(l,n,e){var u=e[n.path.substring(1)];if(!u)throw new Error("Cannot redirect to '"+l+"'. Cannot find '"+n.path+"'.");return u},l.prototype.findOrReturn=function(l,n){var e,t,r=0;try{for(var o=Object(u.h)(n),a=o.next();!a.done;a=o.next()){var i=a.value;if(i.path===l.path)return n.splice(r),i;r++}}catch(s){e={error:s}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return l},l}();function Zp(l,n,e){if(""===n.path)return"full"===n.pathMatch&&(l.hasChildren()||e.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var u=(n.matcher||Lc)(e,l,n);return u?{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,positionalParamSegments:u.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ld(l){if(1===l.numberOfChildren&&l.children[Rc]){var n=l.children[Rc];return new Xc(l.segments.concat(n.segments),n.children)}return l}function nd(l,n,e){return(!(l.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path&&void 0!==e.redirectTo}function ed(l){return l.outlet||Rc}var ud=function(){return function(l){this.path=l,this.route=this.path[this.path.length-1]}}(),td=function(){return function(l,n){this.component=l,this.route=n}}();function rd(l,n,e){var u=function(l){if(!l)return null;for(var n=l.parent;n;n=n.parent){var e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(u?u.module.injector:e).get(l)}function od(l,n,e,u,t){void 0===t&&(t={canDeactivateChecks:[],canActivateChecks:[]});var r=xp(n);return l.children.forEach(function(l){!function(l,n,e,u,t){void 0===t&&(t={canDeactivateChecks:[],canActivateChecks:[]});var r=l.value,o=n?n.value:null,a=e?e.getContext(l.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){var i=function(l,n,e){if("function"==typeof e)return e(l,n);switch(e){case"pathParamsChange":return!lp(l.url,n.url);case"pathParamsOrQueryParamsChange":return!lp(l.url,n.url)||!Wc(l.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_p(l,n)||!Wc(l.queryParams,n.queryParams);case"paramsChange":default:return!_p(l,n)}}(o,r,r.routeConfig.runGuardsAndResolvers);i?t.canActivateChecks.push(new ud(u)):(r.data=o.data,r._resolvedData=o._resolvedData),od(l,n,r.component?a?a.children:null:e,u,t),i&&t.canDeactivateChecks.push(new td(a&&a.outlet&&a.outlet.component||null,o))}else o&&ad(n,a,t),t.canActivateChecks.push(new ud(u)),od(l,null,r.component?a?a.children:null:e,u,t)}(l,r[l.value.outlet],e,u.concat([l.value]),t),delete r[l.value.outlet]}),Kc(r,function(l,n){return ad(l,e.getContext(n),t)}),t}function ad(l,n,e){var u=xp(l),t=l.value;Kc(u,function(l,u){ad(l,t.component?n?n.children.getContext(u):null:n,e)}),e.canDeactivateChecks.push(new td(t.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,t))}var id=Symbol("INITIAL_VALUE");function sd(){return Ki(function(l){return(function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];var e=null,u=null;return Object(f.a)(l[l.length-1])&&(u=l.pop()),"function"==typeof l[l.length-1]&&(e=l.pop()),1===l.length&&Object(To.a)(l[0])&&(l=l[0]),Object(b.a)(l,u).lift(new Ci(e))}).apply(void 0,Object(u.g)(l.map(function(l){return l.pipe(Object(Bi.a)(1),function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return function(n){var e=l[l.length-1];Object(f.a)(e)?l.pop():e=null;var u=l.length;return function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return Si()(gi.a.apply(void 0,l))}(1!==u||e?u>0?Object(b.a)(l,e):Object(ji.b)(e):Object(Yi.a)(l[0]),n)}}(id))}))).pipe(Xi(function(l,n){var e=!1;return n.reduce(function(l,u,t){if(l!==id)return l;if(u===id&&(e=!0),!e){if(!1===u)return u;if(t===n.length-1||zp(u))return u}return l},l)},id),Object(Pi.a)(function(l){return l!==id}),Object(Mo.a)(function(l){return zp(l)?l:!0===l}),Object(Bi.a)(1))})}function cd(l,n){return null!==l&&n&&n(new Mc(l)),Object(gi.a)(!0)}function pd(l,n){return null!==l&&n&&n(new Tc(l)),Object(gi.a)(!0)}function dd(l,n,e){var u=n.routeConfig?n.routeConfig.canActivate:null;if(!u||0===u.length)return Object(gi.a)(!0);var t=u.map(function(u){return Oi(function(){var t,r=rd(u,n,e);if(function(l){return l&&Wp(l.canActivate)}(r))t=Qc(r.canActivate(n,l));else{if(!Wp(r))throw new Error("Invalid CanActivate guard");t=Qc(r(n,l))}return t.pipe(Gi())})});return Object(gi.a)(t).pipe(sd())}function hd(l,n,e){var u=n[n.length-1],t=n.slice(0,n.length-1).reverse().map(function(l){return function(l){var n=l.routeConfig?l.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:l,guards:n}:null}(l)}).filter(function(l){return null!==l}).map(function(n){return Oi(function(){var t=n.guards.map(function(t){var r,o=rd(t,n.node,e);if(function(l){return l&&Wp(l.canActivateChild)}(o))r=Qc(o.canActivateChild(u,l));else{if(!Wp(o))throw new Error("Invalid CanActivateChild guard");r=Qc(o(u,l))}return r.pipe(Gi())});return Object(gi.a)(t).pipe(sd())})});return Object(gi.a)(t).pipe(sd())}var fd=function(){return function(){}}(),md=function(){function l(l,n,e,u,t,r){this.rootComponentType=l,this.config=n,this.urlTree=e,this.url=u,this.paramsInheritanceStrategy=t,this.relativeLinkResolution=r}return l.prototype.recognize=function(){try{var l=bd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,l,Rc),e=new Sp([],Object.freeze({}),Object.freeze(Object(u.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rc,this.rootComponentType,null,this.urlTree.root,-1,{}),t=new wp(e,n),o=new Pp(this.url,t);return this.inheritParamsAndData(o._root),Object(gi.a)(o)}catch(a){return new r.a(function(l){return l.error(a)})}},l.prototype.inheritParamsAndData=function(l){var n=this,e=l.value,u=Op(e,this.paramsInheritanceStrategy);e.params=Object.freeze(u.params),e.data=Object.freeze(u.data),l.children.forEach(function(l){return n.inheritParamsAndData(l)})},l.prototype.processSegmentGroup=function(l,n,e){return 0===n.segments.length&&n.hasChildren()?this.processChildren(l,n):this.processSegment(l,n,n.segments,e)},l.prototype.processChildren=function(l,n){var e,u=this,t=np(n,function(n,e){return u.processSegmentGroup(l,n,e)});return e={},t.forEach(function(l){var n=e[l.value.outlet];if(n){var u=n.url.map(function(l){return l.toString()}).join("/"),t=l.value.url.map(function(l){return l.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+u+"' and '"+t+"'.")}e[l.value.outlet]=l.value}),t.sort(function(l,n){return l.value.outlet===Rc?-1:n.value.outlet===Rc?1:l.value.outlet.localeCompare(n.value.outlet)}),t},l.prototype.processSegment=function(l,n,e,t){var r,o;try{for(var a=Object(u.h)(l),i=a.next();!i.done;i=a.next()){var s=i.value;try{return this.processSegmentAgainstRoute(s,n,e,t)}catch(c){if(!(c instanceof fd))throw c}}}catch(p){r={error:p}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}if(this.noLeftoversInUrl(n,e,t))return[];throw new fd},l.prototype.noLeftoversInUrl=function(l,n,e){return 0===n.length&&!l.children[e]},l.prototype.processSegmentAgainstRoute=function(l,n,e,t){if(l.redirectTo)throw new fd;if((l.outlet||Rc)!==t)throw new fd;var r,o=[],a=[];if("**"===l.path){var i=e.length>0?Vc(e).parameters:{};r=new Sp(e,i,Object.freeze(Object(u.a)({},this.urlTree.queryParams)),this.urlTree.fragment,xd(l),t,l.component,l,gd(n),yd(n)+e.length,Cd(l))}else{var s=function(l,n,e){if(""===n.path){if("full"===n.pathMatch&&(l.hasChildren()||e.length>0))throw new fd;return{consumedSegments:[],lastChild:0,parameters:{}}}var t=(n.matcher||Lc)(e,l,n);if(!t)throw new fd;var r={};Kc(t.posParams,function(l,n){r[n]=l.path});var o=t.consumed.length>0?Object(u.a)({},r,t.consumed[t.consumed.length-1].parameters):r;return{consumedSegments:t.consumed,lastChild:t.consumed.length,parameters:o}}(n,l,e);o=s.consumedSegments,a=e.slice(s.lastChild),r=new Sp(o,s.parameters,Object.freeze(Object(u.a)({},this.urlTree.queryParams)),this.urlTree.fragment,xd(l),t,l.component,l,gd(n),yd(n)+o.length,Cd(l))}var c=function(l){return l.children?l.children:l.loadChildren?l._loadedConfig.routes:[]}(l),p=bd(n,o,a,c,this.relativeLinkResolution),d=p.segmentGroup,h=p.slicedSegments;if(0===h.length&&d.hasChildren()){var f=this.processChildren(c,d);return[new wp(r,f)]}if(0===c.length&&0===h.length)return[new wp(r,[])];var m=this.processSegment(c,d,h,Rc);return[new wp(r,m)]},l}();function gd(l){for(var n=l;n._sourceSegment;)n=n._sourceSegment;return n}function yd(l){for(var n=l,e=n._segmentIndexShift?n._segmentIndexShift:0;n._sourceSegment;)e+=(n=n._sourceSegment)._segmentIndexShift?n._segmentIndexShift:0;return e-1}function bd(l,n,e,t,r){if(e.length>0&&function(l,n,e){return t.some(function(e){return vd(l,n,e)&&wd(e)!==Rc})}(l,e)){var o=new Xc(n,function(l,n,e,t){var r,o,a={};a[Rc]=t,t._sourceSegment=l,t._segmentIndexShift=n.length;try{for(var i=Object(u.h)(e),s=i.next();!s.done;s=i.next()){var c=s.value;if(""===c.path&&wd(c)!==Rc){var p=new Xc([],{});p._sourceSegment=l,p._segmentIndexShift=n.length,a[wd(c)]=p}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a}(l,n,t,new Xc(e,l.children)));return o._sourceSegment=l,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function(l,n,e){return t.some(function(e){return vd(l,n,e)})}(l,e)){var a=new Xc(l.segments,function(l,n,e,t,r,o){var a,i,s={};try{for(var c=Object(u.h)(t),p=c.next();!p.done;p=c.next()){var d=p.value;if(vd(l,e,d)&&!r[wd(d)]){var h=new Xc([],{});h._sourceSegment=l,h._segmentIndexShift="legacy"===o?l.segments.length:n.length,s[wd(d)]=h}}}catch(f){a={error:f}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return Object(u.a)({},r,s)}(l,n,e,t,l.children,r));return a._sourceSegment=l,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:e}}var i=new Xc(l.segments,l.children);return i._sourceSegment=l,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function vd(l,n,e){return(!(l.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path&&void 0===e.redirectTo}function wd(l){return l.outlet||Rc}function xd(l){return l.data||{}}function Cd(l){return l.resolve||{}}function kd(l,n,e,u){var t=rd(l,n,u);return Qc(t.resolve?t.resolve(n,e):t(n,e))}function jd(l){return function(n){return n.pipe(Ki(function(n){var e=l(n);return e?Object(yi.a)(e).pipe(Object(Mo.a)(function(){return n})):Object(yi.a)([n])}))}}var Od=function(){return function(){}}(),Sd=function(){function l(){}return l.prototype.shouldDetach=function(l){return!1},l.prototype.store=function(l,n){},l.prototype.shouldAttach=function(l){return!1},l.prototype.retrieve=function(l){return null},l.prototype.shouldReuseRoute=function(l,n){return l.routeConfig===n.routeConfig},l}(),Pd=new I("ROUTES"),Td=function(){function l(l,n,e,u){this.loader=l,this.compiler=n,this.onLoadStartListener=e,this.onLoadEndListener=u}return l.prototype.load=function(l,n){var e=this;return this.onLoadStartListener&&this.onLoadStartListener(n),this.loadModuleFactory(n.loadChildren).pipe(Object(Mo.a)(function(u){e.onLoadEndListener&&e.onLoadEndListener(n);var t=u.create(l);return new Fc(zc(t.injector.get(Pd)).map(Gc),t)}))},l.prototype.loadModuleFactory=function(l){var n=this;return"string"==typeof l?Object(yi.a)(this.loader.load(l)):Qc(l()).pipe(Object(m.a)(function(l){return l instanceof Bl?Object(gi.a)(l):Object(yi.a)(n.compiler.compileModuleAsync(l))}))},l}(),Ad=function(){return function(){}}(),Md=function(){function l(){}return l.prototype.shouldProcessUrl=function(l){return!0},l.prototype.extract=function(l){return l},l.prototype.merge=function(l,n){return l},l}();function _d(l){throw l}function Id(l,n,e){return n.parse("/")}function Ed(l,n){return Object(gi.a)(null)}var Rd=function(){function l(l,n,e,u,t,r,o,a){var i=this;this.rootComponentType=l,this.urlSerializer=n,this.rootContexts=e,this.location=u,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new d,this.errorHandler=_d,this.malformedUriErrorHandler=Id,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ed,afterPreactivation:Ed},this.urlHandlingStrategy=new Md,this.routeReuseStrategy=new Sd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=t.get(Ul),this.console=t.get(Qn);var s=t.get(ce);this.isNgZoneEnabled=s instanceof ce,this.resetConfig(a),this.currentUrlTree=new Yc(new Xc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Td(r,o,function(l){return i.triggerEvent(new Sc(l))},function(l){return i.triggerEvent(new Pc(l))}),this.routerState=kp(this.currentUrlTree,this.rootComponentType),this.transitions=new bi({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return l.prototype.setupNavigations=function(l){var n=this,e=this.events;return l.pipe(Object(Pi.a)(function(l){return 0!==l.id}),Object(Mo.a)(function(l){return Object(u.a)({},l,{extractedUrl:n.urlHandlingStrategy.extract(l.rawUrl)})}),Ei(function(l){n.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:n.lastSuccessfulNavigation?Object(u.a)({},n.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ki(function(l){var t,r,o,a,i=!1,s=!1;return Object(gi.a)(l).pipe(Ki(function(l){var t,r,o,a,i=!n.navigated||l.extractedUrl.toString()!==n.browserUrlTree.toString();if(("reload"===n.onSameUrlNavigation||i)&&n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Object(gi.a)(l).pipe(Ki(function(l){var u=n.transitions.getValue();return e.next(new yc(l.id,n.serializeUrl(l.extractedUrl),l.source,l.restoredState)),u!==n.transitions.getValue()?ji.a:[l]}),Ki(function(l){return Promise.resolve(l)}),(t=n.ngModule.injector,r=n.configLoader,o=n.urlSerializer,a=n.config,function(l){return l.pipe(Ki(function(l){return function(n,e,u,t,r){return new Xp(n,e,u,l.extractedUrl,r).apply()}(t,r,o,0,a).pipe(Object(Mo.a)(function(n){return Object(u.a)({},l,{urlAfterRedirects:n})}))}))}),Ei(function(l){n.currentNavigation=Object(u.a)({},n.currentNavigation,{finalUrl:l.urlAfterRedirects})}),function(l,e,t,r,o){return function(t){return t.pipe(Object(m.a)(function(t){return function(l,n,e,u,t,r){return void 0===t&&(t="emptyOnly"),void 0===r&&(r="legacy"),new md(l,n,e,u,t,r).recognize()}(l,e,t.urlAfterRedirects,(a=t.urlAfterRedirects,n.serializeUrl(a)),r,o).pipe(Object(Mo.a)(function(l){return Object(u.a)({},t,{targetSnapshot:l})}));var a}))}}(n.rootComponentType,n.config,0,n.paramsInheritanceStrategy,n.relativeLinkResolution),Ei(function(l){"eager"===n.urlUpdateStrategy&&(l.extras.skipLocationChange||n.setBrowserUrl(l.urlAfterRedirects,!!l.extras.replaceUrl,l.id),n.browserUrlTree=l.urlAfterRedirects)}),Ei(function(l){var u=new xc(l.id,n.serializeUrl(l.extractedUrl),n.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);e.next(u)}));if(i&&n.rawUrlTree&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){var s=l.extractedUrl,c=l.source,p=l.restoredState,d=l.extras,h=new yc(l.id,n.serializeUrl(s),c,p);e.next(h);var f=kp(s,n.rootComponentType).snapshot;return Object(gi.a)(Object(u.a)({},l,{targetSnapshot:f,urlAfterRedirects:s,extras:Object(u.a)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return n.rawUrlTree=l.rawUrl,l.resolve(null),ji.a}),jd(function(l){var e=l.extras;return n.hooks.beforePreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!e.skipLocationChange,replaceUrl:!!e.replaceUrl})}),Ei(function(l){var e=new Cc(l.id,n.serializeUrl(l.extractedUrl),n.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);n.triggerEvent(e)}),Object(Mo.a)(function(l){return Object(u.a)({},l,{guards:(e=l.targetSnapshot,t=l.currentSnapshot,r=n.rootContexts,o=e._root,od(o,t?t._root:null,r,[o.value]))});var e,t,r,o}),function(l,n){return function(e){return e.pipe(Object(m.a)(function(e){var t=e.targetSnapshot,r=e.currentSnapshot,o=e.guards,a=o.canActivateChecks,i=o.canDeactivateChecks;return 0===i.length&&0===a.length?Object(gi.a)(Object(u.a)({},e,{guardsResult:!0})):function(l,n,e,u){return Object(yi.a)(l).pipe(Object(m.a)(function(l){return function(l,n,e,u,t){var r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(gi.a)(!0);var o=r.map(function(r){var o,a=rd(r,n,t);if(function(l){return l&&Wp(l.canDeactivate)}(a))o=Qc(a.canDeactivate(l,n,e,u));else{if(!Wp(a))throw new Error("Invalid CanDeactivate guard");o=Qc(a(l,n,e,u))}return o.pipe(Gi())});return Object(gi.a)(o).pipe(sd())}(l.component,l.route,e,n,u)}),Gi(function(l){return!0!==l},!0))}(i,t,r,l).pipe(Object(m.a)(function(e){return e&&"boolean"==typeof e?function(l,n,e,u){return Object(yi.a)(n).pipe(ns(function(n){return Object(yi.a)([pd(n.route.parent,u),cd(n.route,u),hd(l,n.path,e),dd(l,n.route,e)]).pipe(Si(),Gi(function(l){return!0!==l},!0))}),Gi(function(l){return!0!==l},!0))}(t,a,l,n):Object(gi.a)(e)}),Object(Mo.a)(function(l){return Object(u.a)({},e,{guardsResult:l})}))}))}}(n.ngModule.injector,function(l){return n.triggerEvent(l)}),Ei(function(l){if(zp(l.guardsResult)){var e=Hc('Redirecting to "'+n.serializeUrl(l.guardsResult)+'"');throw e.url=l.guardsResult,e}}),Ei(function(l){var e=new kc(l.id,n.serializeUrl(l.extractedUrl),n.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);n.triggerEvent(e)}),Object(Pi.a)(function(l){if(!l.guardsResult){n.resetUrlToCurrentUrlTree();var u=new vc(l.id,n.serializeUrl(l.extractedUrl),"");return e.next(u),l.resolve(!1),!1}return!0}),jd(function(l){if(l.guards.canActivateChecks.length)return Object(gi.a)(l).pipe(Ei(function(l){var e=new jc(l.id,n.serializeUrl(l.extractedUrl),n.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);n.triggerEvent(e)}),(e=n.paramsInheritanceStrategy,t=n.ngModule.injector,function(l){return l.pipe(Object(m.a)(function(l){var n=l.targetSnapshot,r=l.guards.canActivateChecks;return r.length?Object(yi.a)(r).pipe(ns(function(l){return function(l,e,t,r){return function(l,n,e,u){var t=Object.keys(l);if(0===t.length)return Object(gi.a)({});if(1===t.length){var r=t[0];return kd(l[r],n,e,u).pipe(Object(Mo.a)(function(l){var n;return(n={})[r]=l,n}))}var o={};return Object(yi.a)(t).pipe(Object(m.a)(function(t){return kd(l[t],n,e,u).pipe(Object(Mo.a)(function(l){return o[t]=l,l}))})).pipe(Ji(),Object(Mo.a)(function(){return o}))}(l._resolve,l,n,r).pipe(Object(Mo.a)(function(n){return l._resolvedData=n,l.data=Object(u.a)({},l.data,Op(l,t).resolve),null}))}(l.route,0,e,t)}),function(l,n){return arguments.length>=2?function(n){return Object(es.a)(Xi(l,void 0),Ai(1),Hi(void 0))(n)}:function(n){return Object(es.a)(Xi(function(n,e,u){return l(n)}),Ai(1))(n)}}(function(l,n){return l}),Object(Mo.a)(function(n){return l})):Object(gi.a)(l)}))}),Ei(function(l){var e=new Oc(l.id,n.serializeUrl(l.extractedUrl),n.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);n.triggerEvent(e)}));var e,t}),jd(function(l){var e=l.extras;return n.hooks.afterPreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!e.skipLocationChange,replaceUrl:!!e.replaceUrl})}),Object(Mo.a)(function(l){var e,t,r,o=(r=function l(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){(s=t.value)._futureSnapshot=e.value;var r=function(n,e,t){return e.children.map(function(e){var r,o;try{for(var a=Object(u.h)(t.children),i=a.next();!i.done;i=a.next()){var s=i.value;if(n.shouldReuseRoute(s.value.snapshot,e.value))return l(n,e,s)}}catch(c){r={error:c}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return l(n,e)})}(n,e,t);return new wp(s,r)}var o=n.retrieve(e.value);if(o){var a=o.route;return function l(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(var u=0;u<n.children.length;++u)l(n.children[u],e.children[u])}(e,a),a}var i,s=new jp(new bi((i=e.value).url),new bi(i.params),new bi(i.queryParams),new bi(i.fragment),new bi(i.data),i.outlet,i.component,i);return r=e.children.map(function(e){return l(n,e)}),new wp(s,r)}(n.routeReuseStrategy,(e=l.targetSnapshot)._root,(t=l.currentRouterState)?t._root:void 0),new Cp(r,e));return Object(u.a)({},l,{targetRouterState:o})}),Ei(function(l){n.currentUrlTree=l.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(n.currentUrlTree,l.rawUrl),n.routerState=l.targetRouterState,"deferred"===n.urlUpdateStrategy&&(l.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,!!l.extras.replaceUrl,l.id,l.extras.state),n.browserUrlTree=l.urlAfterRedirects)}),(r=n.rootContexts,o=n.routeReuseStrategy,a=function(l){return n.triggerEvent(l)},Object(Mo.a)(function(l){return new Bp(o,l.targetRouterState,l.currentRouterState,a).activate(r),l})),Ei({next:function(){i=!0},complete:function(){i=!0}}),(t=function(){if(!i&&!s){n.resetUrlToCurrentUrlTree();var u=new vc(l.id,n.serializeUrl(l.extractedUrl),"Navigation ID "+l.id+" is not equal to the current navigation id "+n.navigationId);e.next(u),l.resolve(!1)}n.currentNavigation=null},function(l){return l.lift(new us(t))}),Object(Ui.a)(function(u){if(s=!0,(a=u)&&a[Dc]){n.navigated=!0;var t=zp(u.url);t||n.resetStateAndUrl(l.currentRouterState,l.currentUrlTree,l.rawUrl);var r=new vc(l.id,n.serializeUrl(l.extractedUrl),u.message);e.next(r),l.resolve(!1),t&&n.navigateByUrl(u.url)}else{n.resetStateAndUrl(l.currentRouterState,l.currentUrlTree,l.rawUrl);var o=new wc(l.id,n.serializeUrl(l.extractedUrl),u);e.next(o);try{l.resolve(n.errorHandler(u))}catch(i){l.reject(i)}}var a;return ji.a}))}))},l.prototype.resetRootComponentType=function(l){this.rootComponentType=l,this.routerState.root.component=this.rootComponentType},l.prototype.getTransition=function(){return this.transitions.value},l.prototype.setTransition=function(l){this.transitions.next(Object(u.a)({},this.getTransition(),l))},l.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},l.prototype.setUpLocationChangeListener=function(){var l=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(n){var e=l.parseUrl(n.url),u="popstate"===n.type?"popstate":"hashchange",t=n.state&&n.state.navigationId?n.state:null;setTimeout(function(){l.scheduleNavigation(e,u,t,{replaceUrl:!0})},0)}))},Object.defineProperty(l.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),l.prototype.getCurrentNavigation=function(){return this.currentNavigation},l.prototype.triggerEvent=function(l){this.events.next(l)},l.prototype.resetConfig=function(l){Jc(l),this.config=l.map(Gc),this.navigated=!1,this.lastSuccessfulId=-1},l.prototype.ngOnDestroy=function(){this.dispose()},l.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},l.prototype.createUrlTree=function(l,n){void 0===n&&(n={});var e=n.relativeTo,t=n.queryParams,r=n.fragment,o=n.preserveQueryParams,a=n.queryParamsHandling,i=n.preserveFragment;en()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var s=e||this.routerState.root,c=i?this.currentUrlTree.fragment:r,p=null;if(a)switch(a){case"merge":p=Object(u.a)({},this.currentUrlTree.queryParams,t);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=t||null}else p=o?this.currentUrlTree.queryParams:t||null;return null!==p&&(p=this.removeEmptyProps(p)),function(l,n,e,t,r){if(0===e.length)return Ep(n.root,n.root,n,t,r);var o=function(l){if("string"==typeof l[0]&&1===l.length&&"/"===l[0])return new Rp(!0,0,l);var n=0,e=!1,t=l.reduce(function(l,t,r){if("object"==typeof t&&null!=t){if(t.outlets){var o={};return Kc(t.outlets,function(l,n){o[n]="string"==typeof l?l.split("/"):l}),Object(u.g)(l,[{outlets:o}])}if(t.segmentPath)return Object(u.g)(l,[t.segmentPath])}return"string"!=typeof t?Object(u.g)(l,[t]):0===r?(t.split("/").forEach(function(u,t){0==t&&"."===u||(0==t&&""===u?e=!0:".."===u?n++:""!=u&&l.push(u))}),l):Object(u.g)(l,[t])},[]);return new Rp(e,n,t)}(e);if(o.toRoot())return Ep(n.root,new Xc([],{}),n,t,r);var a=function(l,e,u){if(l.isAbsolute)return new Np(n.root,!0,0);if(-1===u.snapshot._lastPathIndex)return new Np(u.snapshot._urlSegment,!0,0);var t=Ip(l.commands[0])?0:1;return function(n,e,r){for(var o=u.snapshot._urlSegment,a=u.snapshot._lastPathIndex+t,i=l.numberOfDoubleDots;i>a;){if(i-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new Np(o,!1,a-i)}()}(o,0,l),i=a.processChildren?Hp(a.segmentGroup,a.index,o.commands):Dp(a.segmentGroup,a.index,o.commands);return Ep(a.segmentGroup,i,n,t,r)}(s,this.currentUrlTree,l,p,c)},l.prototype.navigateByUrl=function(l,n){void 0===n&&(n={skipLocationChange:!1}),en()&&this.isNgZoneEnabled&&!ce.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var e=zp(l)?l:this.parseUrl(l),u=this.urlHandlingStrategy.merge(e,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,n)},l.prototype.navigate=function(l,n){return void 0===n&&(n={skipLocationChange:!1}),function(l){for(var n=0;n<l.length;n++){var e=l[n];if(null==e)throw new Error("The requested path contains "+e+" segment at index "+n)}}(l),this.navigateByUrl(this.createUrlTree(l,n),n)},l.prototype.serializeUrl=function(l){return this.urlSerializer.serialize(l)},l.prototype.parseUrl=function(l){var n;try{n=this.urlSerializer.parse(l)}catch(e){n=this.malformedUriErrorHandler(e,this.urlSerializer,l)}return n},l.prototype.isActive=function(l,n){if(zp(l))return $c(this.currentUrlTree,l,n);var e=this.parseUrl(l);return $c(this.currentUrlTree,e,n)},l.prototype.removeEmptyProps=function(l){return Object.keys(l).reduce(function(n,e){var u=l[e];return null!=u&&(n[e]=u),n},{})},l.prototype.processNavigations=function(){var l=this;this.navigations.subscribe(function(n){l.navigated=!0,l.lastSuccessfulId=n.id,l.events.next(new bc(n.id,l.serializeUrl(n.extractedUrl),l.serializeUrl(l.currentUrlTree))),l.lastSuccessfulNavigation=l.currentNavigation,l.currentNavigation=null,n.resolve(!0)},function(n){l.console.warn("Unhandled Navigation Error: ")})},l.prototype.scheduleNavigation=function(l,n,e,u){var t=this.getTransition();if(t&&"imperative"!==n&&"imperative"===t.source&&t.rawUrl.toString()===l.toString())return Promise.resolve(!0);if(t&&"hashchange"==n&&"popstate"===t.source&&t.rawUrl.toString()===l.toString())return Promise.resolve(!0);if(t&&"popstate"==n&&"hashchange"===t.source&&t.rawUrl.toString()===l.toString())return Promise.resolve(!0);var r=null,o=null,a=new Promise(function(l,n){r=l,o=n}),i=++this.navigationId;return this.setTransition({id:i,source:n,restoredState:e,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:l,extras:u,resolve:r,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(l){return Promise.reject(l)})},l.prototype.setBrowserUrl=function(l,n,e,t){var r=this.urlSerializer.serialize(l);t=t||{},this.location.isCurrentPathEqualTo(r)||n?this.location.replaceState(r,"",Object(u.a)({},t,{navigationId:e})):this.location.go(r,"",Object(u.a)({},t,{navigationId:e}))},l.prototype.resetStateAndUrl=function(l,n,e){this.routerState=l,this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e),this.resetUrlToCurrentUrlTree()},l.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},l}(),Nd=function(){function l(l,n,e){var u=this;this.router=l,this.route=n,this.locationStrategy=e,this.commands=[],this.subscription=l.events.subscribe(function(l){l instanceof bc&&u.updateTargetUrlAndHref()})}return Object.defineProperty(l.prototype,"routerLink",{set:function(l){this.commands=null!=l?Array.isArray(l)?l:[l]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"preserveQueryParams",{set:function(l){en()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=l},enumerable:!0,configurable:!0}),l.prototype.ngOnChanges=function(l){this.updateTargetUrlAndHref()},l.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},l.prototype.onClick=function(l,n,e,u){if(0!==l||n||e||u)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var t={skipLocationChange:qd(this.skipLocationChange),replaceUrl:qd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!1},l.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(l.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:qd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:qd(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(u.b)([_n("attr.target"),Mn(),Object(u.d)("design:type",String)],l.prototype,"target",void 0),l}();function qd(l){return""===l||!!l}var Dd=function(){function l(l,n,e,u){var t=this;this.router=l,this.element=n,this.renderer=e,this.cdr=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=l.events.subscribe(function(l){l instanceof bc&&t.update()})}return l.prototype.ngAfterContentInit=function(){var l=this;this.links.changes.subscribe(function(n){return l.update()}),this.linksWithHrefs.changes.subscribe(function(n){return l.update()}),this.update()},Object.defineProperty(l.prototype,"routerLinkActive",{set:function(l){var n=Array.isArray(l)?l:l.split(" ");this.classes=n.filter(function(l){return!!l})},enumerable:!0,configurable:!0}),l.prototype.ngOnChanges=function(l){this.update()},l.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},l.prototype.update=function(){var l=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var n=l.hasActiveLinks();l.isActive!==n&&(l.isActive=n,l.classes.forEach(function(e){n?l.renderer.addClass(l.element.nativeElement,e):l.renderer.removeClass(l.element.nativeElement,e)}))})},l.prototype.isLinkActive=function(l){var n=this;return function(e){return l.isActive(e.urlTree,n.routerLinkActiveOptions.exact)}},l.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},l}(),Hd=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ld,this.attachRef=null}}(),Ld=function(){function l(){this.contexts=new Map}return l.prototype.onChildOutletCreated=function(l,n){var e=this.getOrCreateContext(l);e.outlet=n,this.contexts.set(l,e)},l.prototype.onChildOutletDestroyed=function(l){var n=this.getContext(l);n&&(n.outlet=null)},l.prototype.onOutletDeactivated=function(){var l=this.contexts;return this.contexts=new Map,l},l.prototype.onOutletReAttached=function(l){this.contexts=l},l.prototype.getOrCreateContext=function(l){var n=this.getContext(l);return n||(n=new Hd,this.contexts.set(l,n)),n},l.prototype.getContext=function(l){return this.contexts.get(l)||null},l}(),Fd=function(){function l(l,n,e,u,t){this.parentContexts=l,this.location=n,this.resolver=e,this.changeDetector=t,this.activated=null,this._activatedRoute=null,this.activateEvents=new jn,this.deactivateEvents=new jn,this.name=u||Rc,l.onChildOutletCreated(this.name,this)}return l.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},l.prototype.ngOnInit=function(){if(!this.activated){var l=this.parentContexts.getContext(this.name);l&&l.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.resolver||null))}},Object.defineProperty(l.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),l.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var l=this.activated;return this.activated=null,this._activatedRoute=null,l},l.prototype.attach=function(l,n){this.activated=l,this._activatedRoute=n,this.location.insert(l.hostView)},l.prototype.deactivate=function(){if(this.activated){var l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}},l.prototype.activateWith=function(l,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=l;var e=(n=n||this.resolver).resolveComponentFactory(l._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,t=new Jd(l,u,this.location.injector);this.activated=this.location.createComponent(e,this.location.length,t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},l}(),Jd=function(){function l(l,n,e){this.route=l,this.childContexts=n,this.parent=e}return l.prototype.get=function(l,n){return l===jp?this.route:l===Ld?this.childContexts:this.parent.get(l,n)},l}(),Ud=function(){return function(){}}(),Bd=function(){function l(){}return l.prototype.preload=function(l,n){return n().pipe(Object(Ui.a)(function(){return Object(gi.a)(null)}))},l}(),Gd=function(){function l(){}return l.prototype.preload=function(l,n){return Object(gi.a)(null)},l}(),Wd=function(){function l(l,n,e,u,t){this.router=l,this.injector=u,this.preloadingStrategy=t,this.loader=new Td(n,e,function(n){return l.triggerEvent(new Sc(n))},function(n){return l.triggerEvent(new Pc(n))})}return l.prototype.setUpPreloading=function(){var l=this;this.subscription=this.router.events.pipe(Object(Pi.a)(function(l){return l instanceof bc}),ns(function(){return l.preload()})).subscribe(function(){})},l.prototype.preload=function(){var l=this.injector.get(Ul);return this.processRoutes(l,this.router.config)},l.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},l.prototype.processRoutes=function(l,n){var e,t,r=[];try{for(var o=Object(u.h)(n),a=o.next();!a.done;a=o.next()){var i=a.value;if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var s=i._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else i.loadChildren&&!i.canLoad?r.push(this.preloadConfig(l,i)):i.children&&r.push(this.processRoutes(l,i.children))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Object(yi.a)(r).pipe(y(),Object(Mo.a)(function(l){}))},l.prototype.preloadConfig=function(l,n){var e=this;return this.preloadingStrategy.preload(n,function(){return e.loader.load(l.injector,n).pipe(Object(m.a)(function(l){return n._loadedConfig=l,e.processRoutes(l.module,l.routes)}))})},l}(),zd=function(){function l(l,n,e){void 0===e&&(e={}),this.router=l,this.viewportScroller=n,this.options=e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},e.scrollPositionRestoration=e.scrollPositionRestoration||"disabled",e.anchorScrolling=e.anchorScrolling||"disabled"}return l.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},l.prototype.createScrollEvents=function(){var l=this;return this.router.events.subscribe(function(n){n instanceof yc?(l.store[l.lastId]=l.viewportScroller.getScrollPosition(),l.lastSource=n.navigationTrigger,l.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bc&&(l.lastId=n.id,l.scheduleScrollEvent(n,l.router.parseUrl(n.urlAfterRedirects).fragment))})},l.prototype.consumeScrollEvents=function(){var l=this;return this.router.events.subscribe(function(n){n instanceof Ic&&(n.position?"top"===l.options.scrollPositionRestoration?l.viewportScroller.scrollToPosition([0,0]):"enabled"===l.options.scrollPositionRestoration&&l.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===l.options.anchorScrolling?l.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==l.options.scrollPositionRestoration&&l.viewportScroller.scrollToPosition([0,0]))})},l.prototype.scheduleScrollEvent=function(l,n){this.router.triggerEvent(new Ic(l,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))},l.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},l}(),Vd=new I("ROUTER_CONFIGURATION"),Kd=new I("ROUTER_FORROOT_GUARD"),Qd=[Wo,{provide:ep,useClass:up},{provide:Rd,useFactory:eh,deps:[Pe,ep,Ld,Wo,vl,An,ue,Pd,Vd,[Ad,new ll],[Od,new ll]]},Ld,{provide:jp,useFactory:uh,deps:[Rd]},{provide:An,useClass:Ie},Wd,Gd,Bd,{provide:Vd,useValue:{enableTracing:!1}}];function $d(){return new Ce("Router",Rd)}var Yd=function(){function l(l,n){}var n;return n=l,l.forRoot=function(l,e){return{ngModule:n,providers:[Qd,nh(l),{provide:Kd,useFactory:lh,deps:[[Rd,new ll,new el]]},{provide:Vd,useValue:e||{}},{provide:Bo,useFactory:Zd,deps:[Jo,[new Z(Go),new ll],Vd]},{provide:zd,useFactory:Xd,deps:[Rd,ha,Vd]},{provide:Ud,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Gd},{provide:Ce,multi:!0,useFactory:$d},[th,{provide:Jn,multi:!0,useFactory:rh,deps:[th]},{provide:ah,useFactory:oh,deps:[th]},{provide:Kn,multi:!0,useExisting:ah}]]}},l.forChild=function(l){return{ngModule:n,providers:[nh(l)]}},l}();function Xd(l,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new zd(l,n,e)}function Zd(l,n,e){return void 0===e&&(e={}),e.useHash?new Vo(l,n):new Ko(l,n)}function lh(l){if(l)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nh(l){return[{provide:H,multi:!0,useValue:l},{provide:Pd,multi:!0,useValue:l}]}function eh(l,n,e,u,t,r,o,a,i,s,c){void 0===i&&(i={});var p=new Rd(null,n,e,u,t,r,o,zc(a));if(s&&(p.urlHandlingStrategy=s),c&&(p.routeReuseStrategy=c),i.errorHandler&&(p.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(p.malformedUriErrorHandler=i.malformedUriErrorHandler),i.enableTracing){var d=os();p.events.subscribe(function(l){d.logGroup("Router Event: "+l.constructor.name),d.log(l.toString()),d.log(l),d.logGroupEnd()})}return i.onSameUrlNavigation&&(p.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.urlUpdateStrategy&&(p.urlUpdateStrategy=i.urlUpdateStrategy),i.relativeLinkResolution&&(p.relativeLinkResolution=i.relativeLinkResolution),p}function uh(l){return l.routerState.root}var th=function(){function l(l){this.injector=l,this.initNavigation=!1,this.resultOfPreactivationDone=new d}return l.prototype.appInitializer=function(){var l=this;return this.injector.get(Uo,Promise.resolve(null)).then(function(){var n=null,e=new Promise(function(l){return n=l}),u=l.injector.get(Rd),t=l.injector.get(Vd);if(l.isLegacyDisabled(t)||l.isLegacyEnabled(t))n(!0);else if("disabled"===t.initialNavigation)u.setUpLocationChangeListener(),n(!0);else{if("enabled"!==t.initialNavigation)throw new Error("Invalid initialNavigation options: '"+t.initialNavigation+"'");u.hooks.afterPreactivation=function(){return l.initNavigation?Object(gi.a)(null):(l.initNavigation=!0,n(!0),l.resultOfPreactivationDone)},u.initialNavigation()}return e})},l.prototype.bootstrapListener=function(l){var n=this.injector.get(Vd),e=this.injector.get(Wd),u=this.injector.get(zd),t=this.injector.get(Rd),r=this.injector.get(Pe);l===r.components[0]&&(this.isLegacyEnabled(n)?t.initialNavigation():this.isLegacyDisabled(n)&&t.setUpLocationChangeListener(),e.setUpPreloading(),u.init(),t.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},l.prototype.isLegacyEnabled=function(l){return"legacy_enabled"===l.initialNavigation||!0===l.initialNavigation||void 0===l.initialNavigation},l.prototype.isLegacyDisabled=function(l){return"legacy_disabled"===l.initialNavigation||!1===l.initialNavigation},l}();function rh(l){return l.appInitializer.bind(l)}function oh(l){return l.bootstrapListener.bind(l)}var ah=new I("Router Initializer"),ih=function(){function l(l,n,e){this.titleService=l,this.router=n,this.activatedRoute=e}return l.prototype.ngOnInit=function(){return l=this,void 0,e=function(){var l=this;return function(l,n){var e,u,t,r,o={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,u&&(t=2&r[0]?u.return:r[0]?u.throw||((t=u.return)&&t.call(u),0):u.next)&&!(t=t.call(u,r[1])).done)return t;switch(u=0,t&&(r=[2&r[0],t.value]),r[0]){case 0:case 1:t=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,u=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(t=(t=o.trys).length>0&&t[t.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!t||r[1]>t[0]&&r[1]<t[3])){o.label=r[1];break}if(6===r[0]&&o.label<t[1]){o.label=t[1],t=r;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(r);break}t[2]&&o.ops.pop(),o.trys.pop();continue}r=n.call(l,o)}catch(a){r=[6,a],u=0}finally{e=t=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,function(n){return this.router.events.filter(function(l){return l instanceof bc}).subscribe(function(n){return l.updateTitle()}),[2]})},new((n=void 0)||(n=Promise))(function(u,t){function r(l){try{a(e.next(l))}catch(n){t(n)}}function o(l){try{a(e.throw(l))}catch(n){t(n)}}function a(l){l.done?u(l.value):new n(function(n){n(l.value)}).then(r,o)}a((e=e.apply(l,[])).next())});var l,n,e},l.prototype.updateTitle=function(){var l=this.activatedRoute.snapshot.firstChild;l&&this.titleService.setTitle((l.firstChild.data.title||"Documentation")+" | NestJS - A progressive Node.js web framework")},l}(),sh=Tu({encapsulation:2,styles:[],data:{}});function ch(l){return wr(0,[(l()(),tt(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),zt(1,212992,null,0,Fd,[Ld,Re,Ll,[8,null],qe],null,null)],function(l,n){l(n,1,0)},null)}function ph(l){return wr(0,[(l()(),tt(0,0,null,null,1,"ng-component",[],null,null,null,ch,sh)),zt(1,49152,null,0,Ec,[],null,null)],null,null)}var dh=Ct("ng-component",Ec,ph,{},{},[]),hh=function(){return function(){this.toggle=new jn,this.isSidebarOpened=!0}}(),fh=Tu({encapsulation:0,styles:[[".icon-wrapper[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:\" \";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:#191919;display:block;width:100%;height:70px;position:fixed;z-index:10000}header[_ngcontent-%COMP%]{height:100%;width:100%;display:block;position:relative}.icon-wrapper[_ngcontent-%COMP%]{height:100%;width:80px;top:0;bottom:0;display:inline-block;position:relative;z-index:10000}.icon-wrapper[_ngcontent-%COMP%]:hover{cursor:pointer;background:#212121}.icon-wrapper.opened[_ngcontent-%COMP%]{width:300px}@media only screen and (max-width:1200px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:300px}}@media only screen and (max-width:991px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:80px}}.icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:30px;stroke:#fff;stroke-width:5}[_nghost-%COMP%]     .logo-wrapper{display:inline-block;height:100%;text-align:center;vertical-align:top;padding-left:40px}[_nghost-%COMP%]     .logo-wrapper a{display:inline-block;padding-top:10px}.social-wrapper[_ngcontent-%COMP%]{float:right;padding-right:40px;position:relative}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;color:#b9b9b9;font-size:22px;margin-left:12px;cursor:pointer}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f9f8f8}.workshop-wrapper[_ngcontent-%COMP%]{float:right;padding:14px 25px}@media only screen and (max-width:480px){.social-wrapper[_ngcontent-%COMP%], .workshop-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;width:55px}@media only screen and (max-width:767px){.icon-wrapper[_ngcontent-%COMP%]{background:0 0}[_nghost-%COMP%]     .logo-wrapper{padding-left:10px}.workshop-wrapper[_ngcontent-%COMP%]{padding:23px 15px}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}}.workshop-wrapper[_ngcontent-%COMP%]   .workshop-info[_ngcontent-%COMP%], .workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.workshop-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#fff;margin:0}.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:767px){.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:block}.workshop-wrapper[_ngcontent-%COMP%]   .long-title[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#03a9f4;font-weight:600;font-size:12px;position:relative}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover::after{background:#ed2945}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after{content:'';display:block;background:#246081;height:2px;left:0;right:0;bottom:-1px;position:absolute}.workshop-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:1px 2px;font-weight:700;background:linear-gradient(#ee2943,#d31e5a)}@media (max-width:480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .logo-wrapper{width:100%}.icon-wrapper[_ngcontent-%COMP%]{position:absolute}}.fa-stack-overflow[_ngcontent-%COMP%]{font-size:18px}"]],data:{}});function mh(l){return wr(2,[(l()(),tt(0,0,null,null,24,"header",[],null,null,null,null,null)),(l()(),tt(1,0,null,null,13,"div",[["class","icon-wrapper"]],[[2,"opened",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggle.emit()&&u),u},null,null)),(l()(),tt(2,0,null,null,12,"div",[["class","nav-icon"]],null,null,null,null,null)),(l()(),tt(3,0,null,null,11,":svg:svg",[[":xml:space","preserve"],["enable-background","new 0 0 512.014 512.014"],["version","1.1"],["viewBox","0 0 512.014 512.014"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(l()(),tt(4,0,null,null,10,":svg:g",[["transform","translate(-1)"]],null,null,null,null,null)),(l()(),tt(5,0,null,null,9,":svg:g",[["fill","#fff"]],null,null,null,null,null)),(l()(),tt(6,0,null,null,0,":svg:path",[["d","m487.41 308.42l0.018-40.233c1.873-0.123 3.73-0.423 5.546-0.896 8.431-2.369 15.179-8.697 18.083-16.958 1.5-4.237 2.149-8.728 1.908-13.217-1.375-18.505-16.989-32.7-35.542-32.308h-0.62c-25.676-100.42-116.15-170.67-219.8-170.67s-194.12 70.248-219.8 170.67h-0.62c-18.552-0.391-34.167 13.803-35.541 32.308-0.242 4.483 0.407 8.969 1.908 13.2 2.898 8.269 9.648 14.605 18.083 16.975 1.823 0.475 3.687 0.776 5.567 0.9v40.229c-15.058 3.828-25.599 17.385-25.599 32.921 0 15.537 10.541 29.093 25.599 32.922v52.412c0.034 28.268 22.941 51.174 51.209 51.208h358.38c28.268-0.034 51.175-22.941 51.209-51.208v-52.412c15.058-3.828 25.599-17.384 25.6-32.92-1e-3 -15.537-10.541-29.093-25.599-32.923zm-230.4-257.21c94.187 0.206 176.78 62.928 202.28 153.6h-404.55c25.491-90.672 108.09-153.39 202.28-153.6zm-231.21 199.69c-3.163-0.83-5.7-3.189-6.758-6.284-0.752-2.115-1.072-4.359-0.942-6.6 1.007-9.382 9.06-16.411 18.492-16.141h440.83c9.432-0.27 17.485 6.76 18.492 16.142 0.129 2.246-0.191 4.496-0.942 6.617-1.064 3.087-3.6 5.438-6.758 6.267-3.016 0.801-6.215 0.568-9.083-0.663-0.237-0.098-0.491-0.159-0.722-0.27-0.862-0.416-1.681-0.916-2.446-1.491-0.114-0.084-0.245-0.138-0.357-0.226-0.073-0.057-0.156-0.096-0.23-0.153-1.533-1.173-3.142-2.243-4.817-3.201-0.446-0.258-0.898-0.502-1.353-0.743-1.74-0.942-3.542-1.763-5.393-2.46l-0.019-8e-3c-7.584-2.807-15.798-3.456-23.729-1.877-12.015 2.372-22.386 9.893-28.375 20.575-4.327 7.668-12.385 12.476-21.188 12.642h-0.054c-1.449-0.036-2.894-0.186-4.319-0.45-8.054-1.044-15.21-5.656-19.489-12.558-1.015-1.623-2.13-3.181-3.34-4.665-1.083-1.317-2.239-2.573-3.464-3.759-0.107-0.105-0.2-0.229-0.308-0.332-8.023-7.729-18.696-12.101-29.836-12.222-0.136-3e-3 -0.267-0.028-0.403-0.029l-0.081 8e-3c-0.37-2e-3 -0.731-0.057-1.103-0.049-14.927 0.218-28.605 8.382-35.883 21.417-4.434 7.942-21.384 12.692-35.217 12.692-2.301-0.015-4.6-0.152-6.886-0.409-0.284-0.029-0.568-0.069-0.853-0.102-7.674-0.72-15.112-3.038-21.835-6.806-2.291-1.304-4.228-3.15-5.642-5.375-7.278-13.035-20.956-21.198-35.883-21.416-0.367-9e-3 -0.742-0.017-1.108-0.017-1.016 0-2.007 0.124-3.009 0.193-0.675 0.047-1.359 0.052-2.028 0.13-1.322 0.153-2.612 0.413-3.903 0.683-0.547 0.115-1.106 0.186-1.647 0.321-1.273 0.318-2.508 0.742-3.742 1.173-0.541 0.188-1.098 0.333-1.631 0.542-1.126 0.444-2.205 0.99-3.29 1.527-0.602 0.297-1.224 0.548-1.811 0.872-0.947 0.525-1.841 1.145-2.749 1.741-0.666 0.435-1.357 0.825-2 1.298-0.786 0.58-1.511 1.25-2.261 1.883-0.695 0.586-1.42 1.128-2.082 1.759-0.677 0.646-1.282 1.379-1.922 2.071-0.658 0.711-1.35 1.379-1.967 2.139-0.814 1.002-1.538 2.1-2.276 3.183-0.362 0.53-0.771 1.009-1.114 1.558l-0.02 0.028c-1.119 1.742-2.419 3.362-3.878 4.831-0.319 0.344-0.639 0.685-0.974 1.004-1.328 1.23-2.776 2.321-4.324 3.258l-4e-3 -4e-3c-0.541 0.333-1.091 0.624-1.643 0.912-1.442 0.753-2.951 1.368-4.509 1.836l-0.223 0.068c-0.441 0.123-0.892 0.236-1.405 0.351-1.755 0.406-3.545 0.634-5.346 0.681l-0.175 0.01c-0.711 0.011-1.423-0.02-2.131-0.092-0.254-0.016-0.489-0.089-0.741-0.112-0.072-0.014-0.13-0.06-0.203-0.071-7.591-1.099-14.244-5.658-18.008-12.342-5.989-10.683-16.36-18.203-28.375-20.575-3.26-0.646-6.583-0.919-9.905-0.813-9.82-0.056-19.372 3.208-27.103 9.263-3.551 2.816-8.22 3.795-12.602 2.64zm331.11 58.806c-1.601-1.601-3.772-2.499-6.035-2.498h-119.47v-21.067c0.579 0.185 1.173 0.304 1.756 0.474 1.655 0.483 3.299 0.968 4.949 1.338 0.129 0.029 0.256 0.045 0.386 0.073 6.079 1.346 12.282 2.054 18.508 2.115 0.171 0 0.388-0.02 0.562-0.022 0.262 3e-3 0.765 0.022 0.897 0.022 14.167 0 40.675-4.517 50.116-21.442 4.215-7.505 12.032-12.276 20.634-12.593 1.461 0.061 2.915 0.235 4.349 0.521 0.661 0.109 1.352 0.116 1.998 0.273 4.405 1.11 8.461 3.305 11.799 6.386 0.063 0.058 0.14 0.093 0.202 0.152 1.774 1.669 3.323 3.56 4.61 5.628 8.13 13.429 22.84 21.465 38.533 21.05 0.146-4e-3 0.286-0.033 0.432-0.038 15.267 0.085 29.387-8.093 36.91-21.379 4.41-7.856 12.75-12.685 21.758-12.6h9e-3c1.461 0.062 2.914 0.245 4.345 0.547 0.683 0.14 1.335 0.367 2 0.559 1.038 0.297 2.056 0.658 3.05 1.081 0.53 0.227 1.058 0.457 1.571 0.719 1.51 0.751 2.944 1.644 4.284 2.669 1.65 1.301 3.426 2.434 5.3 3.383l-0.025 42.15h-68.267c-2.264-1e-3 -4.435 0.897-6.035 2.498-1.601 1.601-2.499 3.772-2.498 6.035v59.733c0 9.426-7.641 17.067-17.067 17.067s-17.067-7.641-17.067-17.067v-59.733c3e-3 -2.262-0.896-4.433-2.497-6.034zm-14.568 14.569v34.133h-110.93v-34.133h110.93zm-170.67-17.067c-4.713 0-8.533 3.82-8.533 8.533 0 9.426-7.641 17.067-17.067 17.067s-17.067-7.641-17.067-17.067v-25.832c2.648-0.302 5.261-0.852 7.806-1.643l0.094-0.025c0.058-0.017 0.892-0.275 0.958-0.3l0.076-0.029c1.348-0.444 2.668-0.947 3.966-1.521l0.15-0.058c0.508-0.217 1.017-0.442 1.467-0.667 0.136-0.068 0.282-0.151 0.418-0.221 0.951-0.48 1.873-1.004 2.789-1.554 0.257-0.153 0.472-0.271 0.752-0.442l1.283-0.792c0.135-0.092 0.295-0.233 0.43-0.328 0.801-0.556 1.564-1.165 2.33-1.776 0.275-0.22 0.482-0.352 0.782-0.596 0.458-0.358 0.9-0.717 1.333-1.108 0.125-0.114 0.251-0.248 0.375-0.365 0.324-0.3 0.634-0.614 0.951-0.923 0.618-0.625 1.258-1.297 1.999-2.096 0.35-0.367 0.708-0.733 1.05-1.15l0.102-0.139c1.356-1.617 2.6-3.325 3.723-5.111 5.05-8.191 14.021-13.139 23.643-13.041 8.887 0.1 17.047 4.931 21.409 12.675 1.064 1.85 2.338 3.571 3.797 5.129 0.659 0.731 1.4 1.38 2.128 2.052 0.526 0.483 0.954 1.006 1.524 1.47v123.73c0 9.426-7.641 17.067-17.067 17.067s-17.067-7.641-17.067-17.067v-34.142-51.2c-1e-3 -4.712-3.821-8.533-8.534-8.533zm-59.733-18.899v18.899h-68.267v-41.542c2.405-1.035 4.665-2.376 6.725-3.992 4.383-3.42 9.732-5.371 15.287-5.577 1.645-3e-3 3.287 0.145 4.905 0.443 7.139 1.351 13.307 5.806 16.834 12.158 5.28 9.503 14.086 16.546 24.516 19.611zm-76.8 70.099c-9.421-0.012-17.054-7.646-17.067-17.067 0.013-9.409 7.63-17.038 17.039-17.064l0.028 6e-3 77.884-8e-3c0.332 1.142 0.724 2.266 1.175 3.367 0.204 0.544 0.343 1.113 0.574 1.644 0.809 1.871 1.784 3.666 2.914 5.363 0.252 0.377 0.567 0.7 0.833 1.066 0.921 1.288 1.93 2.511 3.021 3.66 0.499 0.518 1.047 0.973 1.579 1.46 0.97 0.9 1.992 1.744 3.06 2.526 0.633 0.457 1.281 0.875 1.946 1.289 1.103 0.684 2.245 1.304 3.419 1.858 0.702 0.333 1.394 0.666 2.121 0.952 1.319 0.502 2.668 0.922 4.039 1.256 0.661 0.168 1.296 0.385 1.972 0.514 8.04 1.604 16.389 0.203 23.465-3.937v13.117h-128zm435.2 68.267c-0.022 18.847-15.295 34.12-34.142 34.142h-358.38c-18.847-0.022-34.12-15.295-34.142-34.142v-51.2l119.47 9e-3v25.6c0 18.851 15.282 34.133 34.133 34.133s34.133-15.282 34.133-34.133v-25.609h110.93c0 18.851 15.282 34.133 34.133 34.133s34.133-15.282 34.133-34.133h59.733v51.2zm8.533-68.267h-68.267v-34.133h68.267c9.426 0 17.067 7.641 17.067 17.067s-7.641 17.066-17.067 17.066z"]],null,null,null,null,null)),(l()(),tt(7,0,null,null,0,":svg:path",[["d","m208.31 79.311l-17.067 17.067c-2.18 2.15-3.041 5.304-2.255 8.264s3.097 5.271 6.057 6.057 6.114-0.075 8.264-2.255l17.067-17.067c3.293-3.339 3.275-8.709-0.041-12.025-3.316-3.315-8.687-3.334-12.025-0.041z"]],null,null,null,null,null)),(l()(),tt(8,0,null,null,0,":svg:path",[["d","m419.14 443.74c2.263 0 4.433-0.899 6.033-2.5l17.067-17.067c3.32-3.334 3.315-8.727-0.013-12.054-3.327-3.327-8.72-3.333-12.054-0.012l-17.067 17.067c-1.601 1.6-2.5 3.77-2.5 6.033s0.899 4.433 2.5 6.033c1.6 1.6 3.771 2.5 6.034 2.5z"]],null,null,null,null,null)),(l()(),tt(9,0,null,null,0,":svg:path",[["d","m105.91 403.58l-17.067 17.067c-2.18 2.15-3.041 5.304-2.255 8.264s3.097 5.271 6.057 6.057 6.113-0.075 8.264-2.255l17.067-17.067c3.293-3.339 3.275-8.709-0.041-12.025s-8.687-3.334-12.025-0.041z"]],null,null,null,null,null)),(l()(),tt(10,0,null,null,0,":svg:path",[["d","m250.97 147.58l-17.067 17.067c-2.18 2.15-3.041 5.304-2.255 8.264s3.097 5.271 6.057 6.057 6.114-0.075 8.264-2.255l17.067-17.067c3.293-3.339 3.275-8.709-0.041-12.025-3.315-3.316-8.686-3.334-12.025-0.041z"]],null,null,null,null,null)),(l()(),tt(11,0,null,null,0,":svg:path",[["d","m297.17 96.378c-3.339-3.293-8.709-3.275-12.025 0.041s-3.334 8.687-0.041 12.025l17.067 17.067c3.339 3.293 8.709 3.275 12.025-0.041s3.334-8.687 0.041-12.025l-17.067-17.067z"]],null,null,null,null,null)),(l()(),tt(12,0,null,null,0,":svg:path",[["d","m143.57 130.51c-3.339-3.293-8.709-3.275-12.025 0.041s-3.334 8.687-0.041 12.025l17.067 17.067c3.339 3.293 8.709 3.275 12.025-0.041s3.334-8.687 0.041-12.025l-17.067-17.067z"]],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,":svg:path",[["d","m288.64 403.58c-3.339-3.293-8.709-3.275-12.025 0.041s-3.334 8.687-0.041 12.025l17.067 17.067c3.339 3.293 8.709 3.275 12.025-0.041s3.334-8.687 0.041-12.025l-17.067-17.067z"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,0,":svg:path",[["d","m365.44 139.04c-3.339-3.293-8.709-3.275-12.025 0.041s-3.334 8.687-0.041 12.025l17.067 17.067c3.339 3.293 8.709 3.275 12.025-0.041s3.334-8.687 0.041-12.025l-17.067-17.067z"]],null,null,null,null,null)),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:null,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:0}},(l()(),tt(16,0,null,null,8,"div",[["class","social-wrapper"]],null,null,null,null,null)),(l()(),tt(17,0,null,null,1,"a",[["href","https://twitter.com/nestframework"],["target","blank"]],null,null,null,null,null)),(l()(),tt(18,0,null,null,0,"i",[["class","fa fa-twitter"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"a",[["href","https://github.com/nestjs/nest"],["target","blank"]],null,null,null,null,null)),(l()(),tt(20,0,null,null,0,"i",[["class","fa fa-github"]],null,null,null,null,null)),(l()(),tt(21,0,null,null,1,"a",[["href","https://stackoverflow.com/questions/tagged/nestjs"],["target","blank"]],null,null,null,null,null)),(l()(),tt(22,0,null,null,0,"i",[["class","fa fa-stack-overflow"]],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"a",[["href","https://nestjs.com"],["target","blank"],["title","NestJS - A node.js framework built on top of TypeScript"]],null,null,null,null,null)),(l()(),tt(24,0,null,null,0,"i",[["class","fa fa-globe"]],null,null,null,null,null))],null,function(l,n){l(n,1,0,n.component.isSidebarOpened)})}var gh=function(){function l(){this.isOpen=!1,this.children=[]}return l.prototype.toggle=function(){this.isOpen=!this.isOpen},l}(),yh=Tu({encapsulation:0,styles:[['.arrow-icon[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:relative;display:block}h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#191919;font-size:16px;letter-spacing:.1px;margin:18px 0}.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]:hover{color:#ed2945}.arrow-icon[_ngcontent-%COMP%]{position:absolute;top:1px;right:20px;font-size:20px;cursor:pointer}li[_ngcontent-%COMP%]{display:block;padding:4px 0}li[_ngcontent-%COMP%]:first-of-type{padding-top:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#191919;font-size:15px;text-decoration:none;cursor:pointer}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:600}li[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#afafaf!important;pointer-events:none}.nav-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;margin:10px 0 15px}.nav-item.opened[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block}.nav-item.opened[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{-webkit-transform:rotate(90deg);transform:rotate(90deg);color:#ed2945}.heading[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{color:#ed2945}ul[_ngcontent-%COMP%]{padding-left:15px}']],data:{}});function bh(l){return wr(0,[(l()(),tt(0,0,null,null,6,"a",[["routerLinkActive","active"]],[[2,"pending",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(1,671744,[[2,4]],0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),zt(2,1720320,null,2,Dd,[Rd,Gl,Ql,qe],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),ir(603979776,1,{links:1}),ir(603979776,2,{linksWithHrefs:1}),mr(5,{exact:0}),(l()(),yr(6,null,["",""]))],function(l,n){l(n,1,0,n.parent.context.$implicit.path);var e=l(n,5,0,!0);l(n,2,0,e,"active")},function(l,n){l(n,0,0,n.parent.context.$implicit.isPending,Et(n,1).target,Et(n,1).href),l(n,6,0,n.parent.context.$implicit.title)})}function vh(l){return wr(0,[(l()(),tt(0,0,null,null,1,"a",[["target","blank"]],[[8,"href",4]],null,null,null,null)),(l()(),yr(1,null,["",""]))],null,function(l,n){l(n,0,0,nt(1,"",n.parent.context.$implicit.externalUrl,"")),l(n,1,0,n.parent.context.$implicit.title)})}function wh(l){return wr(0,[(l()(),tt(0,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,bh)),zt(2,16384,null,0,ra,[Re,On],{ngIf:[0,"ngIf"]},null),(l()(),ut(16777216,null,null,1,null,vh)),zt(4,16384,null,0,ra,[Re,On],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!n.context.$implicit.externalUrl),l(n,4,0,!!n.context.$implicit.externalUrl)},null)}function xh(l){return wr(0,[(l()(),tt(0,0,null,null,7,"div",[["class","nav-item"]],[[2,"opened",null]],null,null,null,null)),(l()(),tt(1,0,null,null,3,"div",[["class","heading"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggle()&&u),u},null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(3,null,["",""])),(l()(),tt(4,0,null,null,0,"i",[["class","fa fa-angle-right arrow-icon"]],null,null,null,null,null)),(l()(),tt(5,0,null,null,2,"ul",[["class","sub-nav"]],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,wh)),zt(7,278528,null,0,ua,[Re,On,lu],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,7,0,n.component.children)},function(l,n){var e=n.component;l(n,0,0,e.isOpen),l(n,3,0,e.title)})}function Ch(l){return wr(0,[(l()(),tt(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(1,671744,[[4,4]],0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),zt(2,1720320,null,2,Dd,[Rd,Gl,Ql,qe],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),ir(603979776,3,{links:1}),ir(603979776,4,{linksWithHrefs:1}),mr(5,{exact:0}),(l()(),tt(6,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(7,null,["",""]))],function(l,n){l(n,1,0,n.component.path);var e=l(n,5,0,!0);l(n,2,0,e,"active")},function(l,n){var e=n.component;l(n,0,0,Et(n,1).target,Et(n,1).href),l(n,7,0,e.title)})}function kh(l){return wr(0,[(l()(),tt(0,0,null,null,2,"a",[["target","blank"]],[[8,"href",4]],null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(2,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,nt(1,"",e.externalUrl,"")),l(n,2,0,e.title)})}function jh(l){return wr(0,[(l()(),tt(0,0,null,null,4,"div",[["class","heading"]],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,Ch)),zt(2,16384,null,0,ra,[Re,On],{ngIf:[0,"ngIf"]},null),(l()(),ut(16777216,null,null,1,null,kh)),zt(4,16384,null,0,ra,[Re,On],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,!e.externalUrl),l(n,4,0,!!e.externalUrl)},null)}function Oh(l){return wr(2,[(l()(),ut(16777216,null,null,1,null,xh)),zt(1,16384,null,0,ra,[Re,On],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),ut(0,[["withoutChildren",2]],null,0,null,jh))],function(l,n){l(n,1,0,n.component.children,Et(n,2))},null)}var Sh=function(){function l(l,n){this.route=l,this.router=n,this.isSidebarOpened=!0,this.items=[{title:"Introduction",isOpened:!1,path:"/"},{title:"Overview",isOpened:!0,children:[{title:"First steps",path:"/first-steps"},{title:"Controllers",path:"/controllers"},{title:"Providers",path:"/providers"},{title:"Modules",path:"/modules"},{title:"Middleware",path:"/middleware"},{title:"Exception filters",path:"/exception-filters"},{title:"Pipes",path:"/pipes"},{title:"Guards",path:"/guards"},{title:"Interceptors",path:"/interceptors"},{title:"Custom decorators",path:"/custom-decorators"}]},{title:"Fundamentals",isOpened:!1,children:[{title:"Custom providers",path:"/fundamentals/custom-providers"},{title:"Asynchronous providers",path:"/fundamentals/async-providers"},{title:"Circular dependency",path:"/fundamentals/circular-dependency"},{title:"Platform agnosticism",path:"/fundamentals/platform-agnosticism"},{title:"Testing",path:"/fundamentals/unit-testing"}]},{title:"Techniques",isOpened:!1,children:[{title:"Authentication",path:"/techniques/authentication"},{title:"Database",path:"/techniques/database"},{title:"Mongo",path:"/techniques/mongodb"},{title:"File upload",path:"/techniques/file-upload"},{title:"Validation",path:"/techniques/validation"},{title:"Caching",path:"/techniques/caching"},{title:"Serialization",path:"/techniques/serialization"},{title:"Logger",path:"/techniques/logger"},{title:"Security",path:"/techniques/security"},{title:"Configuration",path:"/techniques/configuration"},{title:"Compression",path:"/techniques/compression"},{title:"HTTP module",path:"/techniques/http-module"},{title:"Model-View-Controller",path:"/techniques/mvc"},{title:"Performance (Fastify)",path:"/techniques/performance"},{title:"Hot reload (Webpack)",path:"/techniques/hot-reload"}]},{title:"GraphQL",isOpened:!1,children:[{title:"Quick start",path:"/graphql/quick-start"},{title:"Resolvers",path:"/graphql/resolvers-map"},{title:"Mutations",path:"/graphql/mutations"},{title:"Subscriptions",path:"/graphql/subscriptions"},{title:"Scalars",path:"/graphql/scalars"},{title:"Tooling",path:"/graphql/tooling"}]},{title:"WebSockets",isOpened:!1,children:[{title:"Gateways",path:"/websockets/gateways"},{title:"Exception filters",path:"/websockets/exception-filters"},{title:"Pipes",path:"/websockets/pipes"},{title:"Guards",path:"/websockets/guards"},{title:"Interceptors",path:"/websockets/interceptors"},{title:"Adapters",path:"/websockets/adapter"}]},{title:"Microservices",isOpened:!1,children:[{title:"Basics",path:"/microservices/basics"},{title:"Redis",path:"/microservices/redis"},{title:"MQTT",path:"/microservices/mqtt"},{title:"NATS",path:"/microservices/nats"},{title:"RabbitMQ",path:"/microservices/rabbitmq"},{title:"gRPC",path:"/microservices/grpc"},{title:"Exception filters",path:"/microservices/exception-filters"},{title:"Pipes",path:"/microservices/pipes"},{title:"Guards",path:"/microservices/guards"},{title:"Interceptors",path:"/microservices/interceptors"}]},{title:"Execution context",isOpened:!1,path:"/execution-context"},{title:"Recipes",isOpened:!1,children:[{title:"TypeORM",path:"/recipes/sql-typeorm"},{title:"Mongoose",path:"/recipes/mongodb"},{title:"Sequelize",path:"/recipes/sql-sequelize"},{title:"CQRS",path:"/recipes/cqrs"},{title:"OpenAPI (Swagger)",path:"/recipes/swagger"},{title:"Prisma",path:"/recipes/prisma"}]},{title:"CLI",isOpened:!1,children:[{title:"Overview",path:"/cli/overview"},{title:"Usage",path:"/cli/usages"}]},{title:"FAQ",isOpened:!1,children:[{title:"Express instance",path:"/faq/express-instance"},{title:"Global path prefix",path:"/faq/global-prefix"},{title:"Lifecycle events",path:"/faq/lifecycle-events"},{title:"Hybrid application",path:"/faq/hybrid-application"},{title:"HTTPS & multiple servers",path:"/faq/multiple-servers"},{title:"Examples",externalUrl:"https://github.com/kamilmysliwiec/nest/tree/master/sample"}]},{title:"Discover",isOpened:!1,children:[{title:"Who is using Nest?",path:"/discover/companies"}]},{title:"Migration guide",isOpened:!1,path:"/migration-guide"},{title:"Support me",isOpened:!1,path:"/support"},{title:"Version 4",isOpened:!1,externalUrl:"https://docs.nestjs.com/v4/"}]}return l.prototype.ngOnInit=function(){var l=this;this.router.events.filter(function(l){return l instanceof bc}).subscribe(function(n){return l.toggleCategory()}),this.toggleCategory()},l.prototype.toggleCategory=function(){var l=this.route.snapshot.firstChild;if(l.url&&l.url[1]){var n=l.url[0].path,e=this.items.findIndex(function(l){return l.title.toLowerCase()===n});if(e<0)return;this.items[e].isOpened=!0,this.items[1].isOpened=!1}},l}(),Ph=Tu({encapsulation:0,styles:[['.transition[_ngcontent-%COMP%], [_nghost-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{-webkit-transform:translateX(-100%);transform:translateX(-100%);padding:90px 30px 40px 45px;width:300px;background:#f9f9f9;box-shadow:inset -35px -18px 70px rgba(233,233,233,.25);position:fixed!important;border-right:1px solid #efefef;bottom:0;top:0;z-index:1000;overflow:hidden}.opened[_nghost-%COMP%]{-webkit-transform:translateX(0);transform:translateX(0)}@media only screen and (max-width:1200px){[_nghost-%COMP%]{width:300px}}@media only screen and (max-width:991px){.opened[_nghost-%COMP%]{z-index:1000;box-shadow:0 10px 40px rgba(0,0,0,.1)}}@media only screen and (max-width:767px){[_nghost-%COMP%]{padding:20px 25px}}@media only screen and (max-width:480px){[_nghost-%COMP%]{width:100%}}.nav-item[_ngcontent-%COMP%]{margin:0 -10px;padding:0 10px}.nav-item[_ngcontent-%COMP%]:last-of-type{border:0}.nav-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0}']],data:{}});function Th(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-menu-item",[["class","nav-item"]],null,null,null,Oh,yh)),zt(1,49152,null,0,gh,[],{isOpen:[0,"isOpen"],children:[1,"children"],path:[2,"path"],title:[3,"title"],externalUrl:[4,"externalUrl"]},null)],function(l,n){l(n,1,0,n.context.$implicit.isOpened,n.context.$implicit.children,null==n.context.$implicit?null:n.context.$implicit.path,n.context.$implicit.title,null==n.context.$implicit?null:n.context.$implicit.externalUrl)},null)}function Ah(l){return wr(2,[(l()(),tt(0,0,null,null,2,"nav",[["class","nav-container"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==e.stopPropagation()&&u),u},null,null)),(l()(),ut(16777216,null,null,1,null,Th)),zt(2,278528,null,0,ua,[Re,On,lu],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.items)},null)}function Mh(l){return!Object(To.a)(l)&&l-parseFloat(l)+1>=0}function _h(l){var n=l.index,e=l.period,u=l.subscriber;if(u.next(n),!u.closed){if(-1===e)return u.complete();l.index=n+1,this.schedule(l,e)}}var Ih=function(){function l(l,n){this.cd=l,this.renderer=n,this.headings=[],this.isPositionFixed=!0,this.scrollTopOffset=100,this.scrollDebounceTime=10}return l.prototype.ngOnInit=function(){var l=this;this.scrollSubscription=_o(window,"scroll").pipe(Eo(this.scrollDebounceTime)).subscribe(function(n){l.findCurrentHeading(),l.checkViewportBoundaries()}),this.init(),this.updateOffsetTop()},l.prototype.ngOnChanges=function(){this.init(),this.updateOffsetTop()},l.prototype.ngOnDestroy=function(){this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()},l.prototype.init=function(){this.lookupHeadings(),this.findCurrentHeading(),this.findMaxTopOffset()},l.prototype.lookupHeadings=function(){if(this.contentReference){var l=this.contentReference.querySelectorAll("h3, h4");this.headings=Array.from(l).map(function(l){return{offsetTop:l.offsetTop,textContent:l.textContent,elementRef:l}})}},l.prototype.updateOffsetTop=function(){var l=this;this.timerSubscription=function(l,n,e){void 0===l&&(l=0);var u=-1;return Mh(200)?u=Number(200)<1?1:Number(200):Object(f.a)(200)&&(e=200),Object(f.a)(e)||(e=Io.a),new r.a(function(n){var t=Mh(l)?l:+l-e.now();return e.schedule(_h,t,{index:0,period:u,subscriber:n})})}(600).pipe(Object(Bi.a)(3)).subscribe(function(){return l.init()})},l.prototype.findCurrentHeading=function(){for(var l=this,n=function(n){var e=l.activeId!==n;l.activeId=n,e&&l.cd.markForCheck()},e=0;e<this.headings.length;e++){if(this.headings.length-1===e)return n(e);if(this.headings[e+1].offsetTop>=window.pageYOffset+this.scrollTopOffset+15)return n(e)}},l.prototype.findMaxTopOffset=function(){if(this.tocWrapper){var l=this.tocWrapper.nativeElement,n=document.querySelector(".page-wrapper");n&&l&&(this.maxTopOffset=n.scrollHeight-l.scrollHeight-this.scrollTopOffset)}},l.prototype.navigateToAnchor=function(l){l&&(l.scrollIntoView(!0),window.scrollBy(0,-this.scrollTopOffset),this.findCurrentHeading())},l.prototype.checkViewportBoundaries=function(){this.isPositionFixed=this.maxTopOffset>window.pageYOffset;var l=this.tocWrapper.nativeElement;this.isPositionFixed?(this.renderer.removeStyle(l,"top"),this.renderer.removeStyle(l,"position")):(this.renderer.setStyle(l,"top",this.maxTopOffset+150+"px"),this.renderer.setStyle(l,"position","absolute"))},l.prototype.trackById=function(l,n){return n.id},l}(),Eh=Tu({encapsulation:0,styles:[[".transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:\" \";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.toc-wrapper[_ngcontent-%COMP%]{width:250px;padding-left:45px;box-sizing:border-box;position:fixed;top:90px;right:20px}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative;padding:0}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::before{content:'';position:absolute;left:0;top:10px;bottom:10px;width:2px;background:#efefef}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;position:relative;padding-left:30px;font-size:14px;line-height:24px;margin-bottom:6px;cursor:pointer}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ed2945}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#ed2945;font-weight:600}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]::before{background:#ed2945;border-color:#ed2945;border-width:1px;left:-3px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::before{border-radius:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);content:'';background:#fdfdfd;border:2px solid #efefef;left:-4px;width:6px;height:6px;top:50%;display:inline-block;position:absolute}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type::before{top:auto;bottom:0}"]],data:{}});function Rh(l){return wr(0,[(l()(),tt(0,0,null,null,1,"li",[],[[1,"id",0],[2,"current",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.navigateToAnchor(l.context.$implicit.elementRef)&&u),u},null,null)),(l()(),yr(1,null,[" ",""]))],null,function(l,n){l(n,0,0,n.context.$implicit.id,n.context.index===n.component.activeId),l(n,1,0,n.context.$implicit.textContent)})}function Nh(l){return wr(2,[ir(402653184,1,{tocWrapper:0}),(l()(),tt(1,0,[[1,0],["tocWrapper",1]],null,3,"div",[["class","toc-wrapper"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,Rh)),zt(4,278528,null,0,ua,[Re,On,lu],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(l,n){var e=n.component;l(n,4,0,e.headings,e.trackById)},null)}var qh=function(){return function(){}}(),Dh=Tu({encapsulation:0,styles:[['.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%], [_nghost-%COMP%], footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:#191919;display:block;height:90px;padding:5px 2px 15px 50px;position:absolute;bottom:0;left:0;right:0;margin:0;width:auto;font-size:15px}@media only screen and (max-width:767px){[_nghost-%COMP%]{padding:15px;margin:0 -30px;width:calc(100% + 60px);position:static;height:auto;text-align:center}}footer[_ngcontent-%COMP%]{display:block;position:relative;color:#929292}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#929292}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f9f8f8}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:25px}.social-wrapper[_ngcontent-%COMP%]{position:absolute;right:40px}@media only screen and (max-width:767px){.social-wrapper[_ngcontent-%COMP%]{-webkit-transform:translateX(0) translateY(0);transform:translateX(0) translateY(0);position:static;text-align:center}}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;color:#a5a5a5;font-size:22px;margin-left:12px;cursor:pointer}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f9f8f8}']],data:{}});function Hh(l){return wr(2,[(l()(),tt(0,0,null,null,19,"footer",[],null,null,null,null,null)),(l()(),tt(1,0,null,null,9,"div",[["class","credits"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Copyright \xa9 2017-2018 MIT by "])),(l()(),tt(4,0,null,null,1,"a",[["href","https://kamilmysliwiec.com"],["target","blank"],["title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],null,null,null,null,null)),(l()(),yr(-1,null,[" Kamil My\u015bliwiec"])),(l()(),tt(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),tt(7,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Designed by "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://dribbble.com/JakubStaron"],["target","_blank"],["title","Jakub Staro\u0144 Dribble"]],null,null,null,null,null)),(l()(),yr(-1,null,["Jakub Staro\u0144"])),(l()(),tt(11,0,null,null,8,"div",[["class","social-wrapper"]],null,null,null,null,null)),(l()(),tt(12,0,null,null,1,"a",[["href","https://www.facebook.com/kammysliwiec/"],["target","blank"]],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"a",[["href","https://twitter.com/kammysliwiec"],["target","blank"]],null,null,null,null,null)),(l()(),tt(15,0,null,null,0,"i",[["class","fa fa-twitter"]],null,null,null,null,null)),(l()(),tt(16,0,null,null,1,"a",[["href","https://github.com/kamilmysliwiec"],["target","blank"]],null,null,null,null,null)),(l()(),tt(17,0,null,null,0,"i",[["class","fa fa-github"]],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"a",[["href","https://kamilmysliwiec.com"],["target","blank"],["title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,0,"i",[["class","fa fa-globe"]],null,null,null,null,null))],null,null)}var Lh=function(){function l(l,n){this.cd=l,this.router=n,this.isSidebarOpened=!0,this.backerIds=Array.from({length:50},function(l,n){return n})}return l.prototype.ngOnInit=function(){var l=this;this.router.events.filter(function(l){return l instanceof bc}).subscribe(function(){if(window.innerWidth>768)return!1;l.isSidebarOpened=!1,l.cd.detectChanges()})},l.prototype.ngAfterViewInit=function(){this.checkWindowWidth(window.innerWidth)},l.prototype.toggleSidebar=function(){this.isSidebarOpened=!this.isSidebarOpened},l.prototype.onResize=function(l){this.checkWindowWidth(l.target.innerWidth)},l.prototype.checkWindowWidth=function(l){l=l||window.innerWidth,this.previousWidth!==l&&l<=768&&(this.previousWidth=l,this.isSidebarOpened=!1,this.cd.detectChanges())},l.prototype.onRouteActivate=function(l){if(l){var n=l.nativeElement;n&&(this.contentRef=n.querySelector(".content"),this.cd.markForCheck())}},l}(),Fh=Tu({encapsulation:2,styles:[['.container,.transition{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.center-element{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing,.container{box-sizing:border-box}.container-fluid{position:relative;display:block;table-layout:fixed;width:100%;min-height:100vh}.logo-wrapper img,.logo-wrapper svg{width:110px;height:50px}.container{margin-left:300px;width:calc(100% - 300px);padding:85px 50px 90px;display:inline-block;vertical-align:top;position:relative}.container.wide{margin-left:0;width:100%;display:block}@media only screen and (max-width:1200px){.container{margin-left:300px;width:calc(100% - 300px)}.container.wide{width:100%}}@media only screen and (max-width:767px){.container{margin-left:0;width:100%;padding:85px 20px 0}}.page-wrapper{color:#404040;line-height:26px}.page-wrapper a{font-weight:600;color:#ed2945}.page-wrapper a:hover{color:#0894e2}.page-wrapper h1,.page-wrapper h2,.page-wrapper h3,.page-wrapper h4,.page-wrapper h5,.page-wrapper h6{color:#191919}.page-wrapper h3{font-size:24px;font-weight:700;margin:45px 0 20px}.page-wrapper h5{color:#404040;margin-top:-12px;font-weight:600;font-size:16px}.page-wrapper h3:first-of-type{margin:20px 0}.page-wrapper p{text-align:justify}.sponsors-wrapper{border-top:1px solid #e8e8e8;padding:10px 0 60px;margin-top:20px;position:relative}.sponsors-wrapper img{display:inline-block;vertical-align:middle}.sponsors-wrapper a{color:#ed2945;font-weight:600}.sponsors-wrapper a:hover{color:#0894e2}.sponsors-wrapper h3{font-size:24px;font-weight:700;color:#1d1d1d}.sponsors-wrapper h4{color:#1b2247;font-weight:600;margin:30px 0 18px;font-size:18px}.sponsors-wrapper .title{margin:50px 0 25px}.sponsors-wrapper p{margin:0;line-height:26px;font-size:16px;font-weight:500;color:#4e4e4e}.sponsors-wrapper .logo-sponsor{width:280px}.sponsors-wrapper .logo-sponsor-small{width:150px;margin-right:20px;margin-bottom:10px}.sponsors-wrapper .btn-primary{border:2px solid #ed2945;color:#ed2945;padding:12px 20px;display:inline-block;position:absolute;right:40px;top:50px}.sponsors-wrapper .btn-primary:hover{color:#0894e2;border-color:#0894e2}@media only screen and (max-width:767px){.sponsors-wrapper .btn-primary{position:static;margin-top:30px}}.backers-wrapper{margin-top:10px}.backers-wrapper img{width:30px;border-radius:50%;-webkit-border-radius:50%}.inline-column{width:50%;vertical-align:top;margin:0;float:left}@media only screen and (max-width:991px){.inline-column{width:100%;float:none}}.content,.toc-wrapper{display:inline-block;vertical-align:top}.content{width:calc(100% - 220px)}@media only screen and (max-width:1200px){.content{width:100%}.toc-wrapper{display:none}}.company-logo{display:inline-block;vertical-align:middle;margin:10px 20px}.company-logo img{max-width:130px;max-height:90px;-webkit-filter:grayscale(100%);filter:grayscale(100%);opacity:.5}.company-logo img:hover{-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1}.companies-list a{color:#404040;font-size:15px;font-weight:400}']],data:{}});function Jh(l){return wr(0,[(l()(),tt(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),tt(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,nt(1,"https://opencollective.com/nest/backer/",n.context.$implicit,"/website")),l(n,1,0,nt(1,"https://opencollective.com/nest/backer/",n.context.$implicit,"/avatar.svg"))})}function Uh(l){return wr(2,[(l()(),tt(0,0,null,null,4,"app-header",[],null,[[null,"toggle"]],function(l,n,e){var u=!0;return"toggle"===n&&(u=!1!==l.component.toggleSidebar()&&u),u},mh,fh)),zt(1,49152,null,0,hh,[],{isSidebarOpened:[0,"isSidebarOpened"]},{toggle:"toggle"}),(l()(),tt(2,0,null,0,2,"div",[["class","logo-wrapper"]],null,null,null,null,null)),(l()(),tt(3,0,null,null,1,"a",[["href","http://docs.nestjs.com/"],["title","Documentation | NestJS - A node.js framework built on top of TypeScript"]],null,null,null,null,null)),(l()(),tt(4,0,null,null,0,"img",[["src","/assets/logo_text.svg"]],null,null,null,null,null)),(l()(),tt(5,0,null,null,39,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),tt(6,0,null,null,2,"app-menu",[["perfectScrollbar",""]],[[2,"opened",null]],null,null,Ah,Ph)),zt(7,999424,null,0,di,[ce,nu,Gl,Vn,[2,ai]],{config:[0,"config"]},null),zt(8,114688,null,0,Sh,[jp,Rd],null,null),(l()(),tt(9,0,null,null,35,"div",[["class","container"]],[[2,"wide",null]],null,null,null,null)),(l()(),tt(10,0,null,null,4,"div",[["class","page-wrapper"]],null,null,null,null,null)),(l()(),tt(11,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],function(l,n,e){var u=!0;return"activate"===n&&(u=!1!==l.component.onRouteActivate(e)&&u),u},null,null)),zt(12,212992,null,0,Fd,[Ld,Re,Ll,[8,null],qe],null,{activateEvents:"activate"}),(l()(),tt(13,0,null,null,1,"app-toc",[],null,null,null,Nh,Eh)),zt(14,770048,null,0,Ih,[qe,Ql],{contentReference:[0,"contentReference"]},null),(l()(),tt(15,0,null,null,23,"div",[["class","sponsors-wrapper"]],null,null,null,null,null)),(l()(),tt(16,0,null,null,22,"div",[["class","sponsors-container"]],null,null,null,null,null)),(l()(),tt(17,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Support us"])),(l()(),tt(19,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Nest is an MIT-licensed open source project. It can grow thanks to the support by these awesome people. If you'd like to join them, please read more "])),(l()(),tt(21,0,null,null,2,"a",[["routerLink","/support"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,22).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(22,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["."])),(l()(),tt(25,0,null,null,13,"div",[["class","row clearfix"]],null,null,null,null,null)),(l()(),tt(26,0,null,null,4,"div",[["class","inline-column"]],null,null,null,null,null)),(l()(),tt(27,0,null,null,1,"h4",[["class","title"]],null,null,null,null,null)),(l()(),yr(-1,null,["Principal Sponsor"])),(l()(),tt(29,0,null,null,1,"a",[["href","https://valor-software.com/"]],null,null,null,null,null)),(l()(),tt(30,0,null,null,0,"img",[["class","logo-sponsor"],["src","https://docs.nestjs.com/assets/sponsors/valor-software.png"]],null,null,null,null,null)),(l()(),tt(31,0,null,null,7,"div",[["class","inline-column"]],null,null,null,null,null)),(l()(),tt(32,0,null,null,1,"h4",[["class","title"]],null,null,null,null,null)),(l()(),yr(-1,null,["Sponsors / Backers"])),(l()(),tt(34,0,null,null,1,"a",[["href","http://www.xtremis.com/en"]],null,null,null,null,null)),(l()(),tt(35,0,null,null,0,"img",[["class","logo-sponsor-small"],["src","https://nestjs.com/logo-xtremis.0feb160c.svg"]],null,null,null,null,null)),(l()(),tt(36,0,null,null,2,"div",[["class","backers-wrapper"]],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,Jh)),zt(38,278528,null,0,ua,[Re,On,lu],{ngForOf:[0,"ngForOf"]},null),(l()(),tt(39,0,null,null,5,"app-footer",[],null,null,null,Hh,Dh)),zt(40,49152,null,0,qh,[],null,null),(l()(),tt(41,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Made by "])),(l()(),tt(43,0,null,null,1,"a",[["href","https://kamilmysliwiec.com"],["title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],null,null,null,null,null)),(l()(),yr(-1,null,[" Kamil My\u015bliwiec "]))],function(l,n){var e=n.component;l(n,1,0,e.isSidebarOpened),l(n,7,0,""),l(n,8,0),l(n,12,0),l(n,14,0,e.contentRef),l(n,22,0,"/support"),l(n,38,0,e.backerIds)},function(l,n){var e=n.component;l(n,6,0,e.isSidebarOpened),l(n,9,0,!e.isSidebarOpened),l(n,21,0,Et(n,22).target,Et(n,22).href)})}function Bh(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-homepage",[],null,[["window","resize"]],function(l,n,e){var u=!0;return"window:resize"===n&&(u=!1!==Et(l,1).onResize(e)&&u),u},Uh,Fh)),zt(1,4308992,null,0,Lh,[qe,Rd],null,null)],function(l,n){l(n,1,0)},null)}var Gh=Ct("app-homepage",Lh,Bh,{},{},[]),Wh=function(){return function(){this.isJsActive=!1}}(),zh=Tu({encapsulation:0,styles:[['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all 520ms cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.tabs-wrapper[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}.tab[_ngcontent-%COMP%]{color:#b1b1b1;cursor:pointer;margin:0;float:right;font-weight:600;height:100%;padding:12px 20px;box-sizing:border-box;-webkit-box-sizing:border-box}.tab[_ngcontent-%COMP%]:hover:not(.active){color:#efefef}.tab.active[_ngcontent-%COMP%]{display:none}']],data:{}});function Vh(l){return wr(2,[(l()(),tt(0,0,null,null,4,"div",[["class","tabs-wrapper"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"span",[["class","tab"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=0!=(l.component.isJsActive=!0)&&u),u},null,null)),(l()(),yr(-1,null,[" JS "])),(l()(),tt(3,0,null,null,1,"span",[["class","tab active"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=0!=(l.component.isJsActive=!1)&&u),u},null,null)),(l()(),yr(-1,null,[" TS "]))],null,function(l,n){var e=n.component;l(n,1,0,e.isJsActive),l(n,3,0,!e.isJsActive)})}var Kh=function(){function l(l,n){this.applicationRef=l,this.el=n,this.isHljsInitialized=!1}return Object.defineProperty(l.prototype,"nativeElement",{get:function(){return this.el.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isMarkupReady",{get:function(){return this.isHljsInitialized},enumerable:!0,configurable:!0}),l.prototype.ngAfterViewChecked=function(){this.initHljs()},l.prototype.initHljs=function(){var l=this;if(!this.isHljsInitialized){var n=this.el.nativeElement.querySelectorAll("code");[].forEach.call(n,function(n){n.className&&(Prism.highlightElement(n),l.isHljsInitialized=!0)}),setTimeout(function(){return l.applicationRef.tick()},100)}},l}(),Qh=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n}(Kh),$h=Tu({encapsulation:2,styles:[],data:{}});function Yh(l){return wr(2,[(l()(),tt(0,0,null,null,87,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Introduction"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Nest is a framework for building efficient, scalable "])),(l()(),tt(5,0,null,null,1,"a",[["href","http://nodejs.org"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Node.js"])),(l()(),yr(-1,null,[" server-side applications. It uses progressive JavaScript, is built with "])),(l()(),tt(8,0,null,null,1,"a",[["href","http://www.typescriptlang.org"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeScript"])),(l()(),yr(-1,null,[" (preserves compatibility with pure JavaScript) and combines elements of OOP (Object Oriented Programming), FP (Functional Programming), and FRP (Functional Reactive Programming)."])),(l()(),tt(11,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Under the hood, Nest makes use of "])),(l()(),tt(13,0,null,null,1,"a",[["href","https://expressjs.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Express"])),(l()(),yr(-1,null,[", but also provides compatibility with a wide range of other libraries (e.g. "])),(l()(),tt(16,0,null,null,1,"a",[["href","https://github.com/fastify/fastify"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Fastify"])),(l()(),yr(-1,null,["). This allows for easy use of the myriad third-party plugins which are available."])),(l()(),tt(19,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Philosophy"])),(l()(),tt(21,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["In recent years, thanks to Node.js, JavaScript has become the \u201clingua franca\u201d of the web for both front and backend applications. This has given rise to awesome projects like "])),(l()(),tt(23,0,null,null,1,"a",[["href","https://angular.io/"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Angular"])),(l()(),yr(-1,null,[", "])),(l()(),tt(26,0,null,null,1,"a",[["href","https://github.com/facebook/react"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["React"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(29,0,null,null,1,"a",[["href","https://github.com/vuejs/vue"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Vue"])),(l()(),yr(-1,null,[" which improve developer productivity and enable the construction of fast, testable, and extensible frontend applications. However, while plenty of superb libraries, helpers, and tools exist for Node (and server-side JavaScript), none of them effectively solve the main problem - "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["architecture"])),(l()(),yr(-1,null,["."])),(l()(),tt(35,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Nest provides an out-of-the-box application architecture which allows for effortless creation of highly testable, scalable, loosely coupled, and easily maintainable applications."])),(l()(),tt(37,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(39,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["To get started, scaffold the base project with the "])),(l()(),tt(41,0,null,null,2,"a",[["routerLink","/cli/overview"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,42).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(42,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["Nest CLI"])),(l()(),yr(-1,null,[":"])),(l()(),tt(45,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i -g @nestjs/cli\n$ nest new project-name"])),(l()(),tt(48,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Install the starter project with "])),(l()(),tt(50,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Git"])),(l()(),yr(-1,null,[":"])),(l()(),tt(53,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(54,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(55,49152,[["starter",4]],0,Wh,[],null,null),(l()(),tt(56,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(57,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ git clone https://github.com/nestjs/typescript-starter.git project\n$ cd project\n$ npm install\n$ npm run start"])),(l()(),tt(59,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(60,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ git clone https://github.com/nestjs/javascript-starter.git project\n$ cd project\n$ npm install\n$ npm run start"])),(l()(),tt(62,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Or start a new project from scratch with "])),(l()(),tt(64,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["npm"])),(l()(),yr(-1,null,[" (or "])),(l()(),tt(67,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["yarn"])),(l()(),yr(-1,null,["):"])),(l()(),tt(70,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(71,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save @nestjs/core @nestjs/common rxjs reflect-metadata"])),(l()(),tt(73,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Stay in touch"])),(l()(),tt(75,0,null,null,12,"ul",[],null,null,null,null,null)),(l()(),tt(76,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Author - "])),(l()(),tt(78,0,null,null,1,"a",[["href","https://kamilmysliwiec.com"],["target","blank"],["title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],null,null,null,null,null)),(l()(),yr(-1,null,["Kamil My\u015bliwiec "])),(l()(),tt(80,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Website - "])),(l()(),tt(82,0,null,null,1,"a",[["href","https://nestjs.com"],["target","blank"],["title","NestJS - A node.js framework built on top of TypeScript"]],null,null,null,null,null)),(l()(),yr(-1,null,["https://nestjs.com"])),(l()(),tt(84,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Twitter - "])),(l()(),tt(86,0,null,null,1,"a",[["href","https://twitter.com/nestframework"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["@nestframework"]))],function(l,n){l(n,42,0,"/cli/overview")},function(l,n){l(n,41,0,Et(n,42).target,Et(n,42).href),l(n,56,0,Et(n,55).isJsActive),l(n,59,0,!Et(n,55).isJsActive)})}function Xh(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-introduction",[],null,null,null,Yh,$h)),zt(1,8437760,null,0,Qh,[Pe,Gl],null,null)],null,null)}var Zh=Ct("app-introduction",Qh,Xh,{},{},[]),lf=function(){function l(){}return l.prototype.transform=function(l,n){return n?l+".js":l+".ts"},l}(),nf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"bootstrap",{get:function(){return"\nimport { NestFactory } from '@nestjs/core';\nimport { ApplicationModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  await app.listen(3000);\n}\nbootstrap();\n"},enumerable:!0,configurable:!0}),n}(Kh),ef=Tu({encapsulation:2,styles:[],data:{}});function uf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,[["contentReference",1]],null,145,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[["id","first-steps"]],null,null,null,null,null)),(l()(),yr(-1,null,["First steps"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In this set of articles, you'll learn the "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["core fundamentals"])),(l()(),yr(-1,null,[" of Nest. To get familiar with the essential building-blocks of Nest applications, we'll build a basic CRUD application with features that cover a lot of ground at an introductory level. "])),(l()(),tt(9,0,null,null,1,"h4",[["id","language"]],null,null,null,null,null)),(l()(),yr(-1,null,["Language"])),(l()(),tt(11,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We're in love with "])),(l()(),tt(13,0,null,null,1,"a",[["href","http://www.typescriptlang.org/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeScript"])),(l()(),yr(-1,null,[", but above all - we love "])),(l()(),tt(16,0,null,null,1,"a",[["href","https://nodejs.org/en/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Node.js"])),(l()(),yr(-1,null,[". That's why Nest is compatible with both TypeScript and "])),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["pure JavaScript"])),(l()(),yr(-1,null,[". Nest is taking advantage of latest language features, so to use a framework with simple JavaScript we need a "])),(l()(),tt(22,0,null,null,1,"a",[["href","http://babeljs.io/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Babel"])),(l()(),yr(-1,null,[" compiler. "])),(l()(),tt(25,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We'll mostly use TypeScript in the examples we provide, but you can always "])),(l()(),tt(27,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["switch the code snippets"])),(l()(),yr(-1,null,[" to vanilla JavaScript syntax. "])),(l()(),tt(30,0,null,null,1,"h4",[["id","prerequisites"]],null,null,null,null,null)),(l()(),yr(-1,null,["Prerequisites"])),(l()(),tt(32,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Please make sure that "])),(l()(),tt(34,0,null,null,1,"a",[["href","https://nodejs.org/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Node.js"])),(l()(),tt(36,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["(>= 8.9.0)"])),(l()(),yr(-1,null,[" is installed on your operating system. "])),(l()(),tt(39,0,null,null,1,"h4",[["id","setup"]],null,null,null,null,null)),(l()(),yr(-1,null,["Setup"])),(l()(),tt(41,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Setting up a new project is quite simple with the "])),(l()(),tt(43,0,null,null,2,"a",[["routerLink","/cli/overview"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,44).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(44,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["Nest CLI"])),(l()(),yr(-1,null,[". With "])),(l()(),tt(47,0,null,null,1,"a",[["href","https://www.npmjs.com/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["npm"])),(l()(),yr(-1,null,[" installed, you can create a new Nest project with the following commands in your OS terminal: "])),(l()(),tt(50,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(51,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i -g @nestjs/cli\n$ nest new project"])),(l()(),tt(53,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["The "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["project"])),(l()(),yr(-1,null,[" directory will be scaffolded with several core files being located within a "])),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["src/"])),(l()(),yr(-1,null,[" directory. "])),(l()(),tt(61,0,null,null,9,"div",[["class","file-tree"]],null,null,null,null,null)),(l()(),tt(62,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["src"])),(l()(),tt(64,0,null,null,6,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(65,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.controller.ts"])),(l()(),tt(67,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.module.ts"])),(l()(),tt(69,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),tt(71,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Following the convention, newly created modules should have their dedicated directory. "])),(l()(),tt(73,0,null,null,25,"table",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,24,"tbody",[],null,null,null,null,null)),(l()(),tt(75,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(76,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),tt(79,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["The entry file of the application. It uses "])),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestFactory"])),(l()(),yr(-1,null,[" to create the Nest application instance."])),(l()(),tt(84,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(85,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(86,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["app.module.ts"])),(l()(),tt(88,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Defines "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AppModule"])),(l()(),yr(-1,null,[", the root module of the application."])),(l()(),tt(93,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(94,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(95,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["app.controller.ts"])),(l()(),tt(97,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Basic controller sample with a single route."])),(l()(),tt(99,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(101,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),yr(-1,null,[" includes an async function, which will "])),(l()(),tt(104,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["bootstrap"])),(l()(),yr(-1,null,[" our application: "])),(l()(),tt(107,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(108,null,[" "," "])),fr(109,2),(l()(),tt(110,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(111,49152,[["bootstrapSwitch",4]],0,Wh,[],null,null),(l()(),tt(112,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(113,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(114,null,["",""])),(l()(),tt(115,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To create a Nest application instance, we are using the "])),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestFactory"])),(l()(),yr(-1,null,[". "])),(l()(),tt(120,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestFactory"])),(l()(),yr(-1,null,[" is one of the most fundamental classes, it exposes a few static methods that allows creating application instance. The "])),(l()(),tt(123,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method returns an object, which fulfills the "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestApplication"])),(l()(),yr(-1,null,[" interface, and provides a set of usable methods which are well described in the next chapters. "])),(l()(),tt(129,0,null,null,1,"h4",[["id","running-application"]],null,null,null,null,null)),(l()(),yr(-1,null,["Running application"])),(l()(),tt(131,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation process is complete, you can run the following command to start the HTTP server: "])),(l()(),tt(133,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(134,0,null,null,1,"code",[["class"," language-bash "]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm run start"])),(l()(),tt(136,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This command starts the HTTP server on the port defined inside the "])),(l()(),tt(138,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["src/main.ts"])),(l()(),yr(-1,null,[" file. While the application is running, open your browser and navigate to "])),(l()(),tt(141,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/"])),(l()(),yr(-1,null,[". You should see the "])),(l()(),tt(144,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hello world!"])),(l()(),yr(-1,null,[" message. "]))],function(l,n){l(n,44,0,"/cli/overview")},function(l,n){var e=n.component;l(n,43,0,Et(n,44).target,Et(n,44).href);var u=Ou(n,108,0,l(n,109,0,Et(n,0),"main",Et(n,111).isJsActive));l(n,108,0,u),l(n,114,0,e.bootstrap)})}function tf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-first-steps",[],null,null,null,uf,ef)),zt(1,8437760,null,0,nf,[Pe,Gl],null,null)],null,null)}var rf=Ct("app-first-steps",nf,tf,{},{},[]),of=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"catsController",{get:function(){return"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"requestObject",{get:function(){return"\nimport { Controller, Get, Req } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(@Req() request) {\n    return 'This action returns all cats';\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"requestObjectJs",{get:function(){return"\nimport { Controller, Bind, Get, Req } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  @Bind(Req())\n  findAll(request) {\n    return 'This action returns all cats';\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"postEndpoint",{get:function(){return"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create() {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"routeParameters",{get:function(){return"\n@Get(':id')\nfindOne(@Param() params) {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"routeParameter",{get:function(){return"\n@Get(':id')\nfindOne(@Param('id') id) {\n  return `This action returns a #${id} cat`;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"routeWildcards",{get:function(){return"\n@Get('ab*cd')\nfindAll() {\n  return 'This route uses a wildcard';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusCode",{get:function(){return"\n@Post()\n@HttpCode(204)\ncreate() {\n  return 'This action adds a new cat';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"header",{get:function(){return"\n@Post()\n@Header('Cache-Control', 'none')\ncreate() {\n  return 'This action adds a new cat';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncExample",{get:function(){return"\n@Get()\nasync findAll(): Promise<any[]> {\n  return [];\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncExampleJs",{get:function(){return"\n@Get()\nasync findAll() {\n  return [];\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"observableExample",{get:function(){return"\n@Get()\nfindAll(): Observable<any[]> {\n  return of([]);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"observableExampleJs",{get:function(){return"\n@Get()\nfindAll() {\n  return of([]);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatSchema",{get:function(){return"\nexport class CreateCatDto {\n  readonly name: string;\n  readonly age: number;\n  readonly breed: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exampleWithBody",{get:function(){return"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  return 'This action adds a new cat';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exampleWithBodyJs",{get:function(){return"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  return 'This action adds a new cat';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"appModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  controllers: [CatsController],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bodyParser",{get:function(){return"\nimport * as bodyParser from 'body-parser';\nimport { NestFactory } from '@nestjs/core';\nimport { ApplicationModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  app.use(bodyParser.json());\n  await app.listen(3000);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expressWay",{get:function(){return"\nimport { Controller, Get, Post, Res, HttpStatus } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Res() res) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  findAll(@Res() res) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expressWayJs",{get:function(){return"\nimport { Controller, Get, Post, Bind, Res, Body, HttpStatus } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Res(), Body())\n  create(res, createCatDto) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  @Bind(Res())\n  findAll(res) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullSample",{get:function(){return"\nimport { Controller, Get, Post, Body, Put, Param, Delete } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Body() createCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(@Query() query) {\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  update(@Param('id') id, @Body() updateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  remove(@Param('id') id) {\n    return `This action removes a #${id} cat`;\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),af=Tu({encapsulation:2,styles:[],data:{}});function sf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,555,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Controllers"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Controllers are responsible for handling incoming "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["requests"])),(l()(),yr(-1,null,[" and returning "])),(l()(),tt(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["responses"])),(l()(),yr(-1,null,[" to the client."])),(l()(),tt(12,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,"img",[["src","/assets/Controllers_1.png"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A controller's purpose is to receive specific requests for the application. The "])),(l()(),tt(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["routing"])),(l()(),yr(-1,null,[" mechanism controls which controller receives which requests. Frequently, each controller has more than one route, and different routes can perform different actions. "])),(l()(),tt(19,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create a basic controller, we use classes and "])),(l()(),tt(21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["decorators"])),(l()(),yr(-1,null,[". Decorators associate classes with required metadata and enable Nest to create a routing map (tie requests to the corresponding controllers). "])),(l()(),tt(24,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Routing"])),(l()(),tt(26,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the following example we'll use the "])),(l()(),tt(28,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Controller()"])),(l()(),yr(-1,null,[" decorator which is "])),(l()(),tt(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["required"])),(l()(),yr(-1,null,[" to define a basic controller. We'll specify an optional prefix of "])),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,[". Using a prefix in a Controller decorator allows us to avoid repeating ourselves when routes could potentially share a common prefix. "])),(l()(),tt(37,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(38,null,[" "," "])),fr(39,2),(l()(),tt(40,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(41,49152,[["catsControllerT",4]],0,Wh,[],null,null),(l()(),tt(42,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(44,null,["",""])),(l()(),tt(45,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(46,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" To create a controller using CLI, simply execute "])),(l()(),tt(49,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["$ nest g controller cats"])),(l()(),yr(-1,null,[" command. "])),(l()(),tt(52,0,null,null,15,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Get()"])),(l()(),yr(-1,null,[" decorator before the "])),(l()(),tt(57,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findAll()"])),(l()(),yr(-1,null,[" method tells Nest to create an endpoint for this particular route path and map every corresponding request to this handler. Since we've declared a prefix for every route ( "])),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,["), Nest will map every "])),(l()(),tt(63,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),tt(65,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["GET"])),(l()(),yr(-1,null,[" request to this method. "])),(l()(),tt(68,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When a GET request is made to this endpoint, Nest will now return a 200 status code and the associated response, which in this case is just a string. Why does that happen? Generally, we distinguish "])),(l()(),tt(70,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["two different approaches "])),(l()(),yr(-1,null,[" to manipulate responses: "])),(l()(),tt(73,0,null,null,35,"table",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,34,"tbody",[],null,null,null,null,null)),(l()(),tt(75,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),tt(76,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Standard (recommended)"])),(l()(),tt(78,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When we return a JavaScript object or array, it'll be "])),(l()(),tt(80,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["automatically"])),(l()(),yr(-1,null,[" serialized to JSON. When we return a string however, Nest will send just a string without attempting to serialize it. "])),(l()(),tt(83,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),tt(84,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Furthermore, the response's "])),(l()(),tt(86,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["status code"])),(l()(),yr(-1,null,[" is always 200 by default, except for POST requests which use "])),(l()(),tt(89,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["201"])),(l()(),yr(-1,null,[". We can easily change this behaviour by adding the "])),(l()(),tt(92,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@HttpCode(...)"])),(l()(),yr(-1,null,[" decorator at a handler-level. "])),(l()(),tt(95,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),tt(96,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Library-specific"])),(l()(),tt(98,0,null,null,10,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We can use the library specific "])),(l()(),tt(100,0,null,null,1,"a",[["href","http://expressjs.com/en/api.html#res"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["response object"])),(l()(),yr(-1,null,[", which we can inject using the "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Res()"])),(l()(),yr(-1,null,[" decorator in the function signature (e.g. "])),(l()(),tt(106,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findAll(@Res() response)"])),(l()(),yr(-1,null,["). "])),(l()(),tt(109,0,null,null,9,"blockquote",[],null,null,null,null,null)),(l()(),tt(110,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" It's forbidden to use both approaches at the same time. Nest detects whether the handler is using either "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Res()"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(116,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Next()"])),(l()(),yr(-1,null,[". If both approaches are used in the same time - the Standard approach is automatically disabled for this single route and will no longer work as expected. "])),(l()(),tt(119,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Request object"])),(l()(),tt(121,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A lot of endpoints need access to the client "])),(l()(),tt(123,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" details. In fact, Nest is using a library-specific (express by default) "])),(l()(),tt(126,0,null,null,1,"a",[["href","http://expressjs.com/en/api.html#req"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["request object"])),(l()(),yr(-1,null,[". As a result, we can force Nest to inject the request object into the handler using the "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Req()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(132,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(133,null,[" "," "])),fr(134,2),(l()(),tt(135,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(136,49152,[["requestObjectT",4]],0,Wh,[],null,null),(l()(),tt(137,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(138,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(139,null,["",""])),(l()(),tt(140,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(141,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(142,null,["",""])),(l()(),tt(143,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The request object represents the HTTP request and has properties for the request query string, parameters, HTTP headers, and body (read more "])),(l()(),tt(145,0,null,null,1,"a",[["href","http://expressjs.com/en/api.html#req"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["). In most cases, it's not necessary to grab these properties manually. We can use "])),(l()(),tt(148,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["dedicated decorators"])),(l()(),yr(-1,null,[" instead, such as "])),(l()(),tt(151,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body()"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query()"])),(l()(),yr(-1,null,[", which are available out of the box. Below is a comparison of the provided decorators and the plain express objects they represent. "])),(l()(),tt(157,0,null,null,69,"table",[],null,null,null,null,null)),(l()(),tt(158,0,null,null,68,"tbody",[],null,null,null,null,null)),(l()(),tt(159,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(160,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(161,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Request()"])),(l()(),tt(163,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(164,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req"])),(l()(),tt(166,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(167,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Response()"])),(l()(),tt(170,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(171,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["res"])),(l()(),tt(173,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(174,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(175,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Next()"])),(l()(),tt(177,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(178,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["next"])),(l()(),tt(180,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(181,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(182,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Session()"])),(l()(),tt(184,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(185,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.session"])),(l()(),tt(187,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(188,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(189,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Param(param?: string)"])),(l()(),tt(191,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(192,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.params"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(195,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.params[param]"])),(l()(),tt(197,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(198,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(199,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body(param?: string)"])),(l()(),tt(201,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(202,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.body"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(205,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.body[param]"])),(l()(),tt(207,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(208,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(209,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query(param?: string)"])),(l()(),tt(211,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(212,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.query"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(215,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.query[param]"])),(l()(),tt(217,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(218,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(219,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Headers(param?: string)"])),(l()(),tt(221,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(222,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.headers"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(225,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.headers[param]"])),(l()(),tt(227,0,null,null,7,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(228,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" To learn how to create your own custom decorators, visit "])),(l()(),tt(231,0,null,null,2,"a",[["routerLink","/custom-decorators"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,232).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(232,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["this"])),(l()(),yr(-1,null,[" chapter. "])),(l()(),tt(235,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Resources"])),(l()(),tt(237,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We defined an endpoint to fetch the cats resource ("])),(l()(),tt(239,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["GET"])),(l()(),yr(-1,null,[" route). It'll also be great to provide a way of creating new records as well. For this, let's create the "])),(l()(),tt(242,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["POST"])),(l()(),yr(-1,null,[" handler: "])),(l()(),tt(245,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(246,null,[" "," "])),fr(247,2),(l()(),tt(248,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(249,49152,[["postEndpointT",4]],0,Wh,[],null,null),(l()(),tt(250,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(251,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(252,null,["",""])),(l()(),tt(253,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It's that simple. Nest provides the rest of those endpoint decorators in the same fashion - "])),(l()(),tt(255,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Put()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(258,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Delete()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(261,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Patch()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(264,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Options()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(267,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Head()"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(270,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@All()"])),(l()(),yr(-1,null,[". All of them represent respective HTTP request methods. "])),(l()(),tt(273,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Route wildcards"])),(l()(),tt(275,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Pattern based routes are supported as well. For instance, the asterisk is used as a wildcard, and will match any combination of characters. "])),(l()(),tt(277,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(278,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(279,null,["",""])),(l()(),tt(280,0,null,null,28,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above route path will match "])),(l()(),tt(282,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["abcd"])),(l()(),yr(-1,null,[", "])),(l()(),tt(285,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ab_cd"])),(l()(),yr(-1,null,[", "])),(l()(),tt(288,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["abecd"])),(l()(),yr(-1,null,[", and so on. The characters "])),(l()(),tt(291,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["?"])),(l()(),yr(-1,null,[", "])),(l()(),tt(294,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["+"])),(l()(),yr(-1,null,[", "])),(l()(),tt(297,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["*"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(300,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["()"])),(l()(),yr(-1,null,[" are subsets of their regular expression counterparts. The hyphen ( "])),(l()(),tt(303,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["-"])),(l()(),yr(-1,null,[") and the dot ("])),(l()(),tt(306,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["."])),(l()(),yr(-1,null,[") are interpreted literally by string-based paths. "])),(l()(),tt(309,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Status code"])),(l()(),tt(311,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As mentioned, the response "])),(l()(),tt(313,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["status code"])),(l()(),yr(-1,null,[" is always "])),(l()(),tt(316,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["200"])),(l()(),yr(-1,null,[" by default, except for POST requests which are "])),(l()(),tt(319,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["201"])),(l()(),yr(-1,null,[". We can easily change this behaviour by adding the "])),(l()(),tt(322,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@HttpCode(...)"])),(l()(),yr(-1,null,[" decorator at a handler-level. "])),(l()(),tt(325,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(326,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(327,null,["",""])),(l()(),tt(328,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Often, your status code isn't static but depends on various factors. In that case, you can use a library-specific "])),(l()(),tt(330,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["response"])),(l()(),yr(-1,null,[" (inject using "])),(l()(),tt(333,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Res()"])),(l()(),yr(-1,null,[") object (or, in case of an error, throw an exception). "])),(l()(),tt(336,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Headers"])),(l()(),tt(338,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To specify a custom response header, you can either use a "])),(l()(),tt(340,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Header()"])),(l()(),yr(-1,null,[" decorator or a library-specific response object. "])),(l()(),tt(343,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(344,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(345,null,["",""])),(l()(),tt(346,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Route parameters"])),(l()(),tt(348,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Routes with static paths can't help when you need to accept "])),(l()(),tt(350,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["dynamic data"])),(l()(),yr(-1,null,[" as part of the URL. In order to define routes with parameters, we can directly particularise the route parameters in the path of the route. "])),(l()(),tt(353,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(354,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(355,null,["",""])),(l()(),tt(356,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to pick up a particular parameter, simply pass its name in parenthesis. "])),(l()(),tt(358,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(359,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(360,null,["",""])),(l()(),tt(361,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Async/await"])),(l()(),tt(363,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We love modern JavaScript and we know that data extraction is mostly "])),(l()(),tt(365,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[". That's why Nest supports and works well with "])),(l()(),tt(368,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" functions. "])),(l()(),tt(371,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(372,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Learn more about "])),(l()(),tt(375,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async / await"])),(l()(),yr(-1,null,["\xa0"])),(l()(),tt(378,0,null,null,1,"a",[["href","https://kamilmysliwiec.com/typescript-2-1-introduction-async-await"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["! "])),(l()(),tt(381,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Every async function has to return a "])),(l()(),tt(383,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[". It means that you can return a deferred value that Nest will be able to resolve by itself. Let's see an example of this below: "])),(l()(),tt(386,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(387,null,[" "," "])),fr(388,2),(l()(),tt(389,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(390,49152,[["asyncExampleT",4]],0,Wh,[],null,null),(l()(),tt(391,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(392,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(393,null,["",""])),(l()(),tt(394,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(395,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(396,null,["",""])),(l()(),tt(397,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The above code is fully valid. Furthermore, Nest route handlers are even more powerful by being able to return Rx "])),(l()(),tt(399,0,null,null,1,"a",[["href","http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["observable streams"])),(l()(),yr(-1,null,[". Nest will automatically subscribe to the source underneath and take the last emitted value (once the stream is completed). "])),(l()(),tt(402,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(403,null,[" "," "])),fr(404,2),(l()(),tt(405,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(406,49152,[["observableExampleT",4]],0,Wh,[],null,null),(l()(),tt(407,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(408,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(409,null,["",""])),(l()(),tt(410,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(411,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(412,null,["",""])),(l()(),tt(413,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Either of the above approaches work and you can use whatever fits your requirements. "])),(l()(),tt(415,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Request payloads"])),(l()(),tt(417,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Our previous example of the POST route handler didn't accept any client params. Let's fix this by adding the "])),(l()(),tt(419,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body()"])),(l()(),yr(-1,null,[" argument here. "])),(l()(),tt(422,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But first (if you use TypeScript), we need to determine the "])),(l()(),tt(424,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["DTO"])),(l()(),yr(-1,null,[" (Data Transfer Object) schema. A DTO is an object that defines how the data will be sent over the network. We could determine the DTO schema by using "])),(l()(),tt(427,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeScript"])),(l()(),yr(-1,null,[" interfaces, or by simple classes. Surprisingly, we recommend using "])),(l()(),tt(430,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["classes"])),(l()(),yr(-1,null,[" here. Why? Classes are part of the JavaScript ES6 standard, and therefore they represent plain functions. On the other hand, since TypeScript interfaces are removed during the transpilation, Nest can't refer to them. This is important because features such as "])),(l()(),tt(433,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Pipes"])),(l()(),yr(-1,null,[" enable additional possibilities when they have access to the metatype of the variable. "])),(l()(),tt(436,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's create the "])),(l()(),tt(438,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[" class: "])),(l()(),tt(441,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(442,null,[" "," "])),fr(443,2),(l()(),tt(444,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(445,49152,[["createCatSchemaT",4]],0,Wh,[],null,null),(l()(),tt(446,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(447,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(448,null,["",""])),(l()(),tt(449,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It has only three basic properties. All of them are marked as "])),(l()(),tt(451,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["readonly"])),(l()(),yr(-1,null,[" because we should always try to make our functions as "])),(l()(),tt(454,0,null,null,1,"a",[["href","https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-pure-function-d1c076bec976"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["pure"])),(l()(),yr(-1,null,[" as possible. "])),(l()(),tt(457,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Thereafter we can use the newly created schema inside the "])),(l()(),tt(459,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[": "])),(l()(),tt(462,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(463,null,[" "," "])),fr(464,2),(l()(),tt(465,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(466,49152,[["exampleWithBodyT",4]],0,Wh,[],null,null),(l()(),tt(467,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(468,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(469,null,["",""])),(l()(),tt(470,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(471,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(472,null,["",""])),(l()(),tt(473,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Full resource sample"])),(l()(),tt(475,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is a example that makes use of a few available decorators to create a basic controller. The following controller exposes a couple of methods to access and manipulate internal data. "])),(l()(),tt(477,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(478,null,[" "," "])),fr(479,2),(l()(),tt(480,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(481,49152,[["fullSampleT",4]],0,Wh,[],null,null),(l()(),tt(482,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(483,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(484,null,["",""])),(l()(),tt(485,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(486,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(487,null,["",""])),(l()(),tt(488,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Handling errors"])),(l()(),tt(490,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There's a separate chapter about handling errors (i.e. working with exceptions) "])),(l()(),tt(492,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,493).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(493,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(496,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Getting up and running"])),(l()(),tt(498,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" With the above controller fully prepared, Nest still doesn't know that "])),(l()(),tt(500,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" exists and as a result won't create an instance of this class. "])),(l()(),tt(503,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Controllers always belong to the module, which is why we hold the "])),(l()(),tt(505,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["controllers"])),(l()(),yr(-1,null,[" array within the "])),(l()(),tt(508,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator. Since we don't have any other modules except the root "])),(l()(),tt(511,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[", we'll use that to introduce the "])),(l()(),tt(514,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[": "])),(l()(),tt(517,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(518,null,[" "," "])),fr(519,2),(l()(),tt(520,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(521,49152,[["appModuleT",4]],0,Wh,[],null,null),(l()(),tt(522,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(523,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(524,null,["",""])),(l()(),tt(525,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We attached the metadata to the module class, and Nest can now easily reflect which controllers have to be mounted. "])),(l()(),tt(527,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Library-specific approach"])),(l()(),tt(529,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" So far we've discussed the Nest standard way of manipulating responses. The second way of manipulating the response is to use a library-specific "])),(l()(),tt(531,0,null,null,1,"a",[["href","http://expressjs.com/en/api.html#res"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["response object"])),(l()(),yr(-1,null,[". In order to inject a particular response object, we need to use the "])),(l()(),tt(534,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Res()"])),(l()(),yr(-1,null,[" decorator. To show the differences, let's rewrite the "])),(l()(),tt(537,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" to the following: "])),(l()(),tt(540,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(541,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(542,49152,[["expressWayT",4]],0,Wh,[],null,null),(l()(),tt(543,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(544,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(545,null,["",""])),(l()(),tt(546,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(547,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(548,null,["",""])),(l()(),tt(549,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Though this approach works, it's much less clear in general. The first approach should always be preferred, but to make Nest "])),(l()(),tt(551,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["backwards compatible"])),(l()(),yr(-1,null,[" with previous versions, the above approach is still available. One other thing to note is the "])),(l()(),tt(554,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["response object"])),(l()(),yr(-1,null,[" in this approach allows for more flexibility - by allowing us to have full control of the response object (headers manipulation and so on). "]))],function(l,n){l(n,232,0,"/custom-decorators"),l(n,493,0,"/exception-filters")},function(l,n){var e=n.component,u=Ou(n,38,0,l(n,39,0,Et(n,0),"cats.controller",Et(n,41).isJsActive));l(n,38,0,u),l(n,44,0,e.catsController);var t=Ou(n,133,0,l(n,134,0,Et(n,0),"cats.controller",Et(n,136).isJsActive));l(n,133,0,t),l(n,137,0,Et(n,136).isJsActive),l(n,139,0,e.requestObject),l(n,140,0,!Et(n,136).isJsActive),l(n,142,0,e.requestObjectJs),l(n,231,0,Et(n,232).target,Et(n,232).href);var r=Ou(n,246,0,l(n,247,0,Et(n,0),"cats.controller",Et(n,249).isJsActive));l(n,246,0,r),l(n,252,0,e.postEndpoint),l(n,279,0,e.routeWildcards),l(n,327,0,e.statusCode),l(n,345,0,e.header),l(n,355,0,e.routeParameters),l(n,360,0,e.routeParameter);var o=Ou(n,387,0,l(n,388,0,Et(n,0),"cats.controller",Et(n,390).isJsActive));l(n,387,0,o),l(n,391,0,Et(n,390).isJsActive),l(n,393,0,e.asyncExample),l(n,394,0,!Et(n,390).isJsActive),l(n,396,0,e.asyncExampleJs);var a=Ou(n,403,0,l(n,404,0,Et(n,0),"cats.controller",Et(n,406).isJsActive));l(n,403,0,a),l(n,407,0,Et(n,406).isJsActive),l(n,409,0,e.observableExample),l(n,410,0,!Et(n,406).isJsActive),l(n,412,0,e.observableExampleJs);var i=Ou(n,442,0,l(n,443,0,Et(n,0),"create-cat.dto",Et(n,445).isJsActive));l(n,442,0,i),l(n,448,0,e.createCatSchema);var s=Ou(n,463,0,l(n,464,0,Et(n,0),"cats.controller",Et(n,466).isJsActive));l(n,463,0,s),l(n,467,0,Et(n,466).isJsActive),l(n,469,0,e.exampleWithBody),l(n,470,0,!Et(n,466).isJsActive),l(n,472,0,e.exampleWithBodyJs);var c=Ou(n,478,0,l(n,479,0,Et(n,0),"cats.controller",Et(n,481).isJsActive));l(n,478,0,c),l(n,482,0,Et(n,481).isJsActive),l(n,484,0,e.fullSample),l(n,485,0,!Et(n,481).isJsActive),l(n,487,0,e.fullSample),l(n,492,0,Et(n,493).target,Et(n,493).href);var p=Ou(n,518,0,l(n,519,0,Et(n,0),"app.module",Et(n,521).isJsActive));l(n,518,0,p),l(n,524,0,e.appModule),l(n,543,0,Et(n,542).isJsActive),l(n,545,0,e.expressWay),l(n,546,0,!Et(n,542).isJsActive),l(n,548,0,e.expressWayJs)})}function cf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-controllers",[],null,null,null,sf,af)),zt(1,8437760,null,0,of,[Pe,Gl],null,null)],null,null)}var pf=Ct("app-controllers",of,cf,{},{},[]),df=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"catsService",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { Cat } from './interfaces/cat.interface';\n\n@Injectable()\nexport class CatsService {\n  private readonly cats: Cat[] = [];\n\n  create(cat: Cat) {\n    this.cats.push(cat);\n  }\n\n  findAll(): Cat[] {\n    return this.cats;\n  }\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsServiceJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class CatsService {\n  constructor() {\n    this.cats = [];\n  }\n\n  create(cat) {\n    this.cats.push(cat);\n  }\n\n  findAll() {\n    return this.cats;\n  }\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsController",{get:function(){return"\nimport { Controller, Get, Post, Body } from '@nestjs/common';\nimport { CreateCatDto } from './dto/create-cat.dto';\nimport { CatsService } from './cats.service';\nimport { Cat } from './interfaces/cat.interface';\n\n@Controller('cats')\nexport class CatsController {\n  constructor(private readonly catsService: CatsService) {}\n\n  @Post()\n  async create(@Body() createCatDto: CreateCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll(): Promise<Cat[]> {\n    return this.catsService.findAll();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsControllerJs",{get:function(){return"\nimport { Controller, Get, Post, Body, Bind, Dependencies } from '@nestjs/common';\nimport { CatsService } from './cats.service';\n\n@Controller('cats')\n@Dependencies(CatsService)\nexport class CatsController {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n\n  @Post()\n  @Bind(Body())\n  async create(createCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll() {\n    return this.catsService.findAll();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"constructorSyntax",{get:function(){return"\nconstructor(private readonly catsService: CatsService) {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"appModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\nimport { CatsService } from './cats/cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class ApplicationModule {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"optional",{get:function(){return"\nimport { Injectable, Optional, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  constructor(\n    @Optional() @Inject('HTTP_OPTIONS') private readonly httpClient: T,\n  ) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"propertyInjection",{get:function(){return"\nimport { Injectable, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  @Inject('HTTP_OPTIONS')\n  private readonly httpClient: T;\n}"},enumerable:!0,configurable:!0}),n}(Kh),hf=Tu({encapsulation:2,styles:[],data:{}});function ff(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,223,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Providers"])),(l()(),tt(4,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Basically, almost everything may be considered as a provider \u2013 service, repository, factory, helper, and so on. All of them can "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,[" dependencies through "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor"])),(l()(),yr(-1,null,[", meaning, they can create various relationships with each other. But in fact, a provider is nothing else than just a simple class annotated with an "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(15,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,0,"img",[["src","/assets/Components_1.png"]],null,null,null,null,null)),(l()(),tt(17,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the previous chapter, we have built a simple "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[". Controllers shall handle HTTP requests and delegate more complex tasks to the "])),(l()(),tt(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["services"])),(l()(),yr(-1,null,[". The providers are plain JavaScript classes with an "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator on top of them. "])),(l()(),tt(28,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(29,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Since Nest enables the possibility to design and organize the dependencies in a more OO-way, we strongly recommend following the "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["SOLID"])),(l()(),yr(-1,null,[" principles. "])),(l()(),tt(35,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Services"])),(l()(),tt(37,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's start by creating a simple "])),(l()(),tt(39,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" provider. "])),(l()(),tt(42,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(43,null,[" "," "])),fr(44,2),(l()(),tt(45,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(46,49152,[["catsServiceT",4]],0,Wh,[],null,null),(l()(),tt(47,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(48,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(49,null,["",""])),(l()(),tt(50,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(51,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(52,null,["",""])),(l()(),tt(53,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(54,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" To create a service using CLI, simply execute "])),(l()(),tt(57,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["$ nest g service cats/cats"])),(l()(),yr(-1,null,[" command. "])),(l()(),tt(60,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here's a "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[", a basic class with one property and two methods. The only new trait is that it uses the "])),(l()(),tt(65,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator. The "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" attaches the metadata, thereby Nest knows that this class is a Nest provider. Notice that there is a "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Cat"])),(l()(),yr(-1,null,[" interface used above. We didn't mention it because the schema is exactly same as in the "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[" class which we have created in the previous chapter. "])),(l()(),tt(77,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Since we have the service class already done, let's use it inside the "])),(l()(),tt(79,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[": "])),(l()(),tt(82,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(83,null,[" "," "])),fr(84,2),(l()(),tt(85,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(86,49152,[["catsControllerT",4]],0,Wh,[],null,null),(l()(),tt(87,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(88,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(89,null,["",""])),(l()(),tt(90,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(91,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(92,null,["",""])),(l()(),tt(93,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(95,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" is injected through the class constructor. Don't be afraid of the "])),(l()(),tt(98,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["private readonly"])),(l()(),yr(-1,null,[" shortened syntax. It means that we've created and initialized the "])),(l()(),tt(101,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catsService"])),(l()(),yr(-1,null,[" member immedietely in the same location. "])),(l()(),tt(104,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dependency injection"])),(l()(),tt(106,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest is built around the strong design pattern commonly known as "])),(l()(),tt(108,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dependency injection"])),(l()(),yr(-1,null,[". We recommend to read a great article about this concept in the official "])),(l()(),tt(111,0,null,null,1,"a",[["href","https://angular.io/guide/dependency-injection"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Angular"])),(l()(),yr(-1,null,[" documentation. "])),(l()(),tt(114,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In Nest, thanks to the "])),(l()(),tt(116,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeScript"])),(l()(),yr(-1,null,[" capabilities, it's extremely easy to manage dependencies because they will be resolved just by type and afterward, passed to your controller's constructor: "])),(l()(),tt(119,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(120,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(121,null,["",""])),(l()(),tt(122,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom providers"])),(l()(),tt(124,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" An inversion of control container, that Nest makes use of to resolve relationships between providers, is far more powerful than described above. The "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator is only a tip of an iceberg, not strictly required to define providers. Instead, you can use plain values, classes, either asynchronous or synchronous factories. Look "])),(l()(),tt(129,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,130).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(130,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[" to find more examples. "])),(l()(),tt(133,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Optional providers"])),(l()(),tt(135,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Occasionally, you might face relations which do not necessarily have to be resolved. For instance, your class may depend on a "])),(l()(),tt(137,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["configuration object"])),(l()(),yr(-1,null,[", but if none was passed, the default values should be used. In such case, the relation becomes optional, because lack of the configuration provider wouldn't lead to errors. "])),(l()(),tt(140,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To ensure that provider isn't required, use "])),(l()(),tt(142,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Optional()"])),(l()(),yr(-1,null,[" decorator in the "])),(l()(),tt(145,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor"])),(l()(),yr(-1,null,[" signature. "])),(l()(),tt(148,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(149,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(150,null,["",""])),(l()(),tt(151,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Property-based injection"])),(l()(),tt(153,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In some very specific cases, a property-based injection might be useful. For instance, if your top-level class depends on either one or multiple providers, passing them all the way up by calling "])),(l()(),tt(155,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["super()"])),(l()(),yr(-1,null,[" in sub-classes from the constructor can be very annonying. Thus, in order to avoid it, you can use "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator on a property level. "])),(l()(),tt(161,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(162,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(163,null,["",""])),(l()(),tt(164,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(165,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" If your class doesn't extend any other provider, you should always prefer using "])),(l()(),tt(168,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor-based"])),(l()(),yr(-1,null,[" injection. "])),(l()(),tt(171,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Provider registration"])),(l()(),tt(173,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last thing is to tell the module that something called "])),(l()(),tt(175,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" truly exists. We do this by editing our module file - "])),(l()(),tt(178,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["app.module.ts"])),(l()(),yr(-1,null,[", and put the service into the "])),(l()(),tt(181,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["providers"])),(l()(),yr(-1,null,[" array of the "])),(l()(),tt(184,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(187,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(188,null,[" "," "])),fr(189,2),(l()(),tt(190,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(191,49152,[["appModuleT",4]],0,Wh,[],null,null),(l()(),tt(192,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(193,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(194,null,["",""])),(l()(),tt(195,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Thanks to that, Nest will be able to resolve the dependencies of the "])),(l()(),tt(197,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" class. This is how our directory structure looks right now: "])),(l()(),tt(200,0,null,null,24,"div",[["class","file-tree"]],null,null,null,null,null)),(l()(),tt(201,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["src"])),(l()(),tt(203,0,null,null,21,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(204,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),tt(206,0,null,null,14,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(207,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["dto"])),(l()(),tt(209,0,null,null,2,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(210,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["create-cat.dto.ts"])),(l()(),tt(212,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["interfaces"])),(l()(),tt(214,0,null,null,2,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(215,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cat.interface.ts"])),(l()(),tt(217,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.service.ts"])),(l()(),tt(219,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(221,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.module.ts"])),(l()(),tt(223,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"]))],function(l,n){l(n,130,0,"/fundamentals/dependency-injection")},function(l,n){var e=n.component,u=Ou(n,43,0,l(n,44,0,Et(n,0),"cats.service",Et(n,46).isJsActive));l(n,43,0,u),l(n,47,0,Et(n,46).isJsActive),l(n,49,0,e.catsService),l(n,50,0,!Et(n,46).isJsActive),l(n,52,0,e.catsServiceJs);var t=Ou(n,83,0,l(n,84,0,Et(n,0),"cats.controller",Et(n,46).isJsActive));l(n,83,0,t),l(n,87,0,Et(n,86).isJsActive),l(n,89,0,e.catsController),l(n,90,0,!Et(n,86).isJsActive),l(n,92,0,e.catsControllerJs),l(n,121,0,e.constructorSyntax),l(n,129,0,Et(n,130).target,Et(n,130).href),l(n,150,0,e.optional),l(n,163,0,e.propertyInjection);var r=Ou(n,188,0,l(n,189,0,Et(n,0),"app.module",Et(n,191).isJsActive));l(n,188,0,r),l(n,194,0,e.appModule)})}function mf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-components",[],null,null,null,ff,hf)),zt(1,8437760,null,0,df,[Pe,Gl],null,null)],null,null)}var gf=Ct("app-components",df,mf,{},{},[]),yf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"catsModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"appModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsModuleShared",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"singleScope",{get:function(){return"\nimport { Module, SingleScope } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@SingleScope()\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalScope",{get:function(){return"\nimport { Module, Global } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Global()\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsModuleDi",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {\n  constructor(private readonly catsService: CatsService) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsModuleDiJs",{get:function(){return"\nimport { Module, Dependencies } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\n@Dependencies(CatsService)\nexport class CatsModule {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reExportExamle",{get:function(){return"\n@Module({\n  imports: [CommonModule],\n  exports: [CommonModule],\n})\nexport class CoreModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dynamicModules",{get:function(){return"\nimport { Module, DynamicModule } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?): DynamicModule {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dynamicModulesJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?) {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"importDynamicModules",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [\n    DatabaseModule.forRoot([User]),\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exportDynamicModules",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [\n    DatabaseModule.forRoot([User]),\n  ],\n  exports: [DatabaseModule]\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),n}(Kh),bf=Tu({encapsulation:2,styles:[],data:{}});function vf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,313,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Modules"])),(l()(),tt(4,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A module is a class annotated with a "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator. The "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator provides metadata that "])),(l()(),tt(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Nest"])),(l()(),yr(-1,null,[" makes use of to organize the application structure. "])),(l()(),tt(15,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,0,"img",[["src","/assets/Modules_1.png"]],null,null,null,null,null)),(l()(),tt(17,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each application has at least one module, a "])),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["root module"])),(l()(),yr(-1,null,[". The root module is the place where Nest is starting to arrange the application tree. In fact, the root module could be the only module in your application, especially when the app is small. For large applications however, it doesn't make sense. In most cases, you'll have several modules, each with a closely related set of "])),(l()(),tt(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["capabilities"])),(l()(),yr(-1,null,[". "])),(l()(),tt(25,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator takes a single object whose properties describe the module: "])),(l()(),tt(30,0,null,null,28,"table",[],null,null,null,null,null)),(l()(),tt(31,0,null,null,27,"tbody",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(33,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["providers"])),(l()(),tt(36,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["the providers that will be instantiated by the Nest injector and may be shared at least across this module."])),(l()(),tt(38,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(39,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["controllers"])),(l()(),tt(42,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["the set of controllers which have to be created"])),(l()(),tt(44,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(45,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["imports"])),(l()(),tt(48,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["the list of imported modules that export the providers which are required in this module"])),(l()(),tt(50,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(51,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exports"])),(l()(),tt(54,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["the subset of "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["providers"])),(l()(),yr(-1,null,[" that are provided by this module and should be available in the other modules"])),(l()(),tt(59,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The module "])),(l()(),tt(61,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["encapsulates"])),(l()(),yr(-1,null,[" providers by default. It means that it's impossible to inject providers that are neither directly part of the current module nor they're exported from the imported modules. "])),(l()(),tt(64,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Feature modules"])),(l()(),tt(66,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" belong to the same application domain. We shall consider to move them to a feature module, being the "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(77,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(78,null,[" "," "])),fr(79,2),(l()(),tt(80,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(81,49152,[["catsModuleT",4]],0,Wh,[],null,null),(l()(),tt(82,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(83,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(84,null,["",""])),(l()(),tt(85,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(86,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" To create a module using CLI, simply execute "])),(l()(),tt(89,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["$ nest g module cats"])),(l()(),yr(-1,null,[" command. "])),(l()(),tt(92,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We defined the "])),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats.module.ts"])),(l()(),yr(-1,null,[" file and after that moved everything related to this module into the "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,[" directory. The last thing we need to do is import this module into the root module ("])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,["). "])),(l()(),tt(103,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(104,null,[" "," "])),fr(105,2),(l()(),tt(106,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(107,49152,[["appModuleT",4]],0,Wh,[],null,null),(l()(),tt(108,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(109,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(110,null,["",""])),(l()(),tt(111,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Thanks to that Nest knows that besides "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[", it's essential to register the "])),(l()(),tt(116,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[" as well. That's how our directory structure looks right now: "])),(l()(),tt(119,0,null,null,26,"div",[["class","file-tree"]],null,null,null,null,null)),(l()(),tt(120,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["src"])),(l()(),tt(122,0,null,null,23,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(123,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),tt(125,0,null,null,16,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(126,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["dto"])),(l()(),tt(128,0,null,null,2,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(129,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["create-cat.dto.ts"])),(l()(),tt(131,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["interfaces"])),(l()(),tt(133,0,null,null,2,"div",[["class","children"]],null,null,null,null,null)),(l()(),tt(134,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cat.interface.ts"])),(l()(),tt(136,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.service.ts"])),(l()(),tt(138,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(140,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.module.ts"])),(l()(),tt(142,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.module.ts"])),(l()(),tt(144,0,null,null,1,"div",[["class","item"]],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),tt(146,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Shared module"])),(l()(),tt(148,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In Nest, modules "])),(l()(),tt(150,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["are singletons"])),(l()(),yr(-1,null,[" by default, and thus you can share the "])),(l()(),tt(153,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["same instance"])),(l()(),yr(-1,null,[" of any provider between 2..* modules effortlessly. "])),(l()(),tt(156,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(157,0,null,null,0,"img",[["src","/assets/Shared_Module_1.png"]],null,null,null,null,null)),(l()(),tt(158,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Every module is a "])),(l()(),tt(160,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["shared module"])),(l()(),yr(-1,null,[" in fact. Once created it can be reused by any module. Let's imagine that we want to share the "])),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" instance between few other modules. In order to do that, we need to put the "])),(l()(),tt(166,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" into "])),(l()(),tt(169,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exports"])),(l()(),yr(-1,null,[" array as shown below: "])),(l()(),tt(172,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(173,null,[" "," "])),fr(174,2),(l()(),tt(175,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(176,49152,[["catsModuleSharedT",4]],0,Wh,[],null,null),(l()(),tt(177,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(178,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(179,null,["",""])),(l()(),tt(180,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now each module which would import the "])),(l()(),tt(182,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[" has an access to the "])),(l()(),tt(185,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" and will share the same instance with all of the modules that import this module as well. "])),(l()(),tt(188,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Modules re-exporting"])),(l()(),tt(190,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The modules can export their internal providers. Moreover, they can re-export modules imported by themselves. "])),(l()(),tt(192,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(193,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(194,49152,[["reExportExamleT",4]],0,Wh,[],null,null),(l()(),tt(195,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(196,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(197,null,["",""])),(l()(),tt(198,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dependency injection"])),(l()(),tt(200,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A module class can "])),(l()(),tt(202,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,[" providers as well (e.g. for configuration purposes): "])),(l()(),tt(205,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(206,null,[" "," "])),fr(207,2),(l()(),tt(208,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(209,49152,[["catsModuleDiT",4]],0,Wh,[],null,null),(l()(),tt(210,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(211,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(212,null,["",""])),(l()(),tt(213,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(214,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(215,null,["",""])),(l()(),tt(216,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" However, module classes cannot be injected by the providers due to "])),(l()(),tt(218,0,null,null,1,"a",[["href","/fundamentals/circular-dependency"]],null,null,null,null,null)),(l()(),yr(-1,null,["circular dependency "])),(l()(),yr(-1,null,[". "])),(l()(),tt(221,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Global modules"])),(l()(),tt(223,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If you have to import the same set of modules everywhere, it might be annoying. In "])),(l()(),tt(225,0,null,null,1,"a",[["href","https://angular.io"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Angular"])),(l()(),yr(-1,null,[", the "])),(l()(),tt(228,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["providers"])),(l()(),yr(-1,null,[" are registered in the global scope. Once defined, they're available everywhere. On the other hand, Nest encapsulates providers inside the module scope. You aren't able to use the module providers elsewhere without importing them. But sometimes, you may just want to provide a set of things which should be available always - out-of-the-box, for example: helpers, database connection, whatever. That's why you're able to make the module a "])),(l()(),tt(231,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["global"])),(l()(),yr(-1,null,[" one. "])),(l()(),tt(234,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(235,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(236,49152,[["globalScopeT",4]],0,Wh,[],null,null),(l()(),tt(237,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(238,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(239,null,["",""])),(l()(),tt(240,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(242,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Global()"])),(l()(),yr(-1,null,[" decorator makes the module global-scoped. Global modules shall be registered "])),(l()(),tt(245,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["only once "])),(l()(),yr(-1,null,[", in best case by the root or core module. Afterward, the "])),(l()(),tt(248,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" provider will be ubiquitous, although "])),(l()(),tt(251,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[" won't be imported. "])),(l()(),tt(254,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(255,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Making everything global is not a good decision. The global modules are available to reduce the amount of necessary boilerplate. The "])),(l()(),tt(258,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["imports"])),(l()(),yr(-1,null,[" array is still the best way to make the module API transparent. "])),(l()(),tt(261,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dynamic modules"])),(l()(),tt(263,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The Nest module system comes with a feature called "])),(l()(),tt(265,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["dynamic modules"])),(l()(),yr(-1,null,[". It enables you to create customizable modules without any effort. Let's have a look at the "])),(l()(),tt(268,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DatabaseModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(271,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(272,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(273,49152,[["dynamicModulesT",4]],0,Wh,[],null,null),(l()(),tt(274,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(275,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(276,null,["",""])),(l()(),tt(277,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(278,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(279,null,["",""])),(l()(),tt(280,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(281,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(284,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRoot()"])),(l()(),yr(-1,null,[" may return dynamic module either synchronously or asynchronously ("])),(l()(),tt(287,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,["). "])),(l()(),tt(290,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This module defines the "])),(l()(),tt(292,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" provider by default, but additionally - depending on the passed "])),(l()(),tt(295,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["options"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(298,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["entities"])),(l()(),yr(-1,null,[" - it exposes a collection of the providers, for example, repositories. In fact, the dynamic module "])),(l()(),tt(301,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["extends"])),(l()(),yr(-1,null,[" the base module metadata. This substantial feature is useful when you need to register providers dynamically. Then you could import the "])),(l()(),tt(304,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DatabaseModule"])),(l()(),yr(-1,null,[" in the following manner: "])),(l()(),tt(307,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(308,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(309,null,["",""])),(l()(),tt(310,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to export dynamic module, you can omit a function call part: "])),(l()(),tt(312,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(313,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(314,null,["",""]))],null,function(l,n){var e=n.component,u=Ou(n,78,0,l(n,79,0,Et(n,0),"cats/cats.module",Et(n,81).isJsActive));l(n,78,0,u),l(n,84,0,e.catsModule);var t=Ou(n,104,0,l(n,105,0,Et(n,0),"app.module",Et(n,107).isJsActive));l(n,104,0,t),l(n,110,0,e.appModule);var r=Ou(n,173,0,l(n,174,0,Et(n,0),"cats.module",Et(n,176).isJsActive));l(n,173,0,r),l(n,179,0,e.catsModuleShared),l(n,197,0,e.reExportExamle);var o=Ou(n,206,0,l(n,207,0,Et(n,0),"cats.module",Et(n,209).isJsActive));l(n,206,0,o),l(n,210,0,Et(n,209).isJsActive),l(n,212,0,e.catsModuleDi),l(n,213,0,!Et(n,209).isJsActive),l(n,215,0,e.catsModuleDiJs),l(n,239,0,e.globalScope),l(n,274,0,Et(n,273).isJsActive),l(n,276,0,e.dynamicModules),l(n,277,0,!Et(n,273).isJsActive),l(n,279,0,e.dynamicModulesJs),l(n,309,0,e.importDynamicModules),l(n,314,0,e.exportDynamicModules)})}function wf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-modules",[],null,null,null,vf,bf)),zt(1,8437760,null,0,yf,[Pe,Gl],null,null)],null,null)}var xf=Ct("app-modules",yf,wf,{},{},[]),Cf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"loggerMiddleware",{get:function(){return"\nimport { Injectable, NestMiddleware, MiddlewareFunction } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  resolve(...args: any[]): MiddlewareFunction {\n    return (req, res, next) => {\n      console.log('Request...');\n      next();\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loggerMiddlewareJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware {\n  resolve(...args) {\n    return (req, res, next) => {\n      console.log('Request...');\n      next();\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModule",{get:function(){return"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"routeInfo",{get:function(){return"\nimport { Module, NestModule, RequestMethod, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"routeInfoJs",{get:function(){return"\nimport { Module, RequestMethod } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"routeWildcards",{get:function(){return"\nforRoutes({ path: 'ab*cd', method: RequestMethod.ALL })"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleByControllers",{get:function(){return"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleByControllersJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleExclude",{get:function(){return"\nimport { Module, NestModule, RequestMethod, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .exclude(\n        { path: 'cats', method: RequestMethod.GET },\n        { path: 'cats', method: RequestMethod.POST },\n      )\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleExcludeJs",{get:function(){return"\nimport { Module, RequestMethod } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .exclude(\n        { path: 'cats', method: RequestMethod.GET },\n        { path: 'cats', method: RequestMethod.POST },\n      )\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleWithMethod",{get:function(){return"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .with('ApplicationModule')\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applicationModuleWithMethodJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .with('ApplicationModule')\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loggerMiddlewareWithArgs",{get:function(){return"\nimport { Injectable, NestMiddleware, MiddlewareFunction } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  resolve(name: string): MiddlewareFunction {\n    return (req, res, next) => {\n      console.log(`[${name}] Request...`); // [ApplicationModule] Request...\n      next();\n    };\n }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loggerMiddlewareWithArgsJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware {\n  resolve(name) {\n    return (req, res, next) => {\n      console.log(`[${name}] Request...`); // [ApplicationModule] Request...\n      next();\n    };\n }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defferedMiddleware",{get:function(){return"\nimport { Injectable, NestMiddleware, MiddlewareFunction } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  async resolve(name: string): Promise<MiddlewareFunction> {\n    await someAsyncJob();\n\n    return async (req, res, next) => {\n      await someAsyncJob();\n      console.log(`[${name}] Request...`); // [ApplicationModule] Request...\n      next();\n    };\n }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defferedMiddlewareJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware {\n  async resolve(name) {\n    await someAsyncJob();\n\n    return async (req, res, next) => {\n      await someAsyncJob();\n      console.log(`[${name}] Request...`); // [ApplicationModule] Request...\n      next();\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"functionalMiddleware",{get:function(){return"\nexport function logger(req, res, next) {\n  console.log(`Request...`);\n  next();\n};"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applyFunctionalMiddleware",{get:function(){return"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { logger } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(logger)\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applyFunctionalMiddlewareJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { logger } from './common/middlewares/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n    consumer\n      .apply(logger)\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applyMultipleMiddlewares",{get:function(){return"\nexport class ApplicationModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(cors(), helmet(), logger)\n      .forRoutes(CatsController);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"applyMultipleMiddlewaresJs",{get:function(){return"\n@Module({\n  imports: [CatsModule],\n})\nexport class ApplicationModule {\n  configure(consumer) {\n      consumer\n        .apply(cors(), helmet(), logger)\n        .forRoutes(CatsController);\n    }\n  }"},enumerable:!0,configurable:!0}),n}(Kh),kf=Tu({encapsulation:2,styles:[],data:{}});function jf(l){return wr(0,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,406,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Middleware"])),(l()(),tt(4,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The middleware is a function which is called "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["before"])),(l()(),yr(-1,null,[" the route handler. Middleware functions have access to the "])),(l()(),tt(9,0,null,null,1,"a",[["href","http://expressjs.com/en/4x/api.html#req"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(12,0,null,null,1,"a",[["href","http://expressjs.com/en/4x/api.html#res"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["response"])),(l()(),yr(-1,null,[" objects, and the "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["next"])),(l()(),yr(-1,null,[" middleware function in the application\u2019s request-response cycle. The "])),(l()(),tt(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["next"])),(l()(),yr(-1,null,[" middleware function is commonly denoted by a variable named "])),(l()(),tt(21,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["next"])),(l()(),yr(-1,null,[". "])),(l()(),tt(24,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(25,0,null,null,0,"img",[["src","/assets/Middlewares_1.png"]],null,null,null,null,null)),(l()(),tt(26,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The Nest middleware, by default, are equal to "])),(l()(),tt(28,0,null,null,1,"a",[["href","http://expressjs.com/en/guide/using-middleware.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["express"])),(l()(),yr(-1,null,[" middleware. Here's a great list of the middleware capabilities copied from the official express documentation: "])),(l()(),tt(31,0,null,null,15,"blockquote",[["class","external"]],null,null,null,null,null)),(l()(),yr(-1,null,[" Middleware functions can perform the following tasks: "])),(l()(),tt(33,0,null,null,13,"ul",[],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["execute any code."])),(l()(),tt(36,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["make changes to the request and the response objects."])),(l()(),tt(38,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["end the request-response cycle."])),(l()(),tt(40,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["call the next middleware function in the stack."])),(l()(),tt(42,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["if the current middleware function does not end the request-response cycle, it must call "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["next()"])),(l()(),yr(-1,null,[" to pass control to the next middleware function. Otherwise, the request will be left hanging."])),(l()(),tt(47,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The Nest middleware is either a function, or a class with an "])),(l()(),tt(49,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator. The class should implement the "])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestMiddleware"])),(l()(),yr(-1,null,[" interface, while function does not have any special requirements. Let's start from the "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerMiddleware"])),(l()(),yr(-1,null,[" example. "])),(l()(),tt(58,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(59,null,[" "," "])),fr(60,2),(l()(),tt(61,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(62,49152,[["loggerMiddlewareT",4]],0,Wh,[],null,null),(l()(),tt(63,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(64,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(65,null,["",""])),(l()(),tt(66,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(67,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(68,null,["",""])),(l()(),tt(69,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["resolve()"])),(l()(),yr(-1,null,[" method has to return a regular library-specific middleware "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["(req, res, next) => any"])),(l()(),yr(-1,null,[". "])),(l()(),tt(77,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dependency injection"])),(l()(),tt(79,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no exception when it comes to the middleware. Same as providers and controllers, they are able to "])),(l()(),tt(81,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject dependencies "])),(l()(),yr(-1,null,[" that belongs to the same module (through the "])),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor"])),(l()(),yr(-1,null,["). "])),(l()(),tt(87,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Applying middleware"])),(l()(),tt(89,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no place for middleware in the "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator. We have to set them up using the "])),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["configure()"])),(l()(),yr(-1,null,[" method of the module class. Modules that include middleware have to implement the "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestModule"])),(l()(),yr(-1,null,[" interface. Let's set up the "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerMiddleware"])),(l()(),yr(-1,null,[" at the "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[" level. "])),(l()(),tt(106,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(107,null,[" "," "])),fr(108,2),(l()(),tt(109,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(110,49152,[["applicationModuleT",4]],0,Wh,[],null,null),(l()(),tt(111,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(112,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(113,null,["",""])),(l()(),tt(114,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(115,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(116,null,["",""])),(l()(),tt(117,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the above example we have set up the "])),(l()(),tt(119,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerMiddleware"])),(l()(),yr(-1,null,[" for "])),(l()(),tt(122,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),yr(-1,null,[" route handlers that we have previously defined inside the "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[". Besides, we may restrict a middleware to the particular request method. "])),(l()(),tt(128,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(129,null,[" "," "])),fr(130,2),(l()(),tt(131,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(132,49152,[["routeInfoT",4]],0,Wh,[],null,null),(l()(),tt(133,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(134,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(135,null,["",""])),(l()(),tt(136,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(137,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(138,null,["",""])),(l()(),tt(139,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Route wildcards"])),(l()(),tt(141,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Pattern based routes are supported as well. For instance, the asterisk is used as a "])),(l()(),tt(143,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["wildcard"])),(l()(),yr(-1,null,[", and will match any combination of characters. "])),(l()(),tt(146,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(147,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(148,null,["",""])),(l()(),tt(149,0,null,null,28,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above route path will match "])),(l()(),tt(151,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["abcd"])),(l()(),yr(-1,null,[", "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ab_cd"])),(l()(),yr(-1,null,[", "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["abecd"])),(l()(),yr(-1,null,[", and so on. The characters "])),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["?"])),(l()(),yr(-1,null,[", "])),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["+"])),(l()(),yr(-1,null,[", "])),(l()(),tt(166,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["*"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(169,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["()"])),(l()(),yr(-1,null,[" are subsets of their regular expression counterparts. The hyphen ( "])),(l()(),tt(172,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["-"])),(l()(),yr(-1,null,[") and the dot ("])),(l()(),tt(175,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["."])),(l()(),yr(-1,null,[") are interpreted literally by string-based paths. "])),(l()(),tt(178,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Middleware consumer"])),(l()(),tt(180,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(182,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MiddlewareConsumer"])),(l()(),yr(-1,null,[" is a helper class. It provides several built-in methods to manage middleware. All of them can be simply "])),(l()(),tt(185,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["chained"])),(l()(),yr(-1,null,[". The "])),(l()(),tt(188,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRoutes()"])),(l()(),yr(-1,null,[" can take a single string, multiple strings, "])),(l()(),tt(191,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RouteInfo"])),(l()(),yr(-1,null,[" object, a controller class and even multiple controller classes. In most cases you'll probably just pass the "])),(l()(),tt(194,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["controllers"])),(l()(),yr(-1,null,[" and separate them by a comma. Below is an example with a single controller: "])),(l()(),tt(197,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(198,null,[" "," "])),fr(199,2),(l()(),tt(200,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(201,49152,[["applicationModuleByControllersT",4]],0,Wh,[],null,null),(l()(),tt(202,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(203,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(204,null,["",""])),(l()(),tt(205,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(206,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(207,null,["",""])),(l()(),tt(208,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(209,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(212,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["apply()"])),(l()(),yr(-1,null,[" method may either take a single middleware, or an "])),(l()(),tt(215,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["array of middleware"])),(l()(),yr(-1,null,[". "])),(l()(),tt(218,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Whilst class is used, quite often we might want to "])),(l()(),tt(220,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["exclude"])),(l()(),yr(-1,null,[" certain routes. That is very intuitive due to the "])),(l()(),tt(223,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exclude()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(226,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(227,null,[" "," "])),fr(228,2),(l()(),tt(229,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(230,49152,[["applicationModuleExcludeT",4]],0,Wh,[],null,null),(l()(),tt(231,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(232,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(233,null,["",""])),(l()(),tt(234,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(235,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(236,null,["",""])),(l()(),tt(237,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Consequently, "])),(l()(),tt(239,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerMiddleware"])),(l()(),yr(-1,null,[" will be bounded to all routes defined inside "])),(l()(),tt(242,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" except these two passed to the "])),(l()(),tt(245,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exclude()"])),(l()(),yr(-1,null,[" function. Please note that "])),(l()(),tt(248,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exclude()"])),(l()(),yr(-1,null,[" method "])),(l()(),tt(251,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["won't work "])),(l()(),yr(-1,null,[" with your functional middleware. In addition, this function doesn't exclude paths from more generic routes (e.g. wildcards). In such case, you should rather put your paths-restriction logic directly to the middleware and, for example, compare a request's URL. "])),(l()(),tt(254,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Configurable middleware"])),(l()(),tt(256,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Sometimes the behaviour of the middleware depends on the custom values e.g. an array of user roles, options object, and so on. We may apply additional arguments to the "])),(l()(),tt(258,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["resolve()"])),(l()(),yr(-1,null,[" using the "])),(l()(),tt(261,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["with()"])),(l()(),yr(-1,null,[" method. See an example below: "])),(l()(),tt(264,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(265,null,[" "," "])),fr(266,2),(l()(),tt(267,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(268,49152,[["applicationModuleWithMethodT",4]],0,Wh,[],null,null),(l()(),tt(269,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(270,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(271,null,["",""])),(l()(),tt(272,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(273,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(274,null,["",""])),(l()(),tt(275,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We have passed a plain string - "])),(l()(),tt(277,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(280,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["with()"])),(l()(),yr(-1,null,[" method. Thereafter, we have to adjust the "])),(l()(),tt(283,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["resolve()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(286,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerMiddleware"])),(l()(),yr(-1,null,[". "])),(l()(),tt(289,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(290,null,[" "," "])),fr(291,2),(l()(),tt(292,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(293,49152,[["loggerMiddlewareWithArgsT",4]],0,Wh,[],null,null),(l()(),tt(294,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(295,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(296,null,["",""])),(l()(),tt(297,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(298,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(299,null,["",""])),(l()(),tt(300,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In this case, the value of the "])),(l()(),tt(302,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["name"])),(l()(),yr(-1,null,[" property will be "])),(l()(),tt(305,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["'ApplicationModule'"])),(l()(),yr(-1,null,[". "])),(l()(),tt(308,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Asynchronous middleware"])),(l()(),tt(310,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are no contraindications that would prevent us from returning the "])),(l()(),tt(312,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" function within the "])),(l()(),tt(315,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["resolve()"])),(l()(),yr(-1,null,[" method. Also, it's possible to make the "])),(l()(),tt(318,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["resolve()"])),(l()(),yr(-1,null,[" method "])),(l()(),tt(321,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" as well. This common pattern is called "])),(l()(),tt(324,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["deffered middleware"])),(l()(),yr(-1,null,[". "])),(l()(),tt(327,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(328,null,[" "," "])),fr(329,2),(l()(),tt(330,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(331,49152,[["defferedMiddlewareT",4]],0,Wh,[],null,null),(l()(),tt(332,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(333,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(334,null,["",""])),(l()(),tt(335,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(336,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(337,null,["",""])),(l()(),tt(338,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Functional middleware"])),(l()(),tt(340,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(342,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerMiddleware"])),(l()(),yr(-1,null,[" is quite short. It has no members, no additional methods, no dependencies. Why can't we just use a simple function? It's a good question, cause in fact - we can. This type of the middleware is called "])),(l()(),tt(345,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["functional middleware "])),(l()(),yr(-1,null,[". Let's transform the logger into a function. "])),(l()(),tt(348,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(349,null,[" "," "])),fr(350,2),(l()(),tt(351,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(352,49152,[["functionalMiddlewareT",4]],0,Wh,[],null,null),(l()(),tt(353,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(354,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(355,null,["",""])),(l()(),tt(356,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And use it within the "])),(l()(),tt(358,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(361,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(362,null,[" "," "])),fr(363,2),(l()(),tt(364,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(365,49152,[["applyFunctionalMiddlewareT",4]],0,Wh,[],null,null),(l()(),tt(366,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(367,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(368,null,["",""])),(l()(),tt(369,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(370,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(371,null,["",""])),(l()(),tt(372,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(373,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Let's consider using "])),(l()(),tt(376,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["functional middleware"])),(l()(),yr(-1,null,[" every time when your middleware doesn't need any dependencies. "])),(l()(),tt(379,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple middleware"])),(l()(),tt(381,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As mentioned before, in order to bind multiple middleware that are executed sequentially, we can separate them by a comma inside the "])),(l()(),tt(383,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["apply()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(386,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(387,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(388,49152,[["applyMultipleMiddlewaresT",4]],0,Wh,[],null,null),(l()(),tt(389,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(390,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(391,null,["",""])),(l()(),tt(392,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(393,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(394,null,["",""])),(l()(),tt(395,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Global middleware"])),(l()(),tt(397,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to tie a middleware to each registered route at once, we can take advantage of "])),(l()(),tt(399,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["use()"])),(l()(),yr(-1,null,[" method that is supplied by the "])),(l()(),tt(402,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestApplication"])),(l()(),yr(-1,null,[" instance: "])),(l()(),tt(405,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(406,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\nconst app = await NestFactory.create(ApplicationModule);\napp.use(logger);\nawait app.listen(3000);"]))],null,function(l,n){var e=n.component,u=Ou(n,59,0,l(n,60,0,Et(n,0),"logger.middleware",Et(n,62).isJsActive));l(n,59,0,u),l(n,63,0,Et(n,62).isJsActive),l(n,65,0,e.loggerMiddleware),l(n,66,0,!Et(n,62).isJsActive),l(n,68,0,e.loggerMiddlewareJs);var t=Ou(n,107,0,l(n,108,0,Et(n,0),"app.module",Et(n,110).isJsActive));l(n,107,0,t),l(n,111,0,Et(n,110).isJsActive),l(n,113,0,e.applicationModule),l(n,114,0,!Et(n,110).isJsActive),l(n,116,0,e.applicationModuleJs);var r=Ou(n,129,0,l(n,130,0,Et(n,0),"app.module",Et(n,132).isJsActive));l(n,129,0,r),l(n,133,0,Et(n,132).isJsActive),l(n,135,0,e.routeInfo),l(n,136,0,!Et(n,132).isJsActive),l(n,138,0,e.routeInfoJs),l(n,148,0,e.routeWildcards);var o=Ou(n,198,0,l(n,199,0,Et(n,0),"app.module",Et(n,201).isJsActive));l(n,198,0,o),l(n,202,0,Et(n,201).isJsActive),l(n,204,0,e.applicationModuleByControllers),l(n,205,0,!Et(n,201).isJsActive),l(n,207,0,e.applicationModuleByControllersJs);var a=Ou(n,227,0,l(n,228,0,Et(n,0),"app.module",Et(n,230).isJsActive));l(n,227,0,a),l(n,231,0,Et(n,230).isJsActive),l(n,233,0,e.applicationModuleExclude),l(n,234,0,!Et(n,230).isJsActive),l(n,236,0,e.applicationModuleExcludeJs);var i=Ou(n,265,0,l(n,266,0,Et(n,0),"app.module",Et(n,268).isJsActive));l(n,265,0,i),l(n,269,0,Et(n,268).isJsActive),l(n,271,0,e.applicationModuleWithMethod),l(n,272,0,!Et(n,268).isJsActive),l(n,274,0,e.applicationModuleWithMethodJs);var s=Ou(n,290,0,l(n,291,0,Et(n,0),"logger.middleware",Et(n,293).isJsActive));l(n,290,0,s),l(n,294,0,Et(n,293).isJsActive),l(n,296,0,e.loggerMiddlewareWithArgs),l(n,297,0,!Et(n,293).isJsActive),l(n,299,0,e.loggerMiddlewareWithArgsJs);var c=Ou(n,328,0,l(n,329,0,Et(n,0),"logger.middleware",Et(n,331).isJsActive));l(n,328,0,c),l(n,332,0,Et(n,331).isJsActive),l(n,334,0,e.defferedMiddleware),l(n,335,0,!Et(n,331).isJsActive),l(n,337,0,e.defferedMiddlewareJs);var p=Ou(n,349,0,l(n,350,0,Et(n,0),"logger.middleware",Et(n,352).isJsActive));l(n,349,0,p),l(n,355,0,e.functionalMiddleware);var d=Ou(n,362,0,l(n,363,0,Et(n,0),"app.module",Et(n,365).isJsActive));l(n,362,0,d),l(n,366,0,Et(n,365).isJsActive),l(n,368,0,e.applyFunctionalMiddleware),l(n,369,0,!Et(n,365).isJsActive),l(n,371,0,e.applyFunctionalMiddlewareJs),l(n,389,0,Et(n,388).isJsActive),l(n,391,0,e.applyMultipleMiddlewares),l(n,392,0,!Et(n,388).isJsActive),l(n,394,0,e.applyMultipleMiddlewaresJs)})}function Of(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-middlewares",[],null,null,null,jf,kf)),zt(1,8437760,null,0,Cf,[Pe,Gl],null,null)],null,null)}var Sf=Ct("app-middlewares",Cf,Of,{},{},[]),Pf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"validationPipe",{get:function(){return"\nimport { PipeTransform, Injectable, ArgumentMetadata } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform {\n  transform(value: any, metadata: ArgumentMetadata) {\n    return value;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validationPipeJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe {\n  transform(value, metadata) {\n    return value;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"joiPipe",{get:function(){return"\nimport * as Joi from 'joi';\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class JoiValidationPipe implements PipeTransform {\n  constructor(private readonly schema) {}\n\n  transform(value: any, metadata: ArgumentMetadata) {\n    const { error } = Joi.validate(value, this.schema);\n    if (error) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"joiPipeJs",{get:function(){return"\nimport * as Joi from 'joi';\nimport { Injectable, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class JoiValidationPipe {\n  constructor(schema) {\n    this.schema = schema;\n  }\n\n  transform(value, metadata) {\n    const { error } = Joi.validate(value, this.schema);\n    if (error) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useJoiPipe",{get:function(){return"\n@Post()\n@UsePipes(new JoiValidationPipe(createCatSchema))\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useJoiPipeJs",{get:function(){return"\n@Post()\n@Bind(Body())\n@UsePipes(new JoiValidationPipe(createCatSchema))\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"argumentMetadata",{get:function(){return"\nexport interface ArgumentMetadata {\n  readonly type: 'body' | 'query' | 'param' | 'custom';\n  readonly metatype?: new (...args) => any;\n  readonly data?: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatsController",{get:function(){return"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatDto",{get:function(){return"\nexport class CreateCatDto {\n  readonly name: string;\n  readonly age: number;\n  readonly breed: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatDtoValidation",{get:function(){return"\nimport { IsString, IsInt } from 'class-validator';\n\nexport class CreateCatDto {\n  @IsString()\n  readonly name: string;\n\n  @IsInt()\n  readonly age: number;\n\n  @IsString()\n  readonly breed: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullValidationPipe",{get:function(){return"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { validate } from 'class-validator';\nimport { plainToClass } from 'class-transformer';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform<any> {\n  async transform(value, { metatype }: ArgumentMetadata) {\n    if (!metatype || !this.toValidate(metatype)) {\n      return value;\n    }\n    const object = plainToClass(metatype, value);\n    const errors = await validate(object);\n    if (errors.length > 0) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n\n  private toValidate(metatype): boolean {\n    const types = [String, Boolean, Number, Array, Object];\n    return !types.find((type) => metatype === type);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatsControllerParamPipe",{get:function(){return"\n@Post()\nasync create(@Body(new ValidationPipe()) createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatsControllerMethodPipe",{get:function(){return"\n@Post()\n@UsePipes(new ValidationPipe())\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalScopedPipeModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { APP_PIPE } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_PIPE,\n      useClass: CustomGlobalPipe,\n    },\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatsControllerMethodPipeClass",{get:function(){return"\n@Post()\n@UsePipes(ValidationPipe)\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalPipe",{get:function(){return"\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  app.useGlobalPipes(new ValidationPipe());\n  await app.listen(3000);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parseIntPipe",{get:function(){return"\nimport { PipeTransform, Injectable, ArgumentMetadata, HttpStatus, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe implements PipeTransform<string, number> {\n  transform(value: string, metadata: ArgumentMetadata): number {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parseIntPipeJs",{get:function(){return"\nimport { Injectable, BadRequestException} from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe {\n  transform(value, metadata) {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bindParam",{get:function(){return"\n@Get(':id')\nasync findOne(@Param('id', new ParseIntPipe()) id) {\n  return await this.catsService.findOne(id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bindParamJs",{get:function(){return"\n@Get(':id')\n@Bind(Param('id', new ParseIntPipe()))\nasync findOne(id) {\n  return await this.catsService.findOne(id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userBindParam",{get:function(){return"\n@Get(':id')\nfindOne(@Param('id', UserByIdPipe) userEntity: UserEntity) {\n  return userEntity;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userBindParamJs",{get:function(){return"\n@Get(':id')\n@Bind(Param('id', UserByIdPipe))\nfindOne(userEntity) {\n  return userEntity;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bindBodyParam",{get:function(){return"\n@Post()\nasync create(@Body(new CustomPipe()) createCatDto: CreateCatDto) {\n  await this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bindBodyParamJs",{get:function(){return"\n@Post()\n@Bind(Body(new CustomPipe()))\nasync create(createCatDto) {\n  await this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatsControllerParamPipeTransformFalse",{get:function(){return"\n@Post()\n@UsePipes(new ValidationPipe({ transform: true }))\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"constructorCode",{get:function(){return"\nexport interface ValidationPipeOptions extends ValidatorOptions {\n  transform?: boolean;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getValidationPipe",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst validationPipe = app\n  .select(SharedModule)\n  .get(ValidationPipe);\n\napp.useGlobalPipes(validationPipe);\n"},enumerable:!0,configurable:!0}),n}(Kh),Tf=Tu({encapsulation:2,styles:[],data:{}});function Af(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,624,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Pipes"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A pipe is a class annotated with the "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator. The pipe should implement the "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PipeTransform"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(12,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,"img",[["src","/assets/Pipe_1.png"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A pipe "])),(l()(),tt(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["transforms"])),(l()(),yr(-1,null,[" the input data to the desired output. Also, it could take care of the "])),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["validation"])),(l()(),yr(-1,null,[", since it's possible to throw an exception when the data is incorrect. "])),(l()(),tt(22,0,null,null,7,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The pipe runs inside the exceptions zone. This means that when exceptions are thrown they are handled by the core exceptions handler and "])),(l()(),tt(26,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,27).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(27,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["exceptions filters"])),(l()(),yr(-1,null,[" that are applied to the current context. "])),(l()(),tt(30,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Built-in pipes"])),(l()(),tt(32,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest comes with two pipes available right out-of-the-box, "])),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ParseIntPipe"])),(l()(),yr(-1,null,[". They're exported from the "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. In order to better understand how do they work, we're gonna build them from scratch. "])),(l()(),tt(43,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["What does it look like?"])),(l()(),tt(45,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's start with the "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[". In the beginning, it only takes a value and immediately returns the same value, behaving like an identity function. "])),(l()(),tt(50,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(51,null,[" "," "])),fr(52,2),(l()(),tt(53,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(54,49152,[["validationPipeT",4]],0,Wh,[],null,null),(l()(),tt(55,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(56,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(57,null,["",""])),(l()(),tt(58,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(59,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(60,null,["",""])),(l()(),tt(61,0,null,null,18,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(62,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(65,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PipeTransform<T, R>"])),(l()(),yr(-1,null,[" is a generic interface in which "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["T"])),(l()(),yr(-1,null,[" indicates a type of the input "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["value"])),(l()(),yr(-1,null,[", while "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["R"])),(l()(),yr(-1,null,[" the return type of the "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(80,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Every pipe has to provide the "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform()"])),(l()(),yr(-1,null,[" method. This method takes two arguments: "])),(l()(),tt(85,0,null,null,6,"ul",[],null,null,null,null,null)),(l()(),tt(86,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["value"])),(l()(),tt(89,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["metadata"])),(l()(),tt(92,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["value"])),(l()(),yr(-1,null,[" is the currently processed parameter, while "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["metadata"])),(l()(),yr(-1,null,[" is its metadata. The metadata object holds a few properties: "])),(l()(),tt(100,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(101,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(102,null,["",""])),(l()(),tt(103,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" These properties describe the input parameter. "])),(l()(),tt(105,0,null,null,44,"table",[],null,null,null,null,null)),(l()(),tt(106,0,null,null,43,"tbody",[],null,null,null,null,null)),(l()(),tt(107,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),tt(108,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(109,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["type"])),(l()(),tt(111,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Tells us whether the property is a body "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body()"])),(l()(),yr(-1,null,[", query "])),(l()(),tt(116,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query()"])),(l()(),yr(-1,null,[", param "])),(l()(),tt(119,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Param()"])),(l()(),yr(-1,null,[", or a custom parameter (read more "])),(l()(),tt(122,0,null,null,2,"a",[["routerLink","/custom-decorators"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,123).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(123,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[")."])),(l()(),tt(126,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),tt(127,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(128,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["metatype"])),(l()(),tt(130,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The metatype of the property, for example, "])),(l()(),tt(132,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["String"])),(l()(),yr(-1,null,[". It's "])),(l()(),tt(135,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["undefined"])),(l()(),yr(-1,null,[" either if you omit the type declaration in the function signature, or you use a vanilla JavaScript. "])),(l()(),tt(138,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),tt(139,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(140,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),tt(142,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["The string passed to the decorator, for example "])),(l()(),tt(144,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body('string')"])),(l()(),yr(-1,null,[". It's "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["undefined"])),(l()(),yr(-1,null,[" if you leave the brackets empty."])),(l()(),tt(150,0,null,null,9,"blockquote",[],null,null,null,null,null)),(l()(),tt(151,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" TypeScript interfaces disappear during the transpilation. Hence, if you use an interface instead of a class, the "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["metatype"])),(l()(),yr(-1,null,[" value will be equal to "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Object"])),(l()(),yr(-1,null,[". "])),(l()(),tt(160,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["What's the point?"])),(l()(),tt(162,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's focus on the "])),(l()(),tt(164,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(167,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" for a while. "])),(l()(),tt(170,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(172,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(173,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(174,null,["",""])),(l()(),tt(175,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There's a "])),(l()(),tt(177,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[" body parameter: "])),(l()(),tt(180,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["create-cat.dto.ts"])),(l()(),tt(182,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(183,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(184,null,["",""])),(l()(),tt(185,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This object always has to be correct, and thus we have to validate these three members. We could do it inside the route handler method, but we'd break the "])),(l()(),tt(187,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["single responsibility rule"])),(l()(),yr(-1,null,[" (SRP). The second idea is to create a "])),(l()(),tt(190,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["validator class"])),(l()(),yr(-1,null,[" and delegate the task there, but we'll have to use this validator every time at the beginning of each method. So what about the validation middleware? It's a good idea, but it's impossible to create a "])),(l()(),tt(193,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["generic middleware"])),(l()(),yr(-1,null,[" which could be used across the whole application. "])),(l()(),tt(196,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" That's the first use-case, when you should consider to use a "])),(l()(),tt(198,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Pipe"])),(l()(),yr(-1,null,[". "])),(l()(),tt(201,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Object schema validation"])),(l()(),tt(203,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" One of the frequently encountered approaches is to use a "])),(l()(),tt(205,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["schema-based"])),(l()(),yr(-1,null,[" validation. The "])),(l()(),tt(208,0,null,null,1,"a",[["href","https://github.com/hapijs/joi"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Joi"])),(l()(),yr(-1,null,[" library is a tool that allows you creating schemas in a pretty straightforward way with a readable API. In order to create a pipe that makes use of object schemas, we need to create a simple class that takes a schema as a "])),(l()(),tt(211,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor"])),(l()(),yr(-1,null,[" argument. "])),(l()(),tt(214,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(215,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(216,49152,[["joiPipeT",4]],0,Wh,[],null,null),(l()(),tt(217,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(218,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(219,null,["",""])),(l()(),tt(220,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(221,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(222,null,["",""])),(l()(),tt(223,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding pipes"])),(l()(),tt(225,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The pipe tying is extremely simple - we need to use "])),(l()(),tt(227,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UsePipes()"])),(l()(),yr(-1,null,[" decorator and create a pipe instance with the valid Joi schema. "])),(l()(),tt(230,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(231,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(232,49152,[["useJoiPipeT",4]],0,Wh,[],null,null),(l()(),tt(233,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(234,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(235,null,["",""])),(l()(),tt(236,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(237,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(238,null,["",""])),(l()(),tt(239,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Class validator"])),(l()(),tt(241,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),yr(-1,null,["This section applies only to TypeScript."])),(l()(),tt(243,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest works well with the "])),(l()(),tt(245,0,null,null,1,"a",[["href","https://github.com/pleerock/class-validator"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[". This amazing library allows you to use decorator-based validation. Decorator based validation is really powerful with the "])),(l()(),tt(248,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["pipe"])),(l()(),yr(-1,null,[" capabilities since we have access to the "])),(l()(),tt(251,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["metatype"])),(l()(),yr(-1,null,[" of the processed property. However, before we start, we need to install required packages: "])),(l()(),tt(254,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(255,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save class-validator class-transformer"])),(l()(),tt(257,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the libraries are installed, we can add a few decorators to the "])),(l()(),tt(259,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(262,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["create-cat.dto.ts"])),(l()(),tt(264,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(265,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(266,null,["",""])),(l()(),tt(267,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When it's done, we can create a "])),(l()(),tt(269,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(272,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["validation.pipe.ts"])),(l()(),tt(274,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(275,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(276,null,["",""])),(l()(),tt(277,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(278,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" We have used the "])),(l()(),tt(281,0,null,null,1,"a",[["href","https://github.com/pleerock/class-transformer"]],null,null,null,null,null)),(l()(),yr(-1,null,["class-transformer"])),(l()(),yr(-1,null,[" library. It's made by the same author as the "])),(l()(),tt(284,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[" library, and as a result, they play very well together. "])),(l()(),tt(287,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's go through this code. Firstly, note that the "])),(l()(),tt(289,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform()"])),(l()(),yr(-1,null,[" function is "])),(l()(),tt(292,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[". It's possible because Nest supports both synchronous and "])),(l()(),tt(295,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[" pipes. Also, there's a helper function - "])),(l()(),tt(298,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["toValidate()"])),(l()(),yr(-1,null,[". It's responsible for excluding the native JavaScript types from the validation process due to performance reasons. The last worth mentioning part is that we have to return the same value. This pipe is a validation specific pipe, thus we need to return the exact same property to avoid "])),(l()(),tt(301,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["overriding"])),(l()(),yr(-1,null,[" (as noted earlier, pipe transforms input to the desired output). "])),(l()(),tt(304,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to set up the "])),(l()(),tt(306,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[". Pipes, same as "])),(l()(),tt(309,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,310).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(310,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["exception filters"])),(l()(),yr(-1,null,[" can be method-scoped, controller-scoped, and global-scoped. Additionally, a pipe can be param-scoped. We can directly tie the pipe instance to the route param decorator, for example, to "])),(l()(),tt(313,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body()"])),(l()(),yr(-1,null,[" decorator. Let's have a look at the below example: "])),(l()(),tt(316,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(318,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(319,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(320,null,["",""])),(l()(),tt(321,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The param-scoped pipes are useful when the validation logic concerns only one, specified parameter. In order to set up a pipe at a method level, you'll need the "])),(l()(),tt(323,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsePipes()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(326,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(328,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(329,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(330,null,["",""])),(l()(),tt(331,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(332,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(335,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UsePipes()"])),(l()(),yr(-1,null,[" decorator is imported from the "])),(l()(),tt(338,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(341,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The instance of "])),(l()(),tt(343,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" has been created immedietely in-place. Another available way is to pass the class (not instance), leaving framework the instantiation responsibility and enabling "])),(l()(),tt(346,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["dependency injection"])),(l()(),yr(-1,null,[". "])),(l()(),tt(349,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(351,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(352,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(353,null,["",""])),(l()(),tt(354,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Since the "])),(l()(),tt(356,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" was created to be as generic as possible, we're gonna set it up as a "])),(l()(),tt(359,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["global-scoped"])),(l()(),yr(-1,null,[" pipe, for every route handler across the entire application. "])),(l()(),tt(362,0,null,null,3,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,[" main.ts "])),(l()(),tt(364,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(365,49152,[["globalPipeT",4]],0,Wh,[],null,null),(l()(),tt(366,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(367,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(368,null,["",""])),(l()(),tt(369,0,null,null,6,"blockquote",[],null,null,null,null,null)),(l()(),tt(370,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(373,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useGlobalPipes()"])),(l()(),yr(-1,null,[" method doesn't set up pipes for gateways and micro services. "])),(l()(),tt(376,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The global pipes are used across the whole application, for every controller and every route handler. In terms of dependency injection, global pipes registered from the outside of any module (as in the previous example above) cannot inject dependencies since they don't belong to any module. In order to solve this issue, you can set up a pipe "])),(l()(),tt(378,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["directly from any module"])),(l()(),yr(-1,null,[" using following construction: "])),(l()(),tt(381,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(382,null,[" "," "])),fr(383,2),(l()(),tt(384,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(385,49152,[["globalScopedPipeModuleT",4]],0,Wh,[],null,null),(l()(),tt(386,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(387,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(388,null,["",""])),(l()(),tt(389,0,null,null,14,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(390,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The alternative option is to use an "])),(l()(),tt(393,0,null,null,2,"a",[["routerLink","/execution-context"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,394).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(394,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[" feature. Also, "])),(l()(),tt(397,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" is not the only way of dealing with custom providers registration. Learn more "])),(l()(),tt(400,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,401).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(401,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(404,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Transformer pipe"])),(l()(),tt(406,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Validation isn't the sole use case. At the beginning of this chapter, we have mentioned that a pipe can also "])),(l()(),tt(408,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform"])),(l()(),yr(-1,null,[" the input data to the desired output. It's true because the value returned from the "])),(l()(),tt(411,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform"])),(l()(),yr(-1,null,[" function completely overrides the previous value of the argument. Sometimes the data passed from the client needs to undergo some changes. Also, some parts could be missed, therefore we must apply the default values. The "])),(l()(),tt(414,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["transformer pipes"])),(l()(),yr(-1,null,[" fill the gap between the request of the client and the request handler. "])),(l()(),tt(417,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(418,null,[" "," "])),fr(419,2),(l()(),tt(420,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(421,49152,[["parseIntPipeT",4]],0,Wh,[],null,null),(l()(),tt(422,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(423,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(424,null,["",""])),(l()(),tt(425,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(426,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(427,null,["",""])),(l()(),tt(428,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here's a "])),(l()(),tt(430,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ParseIntPipe"])),(l()(),yr(-1,null,[" which is responsible for parsing a string into an integer value. We can simply tie a pipe to the selected param: "])),(l()(),tt(433,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(434,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(435,49152,[["bindParamT",4]],0,Wh,[],null,null),(l()(),tt(436,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(437,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(438,null,["",""])),(l()(),tt(439,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(440,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(441,null,["",""])),(l()(),tt(442,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Thanks to the above construction, "])),(l()(),tt(444,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ParseIntPipe"])),(l()(),yr(-1,null,[" will be executed before request even touches the corresponding handler. "])),(l()(),tt(447,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Another useful case would be to select an "])),(l()(),tt(449,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["existing user"])),(l()(),yr(-1,null,[" entity from the database by id: "])),(l()(),tt(452,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(453,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(454,49152,[["userBindParamT",4]],0,Wh,[],null,null),(l()(),tt(455,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(456,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(457,null,["",""])),(l()(),tt(458,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(459,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(460,null,["",""])),(l()(),tt(461,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["A built-in ValidationPipe"])),(l()(),tt(463,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Fortunately, you don't have to build those pipes on your own since the "])),(l()(),tt(465,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(468,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ParseIntPipe"])),(l()(),yr(-1,null,[" are built-in pipes (keep in mind that "])),(l()(),tt(471,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" requires both "])),(l()(),tt(474,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(477,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-transformer"])),(l()(),yr(-1,null,[" packages installed). "])),(l()(),tt(480,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The built-in "])),(l()(),tt(482,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" offers more options than that one described in this chapter, which has been kept basic for the sake of simplicity and to reduce the learning curve. If you take a look at the "])),(l()(),tt(485,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createCatDto"])),(l()(),yr(-1,null,[" in your controller function, you will notice that it isn't an actual "])),(l()(),tt(488,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[" instance. That is because this pipe only validates the payload, without transforming it into the expected type. However, if you want the pipe to mutate the payload, you can configure it by passing appropriate options: "])),(l()(),tt(491,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.controller.ts"])),(l()(),tt(493,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(494,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(495,null,["",""])),(l()(),tt(496,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Because this pipe is based on the "])),(l()(),tt(498,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(501,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-transformer"])),(l()(),yr(-1,null,[" libraries, it is possible to get more of it. Have a look at the constructor optional options. "])),(l()(),tt(504,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(505,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(506,null,["",""])),(l()(),tt(507,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is a "])),(l()(),tt(509,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform"])),(l()(),yr(-1,null,[" attribute and all "])),(l()(),tt(512,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[" options (inherited from the "])),(l()(),tt(515,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidatorOptions"])),(l()(),yr(-1,null,[" interface): "])),(l()(),tt(518,0,null,null,97,"table",[],null,null,null,null,null)),(l()(),tt(519,0,null,null,96,"tbody",[],null,null,null,null,null)),(l()(),tt(520,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(521,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Option"])),(l()(),tt(523,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Type"])),(l()(),tt(525,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Description"])),(l()(),tt(527,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(528,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(529,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["skipMissingProperties"])),(l()(),tt(531,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(532,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(534,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["If set to true, validator will skip validation of all properties that are missing in the validating object."])),(l()(),tt(536,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(537,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(538,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["whitelist"])),(l()(),tt(540,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(541,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(543,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["If set to true, validator will strip validated object of any properties that do not make use of any decorators."])),(l()(),tt(545,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(546,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(547,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forbidNonWhitelisted"])),(l()(),tt(549,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(550,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(552,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["If set to true, instead of stripping non-whitelisted properties validator will throw an exception."])),(l()(),tt(554,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(555,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(556,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forbidUnknownValues"])),(l()(),tt(558,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(559,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(561,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["If set to true, the validation of unknown objects would fail immediately."])),(l()(),tt(563,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(564,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(565,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["disableErrorMessages"])),(l()(),tt(567,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(568,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(570,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["If set to true, the validation errors would not be forwarded to the client."])),(l()(),tt(572,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(573,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(574,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["groups"])),(l()(),tt(576,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(577,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["string[]"])),(l()(),tt(579,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Groups to be used during validation of the object."])),(l()(),tt(581,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),tt(582,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(583,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["dismissDefaultMessages"])),(l()(),tt(585,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(586,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(588,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["If set to true, the validation will not use default messages. Error message always will be "])),(l()(),tt(590,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["undefined"])),(l()(),yr(-1,null,[" if its not explicitly set."])),(l()(),tt(593,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),tt(594,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(595,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["validationError.target"])),(l()(),tt(597,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(598,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(600,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Indicates if target should be exposed in "])),(l()(),tt(602,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationError"])),(l()(),tt(604,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),tt(605,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(606,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["validationError.value"])),(l()(),tt(608,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(609,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),tt(611,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Indicates if validated value should be exposed in "])),(l()(),tt(613,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationError"])),(l()(),yr(-1,null,["."])),(l()(),tt(616,0,null,null,9,"blockquote",[],null,null,null,null,null)),(l()(),tt(617,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" You may find more information about the "])),(l()(),tt(620,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[" package in its "])),(l()(),tt(623,0,null,null,1,"a",[["href","https://github.com/typestack/class-validator"]],null,null,null,null,null)),(l()(),yr(-1,null,["repository"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,27,0,"/exception-filters"),l(n,123,0,"/custom-decorators"),l(n,310,0,"/exception-filters"),l(n,394,0,"/execution-context"),l(n,401,0,"/fundamentals/dependency-injection")},function(l,n){var e=n.component;l(n,26,0,Et(n,27).target,Et(n,27).href);var u=Ou(n,51,0,l(n,52,0,Et(n,0),"validation.pipe",Et(n,54).isJsActive));l(n,51,0,u),l(n,55,0,Et(n,54).isJsActive),l(n,57,0,e.validationPipe),l(n,58,0,!Et(n,54).isJsActive),l(n,60,0,e.validationPipeJs),l(n,102,0,e.argumentMetadata),l(n,122,0,Et(n,123).target,Et(n,123).href),l(n,174,0,e.createCatsController),l(n,184,0,e.createCatDto),l(n,217,0,Et(n,216).isJsActive),l(n,219,0,e.joiPipe),l(n,220,0,!Et(n,216).isJsActive),l(n,222,0,e.joiPipeJs),l(n,233,0,Et(n,232).isJsActive),l(n,235,0,e.useJoiPipe),l(n,236,0,!Et(n,232).isJsActive),l(n,238,0,e.useJoiPipeJs),l(n,266,0,e.createCatDtoValidation),l(n,276,0,e.fullValidationPipe),l(n,309,0,Et(n,310).target,Et(n,310).href),l(n,320,0,e.createCatsControllerParamPipe),l(n,330,0,e.createCatsControllerMethodPipe),l(n,353,0,e.createCatsControllerMethodPipeClass),l(n,368,0,e.globalPipe);var t=Ou(n,382,0,l(n,383,0,Et(n,0),"app.module",Et(n,385).isJsActive));l(n,382,0,t),l(n,388,0,e.globalScopedPipeModule),l(n,393,0,Et(n,394).target,Et(n,394).href),l(n,400,0,Et(n,401).target,Et(n,401).href);var r=Ou(n,418,0,l(n,419,0,Et(n,0),"parse-int.pipe",Et(n,421).isJsActive));l(n,418,0,r),l(n,422,0,Et(n,421).isJsActive),l(n,424,0,e.parseIntPipe),l(n,425,0,!Et(n,421).isJsActive),l(n,427,0,e.parseIntPipeJs),l(n,436,0,Et(n,435).isJsActive),l(n,438,0,e.bindParam),l(n,439,0,!Et(n,435).isJsActive),l(n,441,0,e.bindParamJs),l(n,455,0,Et(n,454).isJsActive),l(n,457,0,e.userBindParam),l(n,458,0,!Et(n,454).isJsActive),l(n,460,0,e.userBindParamJs),l(n,495,0,e.createCatsControllerParamPipeTransformFalse),l(n,506,0,e.constructorCode)})}function Mf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-pipes",[],null,null,null,Af,Tf)),zt(1,8437760,null,0,Pf,[Pe,Gl],null,null)],null,null)}var _f=Ct("app-pipes",Pf,Mf,{},{},[]),If=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"authGuard",{get:function(){return"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authGuardJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AuthGuard {\n  async canActivate(context) {\n    const request = context.switchToHttp().getRequest();\n    return await validateRequest(request);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rolesGuard",{get:function(){return"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rolesGuardJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class RolesGuard {\n  canActivate(context) {\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"argumentsHost",{get:function(){return"\nexport interface ArgumentsHost {\n  getArgs<T extends Array<any> = any[]>(): T;\n  getArgByIndex<T = any>(index: number): T;\n  switchToRpc(): RpcArgumentsHost;\n  switchToHttp(): HttpArgumentsHost;\n  switchToWs(): WsArgumentsHost;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"executionContext",{get:function(){return"\nexport interface ExecutionContext extends ArgumentsHost {\n  getClass<T = any>(): Type<T>;\n  getHandler(): Function;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useGuards",{get:function(){return"\n@Controller('cats')\n@UseGuards(RolesGuard)\nexport class CatsController {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useGuardsWithInstance",{get:function(){return"\n@Controller('cats')\n@UseGuards(new RolesGuard())\nexport class CatsController {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalScopedGuardModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { APP_GUARD } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: RolesGuard,\n    },\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reflectMetadata",{get:function(){return"\n@Post()\n@ReflectMetadata('roles', ['admin'])\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reflectMetadataJs",{get:function(){return"\n@Post()\n@ReflectMetadata('roles', ['admin'])\n@Bind(Body())\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rolesDecorator",{get:function(){return"\nimport { ReflectMetadata } from '@nestjs/common';\n\nexport const Roles = (...roles: string[]) => ReflectMetadata('roles', roles);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rolesDecoratorJs",{get:function(){return"\nimport { ReflectMetadata } from '@nestjs/common';\n\nexport const Roles = (...roles) => ReflectMetadata('roles', roles);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsRolesDecorator",{get:function(){return"\n@Post()\n@Roles('admin')\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsRolesDecoratorJs",{get:function(){return"\n@Post()\n@Roles('admin')\n@Bind(Body())\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rolesGuardExt",{get:function(){return"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { Reflector } from '@nestjs/core';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  constructor(private readonly reflector: Reflector) {}\n\n  canActivate(context: ExecutionContext): boolean {\n    const roles = this.reflector.get<string[]>('roles', context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    const hasRole = () => user.roles.some((role) => roles.includes(role));\n    return user && user.roles && hasRole();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rolesGuardExtJs",{get:function(){return"\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\n\n@Injectable()\n@Dependencies(Reflector)\nexport class RolesGuard {\n  constructor(reflector) {\n    this.reflector = reflector;\n  }\n\n  canActivate(context) {\n    const roles = this.reflector.get('roles', context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    const hasRole = () => user.roles.some((role) => roles.includes(role));\n    return user && user.roles && hasRole();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerMetadata",{get:function(){return"\nconst roles = this.reflector.get<string[]>('roles', context.getClass());"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerMetadataJs",{get:function(){return"\nconst roles = this.reflector.get('roles', context.getClass());"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbidden",{get:function(){return'\n{\n  "statusCode": 403,\n  "message": "Forbidden resource"\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalGuard",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.useGlobalGuards(new RolesGuard());"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getAuthGuard",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst authGuard = app\n  .select(AuthModule)\n  .get(AuthGuard);\n\napp.useGlobalGuards(authGuard);\n"},enumerable:!0,configurable:!0}),n}(Kh),Ef=Tu({encapsulation:2,styles:[],data:{}});function Rf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,466,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Guards"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A guard is a class annotated with the "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator. The guard should implement the "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CanActivate"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(12,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,"img",[["src","/assets/Guards_1.png"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The guards have a "])),(l()(),tt(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["single responsibility"])),(l()(),yr(-1,null,[". They determine whether a request shall be handled by the route handler or not. Until now, the access restriction logic was mostly inside the "])),(l()(),tt(19,0,null,null,2,"a",[["routerLink","/middleware"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,20).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(20,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["middleware"])),(l()(),yr(-1,null,[". It's still fine since things such as token validation or attaching properties to the "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" object are not strongly connected with a particular routes. "])),(l()(),tt(26,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But middleware, by its nature, is dumb. It doesn't know which handler will be executed after calling the "])),(l()(),tt(28,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["next()"])),(l()(),yr(-1,null,[" function. On the other hand, "])),(l()(),tt(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Guards"])),(l()(),yr(-1,null,[" have an access to the "])),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" instance, and thus we know exactly what's going to be evaluated. "])),(l()(),tt(37,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(38,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Guards are executed "])),(l()(),tt(41,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["after"])),(l()(),yr(-1,null,[" each middleware, but "])),(l()(),tt(44,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["before"])),(l()(),yr(-1,null,[" any pipe. "])),(l()(),tt(47,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Authorization guard"])),(l()(),tt(49,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" One of the best guards use-cases is the "])),(l()(),tt(51,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["authorization"])),(l()(),yr(-1,null,[" logic because specific routes should be available only when the caller has sufficient permissions. The "])),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthGuard"])),(l()(),yr(-1,null,[" that we have a plan to create is going to sequentially extract and validate the token sent in request headers. "])),(l()(),tt(57,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(58,null,[" "," "])),fr(59,2),(l()(),tt(60,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(61,49152,[["authGuardT",4]],0,Wh,[],null,null),(l()(),tt(62,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(63,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(64,null,["",""])),(l()(),tt(65,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(66,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(67,null,["",""])),(l()(),tt(68,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Regardless of the logic that sits behind "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["validateRequest()"])),(l()(),yr(-1,null,[" function, the main point is to show how simple is to take advantage of guards. Every guard provides a "])),(l()(),tt(73,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["canActivate()"])),(l()(),yr(-1,null,[" function. The guard might return its boolean answer either synchronously or asynchronously via a ("])),(l()(),tt(76,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(79,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,["). The returned value controls the Nest behavior: "])),(l()(),tt(82,0,null,null,10,"ul",[],null,null,null,null,null)),(l()(),tt(83,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["if it returns "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[", the user call will be processed."])),(l()(),tt(88,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["if it returns "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),yr(-1,null,[", Nest will ignore a currently processed request."])),(l()(),tt(93,0,null,null,23,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(95,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["canActivate()"])),(l()(),yr(-1,null,[" function takes single argument, the "])),(l()(),tt(98,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" instance. The "])),(l()(),tt(101,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" inherits from "])),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" (first mention "])),(l()(),tt(107,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,108).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(108,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["). The "])),(l()(),tt(111,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" is a wrapper around arguments that have been passed to the "])),(l()(),tt(114,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["original"])),(l()(),yr(-1,null,[" handler, and it contains different arguments array under the hood based on the type of the application. "])),(l()(),tt(117,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(118,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(119,null,["",""])),(l()(),tt(120,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(122,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" supplies us with a set of useful methods that helps to pick correct arguments from the underlying array. In other words, "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" is nothing else than just an "])),(l()(),tt(128,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["array of arguments"])),(l()(),yr(-1,null,[". For example, when the guard is used within HTTP application context, "])),(l()(),tt(131,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" will contain "])),(l()(),tt(134,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[request, response]"])),(l()(),yr(-1,null,[" array inside. However, when current context is a web sockets application, this array will be equal to "])),(l()(),tt(137,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[client, data]"])),(l()(),yr(-1,null,[". This design decision enables you to access any argument that would be eventually passed to the corresponding handler. "])),(l()(),tt(140,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(142,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" offers a little bit more. It extends "])),(l()(),tt(145,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[", but also, provides more details about current execution process. "])),(l()(),tt(148,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(149,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(150,null,["",""])),(l()(),tt(151,0,null,null,30,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(153,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandler()"])),(l()(),yr(-1,null,[" returns a reference to the currently processed handler, while "])),(l()(),tt(156,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getClass()"])),(l()(),yr(-1,null,[" returns a type of the "])),(l()(),tt(159,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Controller"])),(l()(),yr(-1,null,[" class which this particular handler belongs to. Using other words, if the user points to "])),(l()(),tt(162,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method that is defined and registered within "])),(l()(),tt(165,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[", the "])),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandler()"])),(l()(),yr(-1,null,[" will return a reference to the "])),(l()(),tt(171,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method and "])),(l()(),tt(174,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getClass()"])),(l()(),yr(-1,null,[" in this case, will simply return a "])),(l()(),tt(177,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),tt(179,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["type"])),(l()(),yr(-1,null,[" (not instance). "])),(l()(),tt(182,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Role-based authentication"])),(l()(),tt(184,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A little bit more detailed example is a "])),(l()(),tt(186,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RolesGuard"])),(l()(),yr(-1,null,[". This guard permits access only to users with a specific role. We are gonna start with a basic guard template: "])),(l()(),tt(189,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(190,null,[" "," "])),fr(191,2),(l()(),tt(192,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(193,49152,[["rolesGuardT",4]],0,Wh,[],null,null),(l()(),tt(194,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(195,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(196,null,["",""])),(l()(),tt(197,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(198,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(199,null,["",""])),(l()(),tt(200,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding guards"])),(l()(),tt(202,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The guards can be "])),(l()(),tt(204,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["controller-scoped"])),(l()(),yr(-1,null,[", method-scoped, and global-scoped as well. In order to set up the guard, we have to use a "])),(l()(),tt(207,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseGuards()"])),(l()(),yr(-1,null,[" decorator. This decorator may take an endless number of arguments, meaning, you can pass several guards and separate them by a comma. "])),(l()(),tt(210,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(211,null,[" "," "])),fr(212,2),(l()(),tt(213,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(214,49152,[["useGuardsT",4]],0,Wh,[],null,null),(l()(),tt(215,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(216,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(217,null,["",""])),(l()(),tt(218,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(219,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(222,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseGuards()"])),(l()(),yr(-1,null,[" decorator is imported from the "])),(l()(),tt(225,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(228,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We have passed the "])),(l()(),tt(230,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RolesGuard"])),(l()(),yr(-1,null,[" type instead of an instance, leaving framework the instantiation responsibility and enabling dependency injection. Another available way is to pass the immediately created instance: "])),(l()(),tt(233,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(234,null,[" "," "])),fr(235,2),(l()(),tt(236,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(237,49152,[["useGuardsInstanceT",4]],0,Wh,[],null,null),(l()(),tt(238,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(239,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(240,null,["",""])),(l()(),tt(241,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The construction above attaches the guard to every handler declared by this controller. If we decide to restrict only one of them, we just need to set up the guard at "])),(l()(),tt(243,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method level"])),(l()(),yr(-1,null,[". In order to bind the global guard, we use the "])),(l()(),tt(246,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useGlobalGuards()"])),(l()(),yr(-1,null,[" method of the Nest application instance: "])),(l()(),tt(249,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(250,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(251,null,["",""])),(l()(),tt(252,0,null,null,6,"blockquote",[],null,null,null,null,null)),(l()(),tt(253,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(256,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useGlobalGuards()"])),(l()(),yr(-1,null,[" method doesn't set up guards for gateways and microservices. "])),(l()(),tt(259,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The global guards are used across the whole application, for every controller and every route handler. In terms of dependency injection, global guards registered from the outside of any module (as in the previous example above) cannot inject dependencies since they don't belong to any module. In order to solve this issue, you can set up a guard "])),(l()(),tt(261,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["directly from any module"])),(l()(),yr(-1,null,[" using following construction: "])),(l()(),tt(264,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(265,null,[" "," "])),fr(266,2),(l()(),tt(267,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(268,49152,[["globalScopedGuardModuleT",4]],0,Wh,[],null,null),(l()(),tt(269,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(270,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(271,null,["",""])),(l()(),tt(272,0,null,null,14,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(273,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The alternative option is to use an "])),(l()(),tt(276,0,null,null,2,"a",[["routerLink","/execution-context"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,277).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(277,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[" feature. Also, "])),(l()(),tt(280,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" is not the only way of dealing with custom providers registration. Learn more "])),(l()(),tt(283,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,284).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(284,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(287,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Reflector"])),(l()(),tt(289,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The guard is working now, but we're still not taking advantage of the most important guard features, being the "])),(l()(),tt(291,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["execution context "])),(l()(),yr(-1,null,[". "])),(l()(),tt(294,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(296,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RolesGuard"])),(l()(),yr(-1,null,[" isn't reusable so far. How would we know which roles need to be processed by the handler? The "])),(l()(),tt(299,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" could have a lot of them. Some might be available only for admin, some for everyone, although, they don't have any permissions. "])),(l()(),tt(302,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" That's why along with the guards, Nest provides the ability to attach "])),(l()(),tt(304,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["custom metadata"])),(l()(),yr(-1,null,[" through "])),(l()(),tt(307,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ReflectMetadata()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(310,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(311,null,[" "," "])),fr(312,2),(l()(),tt(313,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(314,49152,[["reflectMetadataT",4]],0,Wh,[],null,null),(l()(),tt(315,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(316,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(317,null,["",""])),(l()(),tt(318,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(319,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(320,null,["",""])),(l()(),tt(321,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(322,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(325,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ReflectMetadata()"])),(l()(),yr(-1,null,[" decorator is imported from the "])),(l()(),tt(328,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(331,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" With the construction above, we attached the "])),(l()(),tt(333,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["roles"])),(l()(),yr(-1,null,[" metadata ("])),(l()(),tt(336,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["roles"])),(l()(),yr(-1,null,[" is a key, while "])),(l()(),tt(339,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["['admin']"])),(l()(),yr(-1,null,[" is a particular value) to the "])),(l()(),tt(342,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method. It's not a good practice to use "])),(l()(),tt(345,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ReflectMetadata()"])),(l()(),yr(-1,null,[" directly. Instead, you should always create your own decorators: "])),(l()(),tt(348,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(349,null,[" "," "])),fr(350,2),(l()(),tt(351,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(352,49152,[["rolesDecoratorT",4]],0,Wh,[],null,null),(l()(),tt(353,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(354,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(355,null,["",""])),(l()(),tt(356,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(357,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(358,null,["",""])),(l()(),tt(359,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This approach is much cleaner and readable. Since we've got a "])),(l()(),tt(361,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Roles()"])),(l()(),yr(-1,null,[" decorator now, we can use it with the "])),(l()(),tt(364,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(367,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(368,null,[" "," "])),fr(369,2),(l()(),tt(370,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(371,49152,[["catsRolesDecoratorT",4]],0,Wh,[],null,null),(l()(),tt(372,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(373,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(374,null,["",""])),(l()(),tt(375,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(376,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(377,null,["",""])),(l()(),tt(378,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alright. Let's take a step back to the "])),(l()(),tt(380,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RolesGuard"])),(l()(),yr(-1,null,[" again. It simply returns "])),(l()(),tt(383,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[" immediately, allowing request to proceed so far. In order to reflect the metadata, we'll use the "])),(l()(),tt(386,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Reflector"])),(l()(),yr(-1,null,[" helper class which is provided out of the box by the framework and exposed from the "])),(l()(),tt(389,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/core"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(392,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(393,null,[" "," "])),fr(394,2),(l()(),tt(395,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(396,49152,[["rolesGuardExtT",4]],0,Wh,[],null,null),(l()(),tt(397,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(398,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(399,null,["",""])),(l()(),tt(400,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(401,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(402,null,["",""])),(l()(),tt(403,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(404,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" In the node.js world, it's a common practice to attach the authorized user to the "])),(l()(),tt(407,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" object. That's why we assumed that "])),(l()(),tt(410,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["request.user"])),(l()(),yr(-1,null,[" contains the user instance. "])),(l()(),tt(413,0,null,null,25,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(415,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Reflector"])),(l()(),yr(-1,null,[" allows us to easily reflect the metadata by the specified "])),(l()(),tt(418,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["key"])),(l()(),yr(-1,null,[". In the example above, we used "])),(l()(),tt(421,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandler()"])),(l()(),yr(-1,null,[" in order to reflect the metadata because it's a "])),(l()(),tt(424,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["reference"])),(l()(),yr(-1,null,[" to the route handler function. We could make this guard even "])),(l()(),tt(427,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["more generic"])),(l()(),yr(-1,null,[" if we add the controller reflection part as well. To extract the "])),(l()(),tt(430,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["controller metadata"])),(l()(),yr(-1,null,[", we should use "])),(l()(),tt(433,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["context.getClass()"])),(l()(),yr(-1,null,[" instead of "])),(l()(),tt(436,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandler()"])),(l()(),yr(-1,null,[" function: "])),(l()(),tt(439,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(440,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(441,49152,[["controllerMetadataT",4]],0,Wh,[],null,null),(l()(),tt(442,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(443,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(444,null,["",""])),(l()(),tt(445,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(446,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(447,null,["",""])),(l()(),tt(448,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When a user tries to call the "])),(l()(),tt(450,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),yr(-1,null,[" POST endpoint without enough privileges, Nest will automatically return response below: "])),(l()(),tt(453,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(454,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(455,null,["",""])),(l()(),tt(456,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In fact, the guard which returns "])),(l()(),tt(458,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),yr(-1,null,[" throws "])),(l()(),tt(461,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[". If you want to return a different error response to the end-user, you should throw an exception. Afterward, this exception can be caught by the "])),(l()(),tt(464,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,465).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(465,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["exception filter "])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,20,0,"/middleware"),l(n,108,0,"/exception-filters"),l(n,277,0,"/execution-context"),l(n,284,0,"/fundamentals/dependency-injection"),l(n,465,0,"/exception-filters")},function(l,n){var e=n.component;l(n,19,0,Et(n,20).target,Et(n,20).href);var u=Ou(n,58,0,l(n,59,0,Et(n,0),"auth.guard",Et(n,61).isJsActive));l(n,58,0,u),l(n,62,0,Et(n,61).isJsActive),l(n,64,0,e.authGuard),l(n,65,0,!Et(n,61).isJsActive),l(n,67,0,e.authGuardJs),l(n,107,0,Et(n,108).target,Et(n,108).href),l(n,119,0,e.argumentsHost),l(n,150,0,e.executionContext);var t=Ou(n,190,0,l(n,191,0,Et(n,0),"roles.guard",Et(n,193).isJsActive));l(n,190,0,t),l(n,194,0,Et(n,193).isJsActive),l(n,196,0,e.rolesGuard),l(n,197,0,!Et(n,193).isJsActive),l(n,199,0,e.rolesGuardJs);var r=Ou(n,211,0,l(n,212,0,Et(n,0),"cats.controller",Et(n,214).isJsActive));l(n,211,0,r),l(n,217,0,e.useGuards);var o=Ou(n,234,0,l(n,235,0,Et(n,0),"cats.controller",Et(n,237).isJsActive));l(n,234,0,o),l(n,240,0,e.useGuardsWithInstance),l(n,251,0,e.globalGuard);var a=Ou(n,265,0,l(n,266,0,Et(n,0),"app.module",Et(n,268).isJsActive));l(n,265,0,a),l(n,271,0,e.globalScopedGuardModule),l(n,276,0,Et(n,277).target,Et(n,277).href),l(n,283,0,Et(n,284).target,Et(n,284).href);var i=Ou(n,311,0,l(n,312,0,Et(n,0),"cats.controller",Et(n,314).isJsActive));l(n,311,0,i),l(n,315,0,Et(n,314).isJsActive),l(n,317,0,e.reflectMetadata),l(n,318,0,!Et(n,314).isJsActive),l(n,320,0,e.reflectMetadataJs);var s=Ou(n,349,0,l(n,350,0,Et(n,0),"roles.decorator",Et(n,352).isJsActive));l(n,349,0,s),l(n,353,0,Et(n,352).isJsActive),l(n,355,0,e.rolesDecorator),l(n,356,0,!Et(n,352).isJsActive),l(n,358,0,e.rolesDecoratorJs);var c=Ou(n,368,0,l(n,369,0,Et(n,0),"cats.controller",Et(n,371).isJsActive));l(n,368,0,c),l(n,372,0,Et(n,371).isJsActive),l(n,374,0,e.catsRolesDecorator),l(n,375,0,!Et(n,371).isJsActive),l(n,377,0,e.catsRolesDecoratorJs);var p=Ou(n,393,0,l(n,394,0,Et(n,0),"roles.guard",Et(n,396).isJsActive));l(n,393,0,p),l(n,397,0,Et(n,396).isJsActive),l(n,399,0,e.rolesGuardExt),l(n,400,0,!Et(n,396).isJsActive),l(n,402,0,e.rolesGuardExtJs),l(n,442,0,Et(n,441).isJsActive),l(n,444,0,e.controllerMetadata),l(n,445,0,!Et(n,441).isJsActive),l(n,447,0,e.controllerMetadataJs),l(n,455,0,e.forbidden),l(n,464,0,Et(n,465).target,Et(n,465).href)})}function Nf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-guards",[],null,null,null,Rf,Ef)),zt(1,8437760,null,0,If,[Pe,Gl],null,null)],null,null)}var qf=Ct("app-guards",If,Nf,{},{},[]),Df=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"errorResponse",{get:function(){return'\n{\n  "statusCode": 500,\n  "message": "Internal server error"\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createMethod",{get:function(){return"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createMethodJs",{get:function(){return"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionObj",{get:function(){return"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new HttpException({\n    status: HttpStatus.FORBIDDEN,\n    error: 'This is a custom message',\n  }, 403);\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionObjJs",{get:function(){return"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  throw new HttpException({\n    status: HttpStatus.FORBIDDEN,\n    error: 'This is a custom message',\n  }, 403);\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customResponse",{get:function(){return'\n{\n  "status": 403,\n  "error": "This is a custom message"\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenResponse",{get:function(){return'\n{\n  "statusCode": 403,\n  "message": "Forbidden"\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenException",{get:function(){return"\nexport class ForbiddenException extends HttpException {\n  constructor() {\n    super('Forbidden', HttpStatus.FORBIDDEN);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenCreateMethod",{get:function(){return"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenCreateMethodJs",{get:function(){return"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpExceptionFilter",{get:function(){return"\nimport { ExceptionFilter, Catch, ArgumentsHost } from '@nestjs/common';\nimport { HttpException } from '@nestjs/common';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpExceptionFilterJs",{get:function(){return"\nimport { Catch } from '@nestjs/common';\nimport { HttpException } from '@nestjs/common';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter {\n  catch(exception, host) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionFilter",{get:function(){return"\nimport { ExceptionFilter, Catch, ArgumentsHost } from '@nestjs/common';\n\n@Catch()\nexport class AllExceptionsFilter implements ExceptionFilter {\n  catch(exception: any, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionFilterJs",{get:function(){return"\nimport { ExceptionFilter, Catch } from '@nestjs/common';\n\n@Catch()\nexport class AllExceptionsFilter implements ExceptionFilter {\n  catch(exception, host) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenCreateMethodWithFilter",{get:function(){return"\n@Post()\n@UseFilters(new HttpExceptionFilter())\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenCreateMethodWithFilterJs",{get:function(){return"\n@Post()\n@UseFilters(new HttpExceptionFilter())\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenCreateMethodWithFilterDi",{get:function(){return"\n@Post()\n@UseFilters(HttpExceptionFilter)\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forbiddenCreateMethodWithFilterDiJs",{get:function(){return"\n@Post()\n@UseFilters(HttpExceptionFilter)\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerScopedFilter",{get:function(){return"\n@UseFilters(new HttpExceptionFilter())\nexport class CatsController {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalScopedFilter",{get:function(){return"\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  app.useGlobalFilters(new HttpExceptionFilter());\n  await app.listen(3000);\n}\nbootstrap();\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getLoggerExceptionFilter",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst loggerFilter = app\n  .select(LoggerModule)\n  .get(LoggerExceptionFilter);\n\napp.useGlobalFilters(loggerFilter);\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"argumentsHost",{get:function(){return"\nexport interface ArgumentsHost {\n  getArgs<T extends Array<any> = any[]>(): T;\n  getArgByIndex<T = any>(index: number): T;\n  switchToRpc(): RpcArgumentsHost;\n  switchToHttp(): HttpArgumentsHost;\n  switchToWs(): WsArgumentsHost;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalModuleFilter",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { APP_FILTER } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: HttpExceptionFilter,\n    },\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritance",{get:function(){return"\nimport { Catch, ArgumentsHost, HttpServer } from '@nestjs/common';\nimport { BaseExceptionFilter, HTTP_SERVER_REF } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  constructor(@Inject(HTTP_SERVER_REF) applicationRef: HttpServer) {\n    super(applicationRef);\n  }\n\n  catch(exception: any, host: ArgumentsHost) {\n    super.catch(exception, host);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritanceJs",{get:function(){return"\nimport { Catch } from '@nestjs/common';\nimport { BaseExceptionFilter, HTTP_SERVER_REF } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  constructor(@Inject(HTTP_SERVER_REF) applicationRef) {\n    super(applicationRef);\n  }\n\n  catch(exception, host) {\n    super.catch(exception, host);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalScopedBaseFilter",{get:function(){return"\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  const httpRef = app.get(HTTP_SERVER_REF);\n  app.useGlobalFilters(new AllExceptionsFilter(httpRef));\n  await app.listen(3000);\n}\nbootstrap();\n"},enumerable:!0,configurable:!0}),n}(Kh),Hf=Tu({encapsulation:2,styles:[],data:{}});function Lf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,492,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exception filters"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The built-in "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["exceptions layer"])),(l()(),yr(-1,null,[" is responsible for handling all thrown exceptions across your whole application. When an unhandled exception is caught, the end-user will receive an appropriate user-friendly response. "])),(l()(),tt(9,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(10,0,null,null,0,"img",[["src","/assets/Filter_1.png"]],null,null,null,null,null)),(l()(),tt(11,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each ocurred exception is handled by the global exception filter, and when it's "])),(l()(),tt(13,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["unrecognized"])),(l()(),yr(-1,null,[" (is neither "])),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" nor a class that inherits from "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,["), a user receives the below JSON response: "])),(l()(),tt(22,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(24,null,["",""])),(l()(),tt(25,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Base exceptions"])),(l()(),tt(27,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There's a built-in "])),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" class exposed from the "])),(l()(),tt(32,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. As you already know, when you throw a "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" object, it'll be caught by the handler and afterwards, transformed to the relevant JSON response. "])),(l()(),tt(38,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[", we have a "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method (a "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["POST"])),(l()(),yr(-1,null,[" route). Let's assume that this route handler would throw an exception for some reason. We're gonna hardcode it: "])),(l()(),tt(49,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(50,null,[" "," "])),fr(51,2),(l()(),tt(52,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(53,49152,[["createMethodT",4]],0,Wh,[],null,null),(l()(),tt(54,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(55,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(56,null,["",""])),(l()(),tt(57,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(58,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(59,null,["",""])),(l()(),tt(60,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(61,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" We used the "])),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpStatus"])),(l()(),yr(-1,null,[" here. It is a helper enumerator imported from the "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(70,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When the client calls this endpoint, the response would look like this: "])),(l()(),tt(72,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(73,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(74,null,["",""])),(l()(),tt(75,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" constructor takes "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["string | object"])),(l()(),yr(-1,null,[" as the first argument. If you pass an "])),(l()(),tt(83,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["object"])),(l()(),yr(-1,null,[" instead of a "])),(l()(),tt(86,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["string"])),(l()(),yr(-1,null,[", you'll completely override the response body. "])),(l()(),tt(89,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(90,null,[" "," "])),fr(91,2),(l()(),tt(92,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(93,49152,[["exceptionObjT",4]],0,Wh,[],null,null),(l()(),tt(94,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(95,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(96,null,["",""])),(l()(),tt(97,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(98,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(99,null,["",""])),(l()(),tt(100,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And this's how the response would look like: "])),(l()(),tt(102,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(103,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(104,null,["",""])),(l()(),tt(105,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exceptions hierarchy"])),(l()(),tt(107,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A good practice is to create your own "])),(l()(),tt(109,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["exceptions hierarchy"])),(l()(),yr(-1,null,[". It means that every HTTP exception should inherit from the base "])),(l()(),tt(112,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" class. As a result, Nest will recognize your exception, and will fully take care of the error responses. "])),(l()(),tt(115,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(116,null,[" "," "])),fr(117,2),(l()(),tt(118,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(119,49152,[["forbiddenExceptionT",4]],0,Wh,[],null,null),(l()(),tt(120,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(121,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(122,null,["",""])),(l()(),tt(123,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Since "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ForbiddenException"])),(l()(),yr(-1,null,[" extends the base "])),(l()(),tt(128,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", it's going to work well with the core exceptions handler, and therefore we can use it inside the "])),(l()(),tt(131,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(134,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(135,null,[" "," "])),fr(136,2),(l()(),tt(137,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(138,49152,[["forbiddenCreateMethodT",4]],0,Wh,[],null,null),(l()(),tt(139,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(140,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(141,null,["",""])),(l()(),tt(142,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(143,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(144,null,["",""])),(l()(),tt(145,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["HTTP exceptions"])),(l()(),tt(147,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to reduce the boilerplate code, Nest provides a set of usable exceptions that inherits from the core "])),(l()(),tt(149,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[". All of them are exposed from the "])),(l()(),tt(152,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package: "])),(l()(),tt(155,0,null,null,48,"ul",[],null,null,null,null,null)),(l()(),tt(156,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["BadRequestException"])),(l()(),tt(159,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UnauthorizedException"])),(l()(),tt(162,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NotFoundException"])),(l()(),tt(165,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(166,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ForbiddenException"])),(l()(),tt(168,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(169,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NotAcceptableException"])),(l()(),tt(171,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(172,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RequestTimeoutException"])),(l()(),tt(174,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(175,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConflictException"])),(l()(),tt(177,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(178,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GoneException"])),(l()(),tt(180,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(181,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PayloadTooLargeException"])),(l()(),tt(183,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(184,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UnsupportedMediaTypeException"])),(l()(),tt(186,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(187,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UnprocessableEntityException"])),(l()(),tt(189,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(190,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["InternalServerErrorException"])),(l()(),tt(192,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(193,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NotImplementedException"])),(l()(),tt(195,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(196,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["BadGatewayException"])),(l()(),tt(198,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(199,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ServiceUnavailableException"])),(l()(),tt(201,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(202,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GatewayTimeoutException"])),(l()(),tt(204,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exception filters"])),(l()(),tt(206,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The base exception handler is fine, but sometimes you may want to have a "])),(l()(),tt(208,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["full control"])),(l()(),yr(-1,null,[" over the exceptions layer, for example, add some logging or use a different JSON schema based on some chosen factors. We adore generic solutions and making your life easier, that's why the feature called "])),(l()(),tt(211,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["exception filters"])),(l()(),yr(-1,null,[" has been created. "])),(l()(),tt(214,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We are going to create a filter which is responsible for catching exceptions that are an instance of "])),(l()(),tt(216,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" class and set up a custom response logic for them. "])),(l()(),tt(219,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(220,null,[" "," "])),fr(221,2),(l()(),tt(222,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(223,49152,[["httpExceptionFilterT",4]],0,Wh,[],null,null),(l()(),tt(224,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(225,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(226,null,["",""])),(l()(),tt(227,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(228,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(229,null,["",""])),(l()(),tt(230,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(231,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" All exception filters should implement the generic "])),(l()(),tt(234,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExceptionFilter<T>"])),(l()(),yr(-1,null,[" interface. It forces you to provide the "])),(l()(),tt(237,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catch(exception: T, host: ArgumentsHost)"])),(l()(),yr(-1,null,[" method with the valid signature. "])),(l()(),tt(240,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["T"])),(l()(),yr(-1,null,[" indicates a type of the exception. "])),(l()(),tt(243,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(245,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Catch(HttpException)"])),(l()(),yr(-1,null,[" decorator binds the required metadata to the exception filter, telling Nest that this particular filter is looking for "])),(l()(),tt(248,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[" and nothing else. In practice, the "])),(l()(),tt(251,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Catch()"])),(l()(),yr(-1,null,[" decorator may take an endless number of parameters, therefore you can set up the filter for several types of exceptions, just separate them by a comma. "])),(l()(),tt(254,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(256,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exception"])),(l()(),yr(-1,null,[" property is a currently processed exception, while "])),(l()(),tt(259,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["host"])),(l()(),yr(-1,null,[" is a "])),(l()(),tt(262,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" object. The "])),(l()(),tt(265,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" is a wrapper around arguments that have been passed to the "])),(l()(),tt(268,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["original"])),(l()(),yr(-1,null,[" handler, and it contains different arguments array under the hood based on the type of the application. "])),(l()(),tt(271,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(272,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(273,null,["",""])),(l()(),tt(274,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(276,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" supplies us with a set of useful methods that helps to pick correct arguments from the underlying array. In other words, "])),(l()(),tt(279,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" is nothing else than just an "])),(l()(),tt(282,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["array of arguments"])),(l()(),yr(-1,null,[". For example, when the filter is used within HTTP application context, "])),(l()(),tt(285,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" will contain "])),(l()(),tt(288,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[request, response]"])),(l()(),yr(-1,null,[" array inside. However, when current context is a web sockets application, this array will be equal to "])),(l()(),tt(291,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[client, data]"])),(l()(),yr(-1,null,[". This design decision enables you to access any argument that would be eventually passed to the corresponding handler. "])),(l()(),tt(294,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding filters"])),(l()(),tt(296,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's tie "])),(l()(),tt(298,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpExceptionFilter"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(301,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(304,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(305,null,[" "," "])),fr(306,2),(l()(),tt(307,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(308,49152,[["forbiddenCreateMethodWithFilterT",4]],0,Wh,[],null,null),(l()(),tt(309,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(310,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(311,null,["",""])),(l()(),tt(312,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(313,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(314,null,["",""])),(l()(),tt(315,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(316,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(319,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseFilters()"])),(l()(),yr(-1,null,[" decorator is imported from the "])),(l()(),tt(322,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(325,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We have used the "])),(l()(),tt(327,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseFilters()"])),(l()(),yr(-1,null,[" decorator here. Same as "])),(l()(),tt(330,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Catch()"])),(l()(),yr(-1,null,[", it takes an endless number of parameters. The instance of "])),(l()(),tt(333,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpExceptionFilter"])),(l()(),yr(-1,null,[" has been created immediately in-place. Another available way is to pass the class (not instance), leaving framework the instantiation responsibility and enabling "])),(l()(),tt(336,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["dependency injection"])),(l()(),yr(-1,null,[". "])),(l()(),tt(339,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(340,null,[" "," "])),fr(341,2),(l()(),tt(342,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(343,49152,[["forbiddenCreateMethodWithFilterDiT",4]],0,Wh,[],null,null),(l()(),tt(344,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(345,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(346,null,["",""])),(l()(),tt(347,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(348,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(349,null,["",""])),(l()(),tt(350,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(351,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Prefer applying classes instead of instances when possible. It reduces "])),(l()(),tt(354,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["memory usage"])),(l()(),yr(-1,null,[" since Nest can easily reuse instances of the same class across your whole application. "])),(l()(),tt(357,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the example above, the "])),(l()(),tt(359,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpExceptionFilter"])),(l()(),yr(-1,null,[" is applied only to the single "])),(l()(),tt(362,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" route handler, but it's not the only available way. In fact, the exception filters can be method-scoped, controller-scoped, and also global-scoped. "])),(l()(),tt(365,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(366,null,[" "," "])),fr(367,2),(l()(),tt(368,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(369,49152,[["controllerScopedFilterT",4]],0,Wh,[],null,null),(l()(),tt(370,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(371,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(372,null,["",""])),(l()(),tt(373,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This construction sets up the "])),(l()(),tt(375,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpExceptionFilter"])),(l()(),yr(-1,null,[" for every route handler defined inside the "])),(l()(),tt(378,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[". It's the example of the controller-scoped exception filter. The last available scope is the global-scoped exception filter. "])),(l()(),tt(381,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(382,null,[" "," "])),fr(383,2),(l()(),tt(384,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(385,49152,[["globalScopedFilterT",4]],0,Wh,[],null,null),(l()(),tt(386,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(387,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(388,null,["",""])),(l()(),tt(389,0,null,null,6,"blockquote",[],null,null,null,null,null)),(l()(),tt(390,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(393,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useGlobalFilters()"])),(l()(),yr(-1,null,[" method neither set up filters for gateways nor microservices. "])),(l()(),tt(396,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The global filters are used across the whole application, for every controller and every route handler. In terms of dependency injection, global filters registered from the outside of any module (as in the previous example above) cannot inject dependencies since they don't belong to any module. In order to solve this issue, you can set up a filter "])),(l()(),tt(398,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["directly from any module"])),(l()(),yr(-1,null,[" using following construction: "])),(l()(),tt(401,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(402,null,[" "," "])),fr(403,2),(l()(),tt(404,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(405,49152,[["globalScopedFilterModuleT",4]],0,Wh,[],null,null),(l()(),tt(406,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(407,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(408,null,["",""])),(l()(),tt(409,0,null,null,14,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(410,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The alternative option is to use an "])),(l()(),tt(413,0,null,null,2,"a",[["routerLink","/execution-context"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,414).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(414,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[" feature. Also, "])),(l()(),tt(417,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" is not the only way of dealing with custom providers registration. Learn more "])),(l()(),tt(420,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,421).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(421,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(424,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Catch everything"])),(l()(),tt(426,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to handle every occurred exception (regardless of the exception type), you may leave the parentheses empty, e.g. "])),(l()(),tt(428,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Catch()"])),(l()(),yr(-1,null,[". "])),(l()(),tt(431,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(432,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(433,49152,[["exceptionFilterT",4]],0,Wh,[],null,null),(l()(),tt(434,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(435,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(436,null,["",""])),(l()(),tt(437,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(438,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(439,null,["",""])),(l()(),tt(440,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["In the example above the filter will catch each exception that has been thrown without limiting itself to a set of particular classes. "])),(l()(),tt(442,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Inheritance"])),(l()(),tt(444,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Typically, you'll create fully customized exception filters crafted to fulfill your application requirements. There might be use-cases though when you would like to reuse an already implemented, "])),(l()(),tt(446,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["core exception filter"])),(l()(),yr(-1,null,[", and override the behavior based on certain factors. "])),(l()(),tt(449,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to delegate exception processing to the base filter, you need to extend "])),(l()(),tt(451,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["BaseExceptionFilter"])),(l()(),yr(-1,null,[" and call inherited "])),(l()(),tt(454,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catch()"])),(l()(),yr(-1,null,[" method. Besides, "])),(l()(),tt(457,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpServer"])),(l()(),yr(-1,null,[" reference has to be injected and passed to the "])),(l()(),tt(460,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["super()"])),(l()(),yr(-1,null,[" call. "])),(l()(),tt(463,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(464,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(465,49152,[["inheritanceT",4]],0,Wh,[],null,null),(l()(),tt(466,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(467,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(468,null,["",""])),(l()(),tt(469,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(470,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(471,null,["",""])),(l()(),tt(472,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(473,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" Filters that extend base classes have to be instantiated by the framework itself (don't manually create instances using "])),(l()(),tt(476,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["new"])),(l()(),yr(-1,null,[" keyword but "])),(l()(),tt(479,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseFilters()"])),(l()(),yr(-1,null,["). "])),(l()(),yr(-1,null,[" You can use a global filter that extends the base filter by injecting the "])),(l()(),tt(483,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpServer"])),(l()(),yr(-1,null,[" reference. "])),(l()(),tt(486,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(487,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(488,null,["",""])),(l()(),tt(489,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, you should enhance above implementation with your tailored "])),(l()(),tt(491,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["business"])),(l()(),yr(-1,null,[" logic (e.g. add various conditions). "]))],function(l,n){l(n,414,0,"/execution-context"),l(n,421,0,"/fundamentals/dependency-injection")},function(l,n){var e=n.component;l(n,24,0,e.errorResponse);var u=Ou(n,50,0,l(n,51,0,Et(n,0),"cats.controller",Et(n,53).isJsActive));l(n,50,0,u),l(n,54,0,Et(n,53).isJsActive),l(n,56,0,e.createMethod),l(n,57,0,!Et(n,53).isJsActive),l(n,59,0,e.createMethodJs),l(n,74,0,e.forbiddenResponse);var t=Ou(n,90,0,l(n,91,0,Et(n,0),"cats.controller",Et(n,93).isJsActive));l(n,90,0,t),l(n,94,0,Et(n,93).isJsActive),l(n,96,0,e.exceptionObj),l(n,97,0,!Et(n,93).isJsActive),l(n,99,0,e.exceptionObjJs),l(n,104,0,e.customResponse);var r=Ou(n,116,0,l(n,117,0,Et(n,0),"forbidden.exception",Et(n,119).isJsActive));l(n,116,0,r),l(n,122,0,e.forbiddenException);var o=Ou(n,135,0,l(n,136,0,Et(n,0),"cats.controller",Et(n,138).isJsActive));l(n,135,0,o),l(n,139,0,Et(n,138).isJsActive),l(n,141,0,e.forbiddenCreateMethod),l(n,142,0,!Et(n,138).isJsActive),l(n,144,0,e.forbiddenCreateMethodJs);var a=Ou(n,220,0,l(n,221,0,Et(n,0),"http-exception.filter",Et(n,223).isJsActive));l(n,220,0,a),l(n,224,0,Et(n,223).isJsActive),l(n,226,0,e.httpExceptionFilter),l(n,227,0,!Et(n,223).isJsActive),l(n,229,0,e.httpExceptionFilterJs),l(n,273,0,e.argumentsHost);var i=Ou(n,305,0,l(n,306,0,Et(n,0),"cats.controller",Et(n,308).isJsActive));l(n,305,0,i),l(n,309,0,Et(n,308).isJsActive),l(n,311,0,e.forbiddenCreateMethodWithFilter),l(n,312,0,!Et(n,308).isJsActive),l(n,314,0,e.forbiddenCreateMethodWithFilterJs);var s=Ou(n,340,0,l(n,341,0,Et(n,0),"cats.controller",Et(n,343).isJsActive));l(n,340,0,s),l(n,344,0,Et(n,343).isJsActive),l(n,346,0,e.forbiddenCreateMethodWithFilterDi),l(n,347,0,!Et(n,343).isJsActive),l(n,349,0,e.forbiddenCreateMethodWithFilterDiJs);var c=Ou(n,366,0,l(n,367,0,Et(n,0),"cats.controller",Et(n,369).isJsActive));l(n,366,0,c),l(n,372,0,e.controllerScopedFilter);var p=Ou(n,382,0,l(n,383,0,Et(n,0),"main",Et(n,385).isJsActive));l(n,382,0,p),l(n,388,0,e.globalScopedFilter);var d=Ou(n,402,0,l(n,403,0,Et(n,0),"app.module",Et(n,405).isJsActive));l(n,402,0,d),l(n,408,0,e.globalModuleFilter),l(n,413,0,Et(n,414).target,Et(n,414).href),l(n,420,0,Et(n,421).target,Et(n,421).href),l(n,434,0,Et(n,433).isJsActive),l(n,436,0,e.exceptionFilter),l(n,437,0,!Et(n,433).isJsActive),l(n,439,0,e.exceptionFilterJs),l(n,466,0,Et(n,465).isJsActive),l(n,468,0,e.inheritance),l(n,469,0,!Et(n,465).isJsActive),l(n,471,0,e.inheritanceJs),l(n,488,0,e.globalScopedBaseFilter)})}function Ff(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-exception-filters",[],null,null,null,Lf,Hf)),zt(1,8437760,null,0,Df,[Pe,Gl],null,null)],null,null)}var Jf=Ct("app-exception-filters",Df,Ff,{},{},[]),Uf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"loggingInterceptor",{get:function(){return"\nimport { Injectable, NestInterceptor, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<any>,\n  ): Observable<any> {\n    console.log('Before...');\n\n    const now = Date.now();\n    return call$.pipe(\n      tap(() => console.log(`After... ${Date.now() - now}ms`)),\n    );\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loggingInterceptorJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor {\n  intercept(context, call$) {\n    console.log('Before...');\n\n    const now = Date.now();\n    return call$.pipe(\n      tap(() => console.log(`After... ${Date.now() - now}ms`)),\n    );\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useLoggingInterceptor",{get:function(){return"\n@UseInterceptors(LoggingInterceptor)\nexport class CatsController {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useLoggingInterceptorWithInstance",{get:function(){return"\n@UseInterceptors(new LoggingInterceptor())\nexport class CatsController {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"consoleOutput",{get:function(){return"\nBefore...\nAfter... 1ms"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalScopedInterceptorModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { APP_INTERCEPTOR } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: LoggingInterceptor,\n    },\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"transformInterceptor",{get:function(){return"\nimport { Injectable, NestInterceptor, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface Response<T> {\n  data: T;\n}\n\n@Injectable()\nexport class TransformInterceptor<T>\n  implements NestInterceptor<T, Response<T>> {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<T>,\n  ): Observable<Response<T>> {\n    return call$.pipe(map(data => ({ data })));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"transformInterceptorJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class TransformInterceptor {\n  intercept(context, call$) {\n    return call$.pipe(map(data => ({ data })));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nullTransformInterceptor",{get:function(){return"\nimport { Injectable, NestInterceptor, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<any>,\n  ): Observable<any> {\n    return call$.pipe(map(value => value === null ? '' : value ));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nullTransformInterceptorJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor {\n  intercept(context, call$) {\n    return call$.pipe(map(value => value === null ? '' : value ));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataResponse",{get:function(){return'\n{\n    "data": []\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cacheInterceptor",{get:function(){return"\nimport { Injectable, NestInterceptor, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { of } from 'rxjs/observable/of';\n\n@Injectable()\nexport class CacheInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<any>,\n  ): Observable<any> {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return call$;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cacheInterceptorJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { of } from 'rxjs/observable/of';\n\n@Injectable()\nexport class CacheInterceptor {\n  intercept(context, call$) {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return call$;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionMapping",{get:function(){return"\nimport {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  HttpStatus,\n} from '@nestjs/common';\nimport { HttpException } from '@nestjs/common';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<any>,\n  ): Observable<any> {\n    return call$.pipe(\n      catchError(err =>\n        throwError(new HttpException('Message', HttpStatus.BAD_GATEWAY)),\n      ),\n    );\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionMappingJs",{get:function(){return"\nimport { Injectable, HttpStatus } from '@nestjs/common';\nimport { HttpException } from '@nestjs/common';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor {\n  intercept(context, call$) {\n    return call$.pipe(\n      catchError(err =>\n        throwError(new HttpException('Message', HttpStatus.BAD_GATEWAY)),\n      ),\n    );\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalInterceptors",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.useGlobalInterceptors(new LoggingInterceptor());"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getEventsInterceptor",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst eventsInterceptor = app\n  .select(EventsModule)\n  .get(EventsInterceptor);\n\napp.useGlobalInterceptors(eventsInterceptor);\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"argumentsHost",{get:function(){return"\nexport interface ArgumentsHost {\n  getArgs<T extends Array<any> = any[]>(): T;\n  getArgByIndex<T = any>(index: number): T;\n  switchToRpc(): RpcArgumentsHost;\n  switchToHttp(): HttpArgumentsHost;\n  switchToWs(): WsArgumentsHost;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"executionContext",{get:function(){return"\nexport interface ExecutionContext extends ArgumentsHost {\n  getClass<T = any>(): Type<T>;\n  getHandler(): Function;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeoutInterceptor",{get:function(){return"\nimport { Injectable, NestInterceptor, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<any>,\n  ): Observable<any> {\n    return call$.pipe(timeout(5000))\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeoutInterceptorJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor {\n  intercept(context, call$) {\n    return call$.pipe(timeout(5000))\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),Bf=Tu({encapsulation:2,styles:[],data:{}});function Gf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,497,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Interceptors"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" An interceptor is a class annotated with the "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" decorator. The interceptor should implement the "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestInterceptor"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(12,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,"img",[["src","/assets/Interceptors_1.png"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Interceptors have a set of useful capabilities which are inspired by the "])),(l()(),tt(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Aspect-Oriented Programming"])),(l()(),yr(-1,null,[" (AOP) technique. They make possible to: "])),(l()(),tt(19,0,null,null,20,"ul",[],null,null,null,null,null)),(l()(),tt(20,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["bind "])),(l()(),tt(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["extra logic"])),(l()(),yr(-1,null,[" before / after method execution"])),(l()(),tt(25,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),tt(26,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform"])),(l()(),yr(-1,null,[" the result returned from a function"])),(l()(),tt(29,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),tt(30,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform"])),(l()(),yr(-1,null,[" the exception thrown from a function"])),(l()(),tt(33,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["extend the basic function behaviour"])),(l()(),tt(35,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["completely "])),(l()(),tt(37,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["override"])),(l()(),yr(-1,null,[" a function depending on the chosen conditions (e.g. caching purposes)"])),(l()(),tt(40,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Basics"])),(l()(),tt(42,0,null,null,27,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each interceptor has the "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["intercept()"])),(l()(),yr(-1,null,[" method that takes 2 arguments. The first one is the "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" instance (exactly the same object as for "])),(l()(),tt(50,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,51).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(51,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,["). The "])),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" inherits from "])),(l()(),tt(57,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" (first mention "])),(l()(),tt(60,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,61).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(61,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["). The "])),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" is a wrapper around arguments that have been passed to the "])),(l()(),tt(67,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["original"])),(l()(),yr(-1,null,[" handler, and it contains different arguments array under the hood based on the type of the application. "])),(l()(),tt(70,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(71,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(72,null,["",""])),(l()(),tt(73,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(75,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" supplies us with a set of useful methods that helps to pick correct arguments from the underlying array. In other words, "])),(l()(),tt(78,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" is nothing else than just an "])),(l()(),tt(81,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["array of arguments"])),(l()(),yr(-1,null,[". For example, when the guard is used within HTTP application context, "])),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" will contain "])),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[request, response]"])),(l()(),yr(-1,null,[" array inside. However, when current context is a web sockets application, this array will be equal to "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[client, data]"])),(l()(),yr(-1,null,[". This design decision enables you to access any argument that would be eventually passed to the corresponding handler. "])),(l()(),tt(93,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(95,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" offers a little bit more. It extends "])),(l()(),tt(98,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[", but also, provides more details about current execution process. "])),(l()(),tt(101,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(102,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(103,null,["",""])),(l()(),tt(104,0,null,null,30,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(106,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandler()"])),(l()(),yr(-1,null,[" returns a reference to the currently processed handler, while "])),(l()(),tt(109,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getClass()"])),(l()(),yr(-1,null,[" returns a type of the "])),(l()(),tt(112,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Controller"])),(l()(),yr(-1,null,[" class which this particular handler belongs to. Using other words, if the user points to "])),(l()(),tt(115,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method that is defined and registered within "])),(l()(),tt(118,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[", the "])),(l()(),tt(121,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandler()"])),(l()(),yr(-1,null,[" will return a reference to the "])),(l()(),tt(124,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method and "])),(l()(),tt(127,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getClass()"])),(l()(),yr(-1,null,[" in this case, will simply return a "])),(l()(),tt(130,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),tt(132,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["type"])),(l()(),yr(-1,null,[" (not instance). "])),(l()(),tt(135,0,null,null,40,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The second argument is a "])),(l()(),tt(137,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[", an "])),(l()(),tt(140,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[" stream. If you don't return this stream, the main handler won't be evaluated at all. What does it mean? Basically, the "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[" is a stream that "])),(l()(),tt(146,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["defers the final handler execution"])),(l()(),yr(-1,null,[". Let's say, someone made a POST "])),(l()(),tt(149,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),yr(-1,null,[" request. This request points to "])),(l()(),tt(152,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" handler defined inside the "])),(l()(),tt(155,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[". If an interceptor which does not return a "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[" stream is called along the way, the "])),(l()(),tt(161,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create()"])),(l()(),yr(-1,null,[" method won't be evaluated. Only when "])),(l()(),tt(164,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[" stream is returned, the final method will be triggered. Why? Because Nest "])),(l()(),tt(167,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["subscribes"])),(l()(),yr(-1,null,[" to the returned stream and uses values that this stream produces to create either a single response or multiple responses for the end-user. Moreover, as mentioned a while ago, "])),(l()(),tt(170,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[" is an "])),(l()(),tt(173,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[", meaning, it supplies us with a set of very powerful operators that helps with, for example, response manipulation. "])),(l()(),tt(176,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Aspect interception"])),(l()(),tt(178,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The first use case is to use the interceptor to add extra logic either before or after the function execution. It's useful when we're gonna "])),(l()(),tt(180,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["log interaction"])),(l()(),yr(-1,null,[" with the application, e.g. storing user calls, asynchronously dispatching events or calculating the timestamp. As an example, let's create a simple "])),(l()(),tt(183,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggingInterceptor"])),(l()(),yr(-1,null,[". "])),(l()(),tt(186,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(187,null,[" "," "])),fr(188,2),(l()(),tt(189,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(190,49152,[["loggingInterceptorT",4]],0,Wh,[],null,null),(l()(),tt(191,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(192,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(193,null,["",""])),(l()(),tt(194,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(195,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(196,null,["",""])),(l()(),tt(197,0,null,null,18,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(198,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(201,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestInterceptor<T, R>"])),(l()(),yr(-1,null,[" is a generic interface in which "])),(l()(),tt(204,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["T"])),(l()(),yr(-1,null,[" indicates a type of the processed "])),(l()(),tt(207,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable<T>"])),(l()(),yr(-1,null,[" (behind the stream), while "])),(l()(),tt(210,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["R"])),(l()(),yr(-1,null,[" the return type of the value wrapped into returned "])),(l()(),tt(213,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable<R>"])),(l()(),yr(-1,null,[". "])),(l()(),tt(216,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(217,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" Interceptors act the same as controllers, providers, guards, and so on, meaning, they can "])),(l()(),tt(220,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject dependencies "])),(l()(),yr(-1,null,[" through the "])),(l()(),tt(223,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor"])),(l()(),yr(-1,null,[". "])),(l()(),tt(226,0,null,null,12,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Since "])),(l()(),tt(228,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[" is a "])),(l()(),tt(231,0,null,null,1,"a",[["href","https://github.com/reactivex/rxjs"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["RxJS"])),(l()(),tt(233,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[", we have a lot of various operators which we can use to manipulate the stream. In the example above, We used the "])),(l()(),tt(236,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["tap()"])),(l()(),yr(-1,null,[" operator that invokes the function upon graceful or exceptional termination of the observable sequence. "])),(l()(),tt(239,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to set up the interceptor, we use the "])),(l()(),tt(241,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseInterceptors()"])),(l()(),yr(-1,null,[" decorator imported from the "])),(l()(),tt(244,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. Same as "])),(l()(),tt(247,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,248).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(248,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,[", interceptors can be controller-scoped, method-scoped, and global-scoped as well. "])),(l()(),tt(251,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(252,null,[" "," "])),fr(253,2),(l()(),tt(254,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(255,49152,[["useLoggingInterceptorT",4]],0,Wh,[],null,null),(l()(),tt(256,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(257,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(258,null,["",""])),(l()(),tt(259,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(260,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(263,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UseInterceptors()"])),(l()(),yr(-1,null,[" decorator is imported from the "])),(l()(),tt(266,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(269,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Thanks to that, each route handler defined in "])),(l()(),tt(271,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" will use "])),(l()(),tt(274,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggingInterceptor"])),(l()(),yr(-1,null,[". When someone calls the GET "])),(l()(),tt(277,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),yr(-1,null,[" endpoint, you'll see a following output in your console window: "])),(l()(),tt(280,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(281,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(282,null,["",""])),(l()(),tt(283,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Note that we passed the "])),(l()(),tt(285,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggingInterceptor"])),(l()(),yr(-1,null,[" type instead of an instance, leaving framework the instantiation responsibility and enabling dependency injection. Another available way is to pass the immediately created instance: "])),(l()(),tt(288,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(289,null,[" "," "])),fr(290,2),(l()(),tt(291,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(292,49152,[["useLoggingInterceptorWithInstanceT",4]],0,Wh,[],null,null),(l()(),tt(293,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(294,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(295,null,["",""])),(l()(),tt(296,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As mentioned before, the construction above attaches the interceptor to every handler declared by this controller. If we decide to restrict only one of them, we just need to set up the interceptor at "])),(l()(),tt(298,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method level"])),(l()(),yr(-1,null,[". In order to bind the global interceptor, we use the "])),(l()(),tt(301,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useGlobalInterceptors()"])),(l()(),yr(-1,null,[" method of the Nest application instance: "])),(l()(),tt(304,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(305,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(306,null,["",""])),(l()(),tt(307,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The global interceptors are used across the whole application, for every controller and every route handler. In terms of dependency injection, global interceptors registered from the outside of any module (as in the previous example above) cannot inject dependencies since they don't belong to any module. In order to solve this issue, you can set up a guard "])),(l()(),tt(309,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["directly from any module"])),(l()(),yr(-1,null,[" using following construction: "])),(l()(),tt(312,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(313,null,[" "," "])),fr(314,2),(l()(),tt(315,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(316,49152,[["globalScopedInterceptorModuleT",4]],0,Wh,[],null,null),(l()(),tt(317,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(318,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(319,null,["",""])),(l()(),tt(320,0,null,null,14,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(321,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The alternative option is to use an "])),(l()(),tt(324,0,null,null,2,"a",[["routerLink","/execution-context"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,325).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(325,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[" feature. Also, "])),(l()(),tt(328,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" is not the only way of dealing with custom providers registration. Learn more "])),(l()(),tt(331,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,332).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(332,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(335,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Response mapping"])),(l()(),tt(337,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We already know that "])),(l()(),tt(339,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["call$"])),(l()(),yr(-1,null,[" is an "])),(l()(),tt(342,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[". This object contains the value "])),(l()(),tt(345,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["returned"])),(l()(),yr(-1,null,[" from the route handler, and thus we can easily mutate it using the "])),(l()(),tt(348,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["map()"])),(l()(),yr(-1,null,[" operator. "])),(l()(),tt(351,0,null,null,6,"blockquote",[],null,null,null,null,null)),(l()(),tt(352,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" The response mapping feature doesn't work with the library-specific response strategy (using the "])),(l()(),tt(355,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Res()"])),(l()(),yr(-1,null,[" object directly is forbidden). "])),(l()(),tt(358,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's create the "])),(l()(),tt(360,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TransformInterceptor"])),(l()(),yr(-1,null,[" that will take each response and modify it by assigning to the "])),(l()(),tt(363,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" property of the newly created object. "])),(l()(),tt(366,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(367,null,[" "," "])),fr(368,2),(l()(),tt(369,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(370,49152,[["transformInterceptorT",4]],0,Wh,[],null,null),(l()(),tt(371,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(372,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(373,null,["",""])),(l()(),tt(374,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(375,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(376,null,["",""])),(l()(),tt(377,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(378,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Nest interceptors work like a charm with asynchronous "])),(l()(),tt(381,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["intercept()"])),(l()(),yr(-1,null,[" methods, meaning, you can effortlessly switch your method to "])),(l()(),tt(384,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" if necessary. "])),(l()(),tt(387,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, when someone calls the GET "])),(l()(),tt(389,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),yr(-1,null,[" endpoint, the request would look like below (we assumed that route handler returns an empty array "])),(l()(),tt(392,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[]"])),(l()(),yr(-1,null,["): "])),(l()(),tt(395,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(396,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(397,null,["",""])),(l()(),tt(398,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The interceptors have a huge potential when it comes to creating reusable solutions used in whole applications. For example, let's imagine that we need to transform each occurred "])),(l()(),tt(400,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["null"])),(l()(),yr(-1,null,[" value to empty string "])),(l()(),tt(403,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["''"])),(l()(),yr(-1,null,[". We can do it using one line of code and bind interceptor as a global one. Thanks to that, it'll be automatically reused by each registered handler. "])),(l()(),tt(406,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(407,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(408,49152,[["nullTransformInterceptorT",4]],0,Wh,[],null,null),(l()(),tt(409,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(410,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(411,null,["",""])),(l()(),tt(412,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(413,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(414,null,["",""])),(l()(),tt(415,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exception mapping"])),(l()(),tt(417,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Another interesting use-case is to take advantage of the "])),(l()(),tt(419,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catchError()"])),(l()(),yr(-1,null,[" operator to override thrown exceptions: "])),(l()(),tt(422,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(423,null,[" "," "])),fr(424,2),(l()(),tt(425,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(426,49152,[["exceptionMappingT",4]],0,Wh,[],null,null),(l()(),tt(427,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(428,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(429,null,["",""])),(l()(),tt(430,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(431,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(432,null,["",""])),(l()(),tt(433,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Stream overriding"])),(l()(),tt(435,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There're several reasons why sometimes we might want to completely prevent calling the handler and return a different value instead (e.g. from cache due to performance issues). An excellent example is a "])),(l()(),tt(437,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["cache interceptor"])),(l()(),yr(-1,null,[" that would store the cached responses with some TTL. Unfortunately, this feature needs a bit more code and due to simplification, we'll provide only a basic example that should briefly explain the main concept. "])),(l()(),tt(440,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(441,null,[" "," "])),fr(442,2),(l()(),tt(443,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(444,49152,[["cacheInterceptorT",4]],0,Wh,[],null,null),(l()(),tt(445,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(446,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(447,null,["",""])),(l()(),tt(448,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(449,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(450,null,["",""])),(l()(),tt(451,0,null,null,29,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here's a "])),(l()(),tt(453,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheInterceptor"])),(l()(),yr(-1,null,[" with a hardcoded "])),(l()(),tt(456,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["isCached"])),(l()(),yr(-1,null,[" variable and the hardcoded response "])),(l()(),tt(459,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["[]"])),(l()(),yr(-1,null,[" as well. We returned a new stream here, created through the "])),(l()(),tt(462,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["of"])),(l()(),yr(-1,null,[" operator, therefore the route handler "])),(l()(),tt(465,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["won't be called"])),(l()(),yr(-1,null,[" at all. When someone calls endpoint that makes use of "])),(l()(),tt(468,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheInterceptor"])),(l()(),yr(-1,null,[", the response (a hardcoded, empty array) will be returned immedietely. In order to create a generic solution, you can take advantage of "])),(l()(),tt(471,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Reflector"])),(l()(),yr(-1,null,[" and create a custom decorator. The "])),(l()(),tt(474,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Reflector"])),(l()(),yr(-1,null,[" is well described in the "])),(l()(),tt(477,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,478).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(478,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,[" chapter. "])),(l()(),tt(481,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The possibility of returning the stream gives us many possibilities. Let's think about another common use-case. Imagine you would like to handle "])),(l()(),tt(483,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["timeouts"])),(l()(),yr(-1,null,[". When your endpoint doesn't return anything after a period of time, we want to respond with an error response. "])),(l()(),tt(486,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(487,null,[" "," "])),fr(488,2),(l()(),tt(489,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(490,49152,[["timeoutInterceptorT",4]],0,Wh,[],null,null),(l()(),tt(491,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(492,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(493,null,["",""])),(l()(),tt(494,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(495,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(496,null,["",""])),(l()(),tt(497,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" After 5 seconds the request processing will be canceled. "]))],function(l,n){l(n,51,0,"/guards"),l(n,61,0,"/exception-filters"),l(n,248,0,"/guards"),l(n,325,0,"/execution-context"),l(n,332,0,"/fundamentals/dependency-injection"),l(n,478,0,"/guards")},function(l,n){var e=n.component;l(n,50,0,Et(n,51).target,Et(n,51).href),l(n,60,0,Et(n,61).target,Et(n,61).href),l(n,72,0,e.argumentsHost),l(n,103,0,e.executionContext);var u=Ou(n,187,0,l(n,188,0,Et(n,0),"logging.interceptor",Et(n,190).isJsActive));l(n,187,0,u),l(n,191,0,Et(n,190).isJsActive),l(n,193,0,e.loggingInterceptor),l(n,194,0,!Et(n,190).isJsActive),l(n,196,0,e.loggingInterceptorJs),l(n,247,0,Et(n,248).target,Et(n,248).href);var t=Ou(n,252,0,l(n,253,0,Et(n,0),"cats.controller",Et(n,255).isJsActive));l(n,252,0,t),l(n,258,0,e.useLoggingInterceptor),l(n,282,0,e.consoleOutput);var r=Ou(n,289,0,l(n,290,0,Et(n,0),"cats.controller",Et(n,292).isJsActive));l(n,289,0,r),l(n,295,0,e.useLoggingInterceptorWithInstance),l(n,306,0,e.globalInterceptors);var o=Ou(n,313,0,l(n,314,0,Et(n,0),"app.module",Et(n,316).isJsActive));l(n,313,0,o),l(n,319,0,e.globalScopedInterceptorModule),l(n,324,0,Et(n,325).target,Et(n,325).href),l(n,331,0,Et(n,332).target,Et(n,332).href);var a=Ou(n,367,0,l(n,368,0,Et(n,0),"transform.interceptor",Et(n,370).isJsActive));l(n,367,0,a),l(n,371,0,Et(n,370).isJsActive),l(n,373,0,e.transformInterceptor),l(n,374,0,!Et(n,370).isJsActive),l(n,376,0,e.transformInterceptorJs),l(n,397,0,e.dataResponse),l(n,409,0,Et(n,408).isJsActive),l(n,411,0,e.nullTransformInterceptor),l(n,412,0,!Et(n,408).isJsActive),l(n,414,0,e.nullTransformInterceptorJs);var i=Ou(n,423,0,l(n,424,0,Et(n,0),"errors.interceptor",Et(n,426).isJsActive));l(n,423,0,i),l(n,427,0,Et(n,426).isJsActive),l(n,429,0,e.exceptionMapping),l(n,430,0,!Et(n,426).isJsActive),l(n,432,0,e.exceptionMappingJs);var s=Ou(n,441,0,l(n,442,0,Et(n,0),"cache.interceptor",Et(n,444).isJsActive));l(n,441,0,s),l(n,445,0,Et(n,444).isJsActive),l(n,447,0,e.cacheInterceptor),l(n,448,0,!Et(n,444).isJsActive),l(n,450,0,e.cacheInterceptorJs),l(n,477,0,Et(n,478).target,Et(n,478).href);var c=Ou(n,487,0,l(n,488,0,Et(n,0),"timeout.interceptor",Et(n,490).isJsActive));l(n,487,0,c),l(n,491,0,Et(n,490).isJsActive),l(n,493,0,e.timeoutInterceptor),l(n,494,0,!Et(n,490).isJsActive),l(n,496,0,e.timeoutInterceptorJs)})}function Wf(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-interceptors",[],null,null,null,Gf,Bf)),zt(1,8437760,null,0,Uf,[Pe,Gl],null,null)],null,null)}var zf=Ct("app-interceptors",Uf,Wf,{},{},[]),Vf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"userDecorator",{get:function(){return"\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, req) => {\n  return req.user;\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userDecoratorData",{get:function(){return"\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, req) => {\n  console.log(data); // test\n  return req.user;\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerExampleData",{get:function(){return"\n@Get()\nasync findOne(@User('test') user: UserEntity) {\n  console.log(user);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerExampleDataJs",{get:function(){return"\n@Get()\n@Bind(User('test'))\nasync findOne(user) {\n  console.log(user);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerExample",{get:function(){return"\n@Get()\nasync findOne(@User() user: UserEntity) {\n  console.log(user);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerExampleJs",{get:function(){return"\n@Get()\n@Bind(User())\nasync findOne(user) {\n  console.log(user);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pipeExample",{get:function(){return"\n@Get()\nasync findOne(@User(new ValidationPipe()) user: UserEntity) {\n  console.log(user);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pipeExampleJs",{get:function(){return"\n@Get()\n@Bind(User(new ValidationPipe()))\nasync findOne(user) {\n  console.log(user);\n}"},enumerable:!0,configurable:!0}),n}(Kh),Kf=Tu({encapsulation:2,styles:[],data:{}});function Qf(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,184,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom route decorators"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest is built around a language feature called "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["decorators"])),(l()(),yr(-1,null,[". It's a well-known concept in a lot of commonly used programming languages, but in the JavaScript world, it's still relatively new. In order to better understand how the decorators work, you should take a look at "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["this"])),(l()(),yr(-1,null,[" article. Here's a simple definition: "])),(l()(),tt(12,0,null,null,4,"blockquote",[["class","external"]],null,null,null,null,null)),(l()(),yr(-1,null,[" An ES2016 decorator is an expression which returns a function and can take a target, name and property descriptor as arguments. You apply it by prefixing the decorator with an "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@"])),(l()(),yr(-1,null,[" character and placing this at the very top of what you are trying to decorate. Decorators can be defined for either a class or a property. "])),(l()(),tt(17,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest provides a set of useful "])),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["param decorators"])),(l()(),yr(-1,null,[" that you can use together with the HTTP route handlers. Below is a comparison of the decorators with the plain express objects. "])),(l()(),tt(22,0,null,null,69,"table",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,68,"tbody",[],null,null,null,null,null)),(l()(),tt(24,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(25,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Request()"])),(l()(),tt(28,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req"])),(l()(),tt(31,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(33,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Response()"])),(l()(),tt(35,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(36,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["res"])),(l()(),tt(38,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(39,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Next()"])),(l()(),tt(42,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["next"])),(l()(),tt(45,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Session()"])),(l()(),tt(49,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.session"])),(l()(),tt(52,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(53,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Param(param?: string)"])),(l()(),tt(56,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(57,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.params"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.params[param]"])),(l()(),tt(62,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(63,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body(param?: string)"])),(l()(),tt(66,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.body"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.body[param]"])),(l()(),tt(72,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(73,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query(param?: string)"])),(l()(),tt(76,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.query"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.query[param]"])),(l()(),tt(82,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(83,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Headers(param?: string)"])),(l()(),tt(86,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.headers"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.headers[param]"])),(l()(),tt(92,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Additionally, you can create your own, "])),(l()(),tt(94,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["custom decorator"])),(l()(),yr(-1,null,[". Why it is useful? "])),(l()(),tt(97,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the node.js world, it's a common practice to attach properties to the "])),(l()(),tt(99,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" object. Then you have to manually grab them every time in the route handlers, for example, using following construction: "])),(l()(),tt(102,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(103,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\nconst user = req.user;"])),(l()(),tt(105,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to make it more readable and transparent, we can create a "])),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@User()"])),(l()(),yr(-1,null,[" decorator and reuse it across all existing controllers. "])),(l()(),tt(110,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(111,null,[" "," "])),fr(112,2),(l()(),tt(113,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(114,49152,[["userDecoratorT",4]],0,Wh,[],null,null),(l()(),tt(115,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(116,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(117,null,["",""])),(l()(),tt(118,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, you can simply use it wherever it fits your requirements. "])),(l()(),tt(120,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(121,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(122,49152,[["controllerExampleT",4]],0,Wh,[],null,null),(l()(),tt(123,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(124,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(125,null,["",""])),(l()(),tt(126,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(127,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(128,null,["",""])),(l()(),tt(129,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Passing data"])),(l()(),tt(131,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When the behavior of your decorator depends on some conditions, you may use the "])),(l()(),tt(133,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" param to pass an argument to the decorator's factory function. For example, the construction below: "])),(l()(),tt(136,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(137,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(138,49152,[["controllerExampleDataT",4]],0,Wh,[],null,null),(l()(),tt(139,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(140,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(141,null,["",""])),(l()(),tt(142,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(143,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(144,null,["",""])),(l()(),tt(145,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Will make possible to access the "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["test"])),(l()(),yr(-1,null,[" string via the "])),(l()(),tt(150,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" argument: "])),(l()(),tt(153,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(154,null,[" "," "])),fr(155,2),(l()(),tt(156,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(157,49152,[["userDecoratorDataT",4]],0,Wh,[],null,null),(l()(),tt(158,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(159,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(160,null,["",""])),(l()(),tt(161,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Working with pipes"])),(l()(),tt(163,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest treats custom param decorators in the same fashion as the built-in ones ("])),(l()(),tt(165,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Param()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(171,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query()"])),(l()(),yr(-1,null,["). It means that pipes are executed for the custom annotated parameters as well (in this case, for the "])),(l()(),tt(174,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["user"])),(l()(),yr(-1,null,[" argument). Moreover, you can apply the pipe directly to the custom decorator: "])),(l()(),tt(177,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(178,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(179,49152,[["pipeExampleT",4]],0,Wh,[],null,null),(l()(),tt(180,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(181,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(182,null,["",""])),(l()(),tt(183,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(184,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(185,null,["",""]))],null,function(l,n){var e=n.component,u=Ou(n,111,0,l(n,112,0,Et(n,0),"user.decorator",Et(n,114).isJsActive));l(n,111,0,u),l(n,117,0,e.userDecorator),l(n,123,0,Et(n,122).isJsActive),l(n,125,0,e.controllerExample),l(n,126,0,!Et(n,122).isJsActive),l(n,128,0,e.controllerExampleJs),l(n,139,0,Et(n,138).isJsActive),l(n,141,0,e.controllerExampleData),l(n,142,0,!Et(n,138).isJsActive),l(n,144,0,e.controllerExampleDataJs);var t=Ou(n,154,0,l(n,155,0,Et(n,0),"user.decorator",Et(n,157).isJsActive));l(n,154,0,t),l(n,160,0,e.userDecoratorData),l(n,180,0,Et(n,179).isJsActive),l(n,182,0,e.pipeExample),l(n,183,0,!Et(n,179).isJsActive),l(n,185,0,e.pipeExampleJs)})}function $f(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-custom-decorators",[],null,null,null,Qf,Kf)),zt(1,8437760,null,0,Vf,[Pe,Gl],null,null)],null,null)}var Yf=Ct("app-custom-decorators",Vf,$f,{},{},[]),Xf=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"useValue",{get:function(){return"\nimport { connection } from './connection';\n\nconst connectionProvider = {\n  provide: 'Connection',\n  useValue: connection,\n};\n\n@Module({\n  providers: [connectionProvider],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"override",{get:function(){return"\nimport { CatsService } from './cats.service';\n\nconst mockCatsService = {};\nconst catsServiceProvider = {\n  provide: CatsService,\n  useValue: mockCatsService,\n};\n\n@Module({\n  imports: [CatsModule],\n  providers: [catsServiceProvider],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useFactory",{get:function(){return"\nconst connectionFactory = {\n  provide: 'Connection',\n  useFactory: (optionsProvider: OptionsProvider) => {\n    const options = optionsProvider.get();\n    return new DatabaseConnection(options);\n  },\n  inject: [OptionsProvider],\n};\n\n@Module({\n  providers: [connectionFactory],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useFactoryJs",{get:function(){return"\nconst connectionFactory = {\n  provide: 'Connection',\n  useFactory: (optionsProvider) => {\n    const options = optionsProvider.get();\n    return new DatabaseConnection(options);\n  },\n  inject: [OptionsProvider],\n};\n\n@Module({\n  providers: [connectionFactory],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useClass",{get:function(){return"\nconst configServiceProvider = {\n  provide: ConfigService,\n  useClass: process.env.NODE_ENV === 'development'\n    ? DevelopmentConfigService\n    : ProductionConfigService,\n};\n\n@Module({\n  providers: [configServiceProvider],\n})\nexport class ApplicationModule {}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inject",{get:function(){return"\n@Injectable()\nclass CatsRepository {\n  constructor(@Inject('Connection') connection: Connection) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injectJs",{get:function(){return"\n@Injectable()\n@Dependencies('Connection')\nclass CatsRepository {\n  constructor(connection) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useFactoryExports",{get:function(){return"\nconst connectionFactory = {\n  provide: 'Connection',\n  useFactory: (optionsProvider: OptionsProvider) => {\n    const options = optionsProvider.get();\n    return new DatabaseConnection(options);\n  },\n  inject: [OptionsProvider],\n};\n\n@Module({\n  providers: [connectionFactory],\n  exports: ['Connection'],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useFactoryExportsJs",{get:function(){return"\nconst connectionFactory = {\n  provide: 'Connection',\n  useFactory: (optionsProvider) => {\n    const options = optionsProvider.get();\n    return new DatabaseConnection(options);\n  },\n  inject: [OptionsProvider],\n};\n\n@Module({\n  providers: [connectionFactory],\n  exports: ['Connection'],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useFactoryExportsObject",{get:function(){return"\nconst connectionFactory = {\n  provide: 'Connection',\n  useFactory: (optionsProvider: OptionsProvider) => {\n    const options = optionsProvider.get();\n    return new DatabaseConnection(options);\n  },\n  inject: [OptionsProvider],\n};\n\n@Module({\n  providers: [connectionFactory],\n  exports: [connectionFactory],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useFactoryExportsObjectJs",{get:function(){return"\nconst connectionFactory = {\n  provide: 'Connection',\n  useFactory: (optionsProvider) => {\n    const options = optionsProvider.get();\n    return new DatabaseConnection(options);\n  },\n  inject: [OptionsProvider],\n};\n\n@Module({\n  providers: [connectionFactory],\n  exports: [connectionFactory],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),n}(Kh),Zf=Tu({encapsulation:2,styles:[],data:{}});function lm(l){return wr(2,[(l()(),tt(0,0,null,null,161,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom providers"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are a lot of scenarios when you might want to bind something "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["directly"])),(l()(),yr(-1,null,[" to the Nest inversion of control container. For example, any constant values, configuration objects created based on the current environment, external libraries, or pre-calculated values that depends on few other defined providers. Moreover, you are able to override default implementations, e.g. use different classes or make use of various test doubles (for testing purposes) when needed. "])),(l()(),tt(8,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" One essential thing that you should always keep in mind is that Nest uses "])),(l()(),tt(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["tokens"])),(l()(),yr(-1,null,[" to identify dependencies. Usually, the auto-generated tokens are equal to classes. If you want to create a custom provider, you'd need to choose a token. Mostly, the custom tokens are represented by plain strings. Following best practices, you should hold those tokens in the separated file, for example, inside "])),(l()(),tt(13,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constants.ts"])),(l()(),yr(-1,null,[". "])),(l()(),tt(16,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's go through the available options. "])),(l()(),tt(18,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Use value"])),(l()(),tt(20,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useValue"])),(l()(),yr(-1,null,[" syntax is useful when it comes to either define a constant value, put external library into Nest container, or replace a real implementation with the mock object. "])),(l()(),tt(25,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(26,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(27,null,["",""])),(l()(),tt(28,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to inject custom provider, we use the "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator. This decorator takes a single argument - the token. "])),(l()(),tt(33,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(35,49152,[["injectT",4]],0,Wh,[],null,null),(l()(),tt(36,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(37,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(38,null,["",""])),(l()(),tt(39,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(40,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(41,null,["",""])),(l()(),tt(42,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator is imported from "])),(l()(),tt(49,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(52,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When you want to override a default provider's value, let's say, you'd like to force Nest to use a mock "])),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" due to testing purposes, you can simply use an existing class as a token. "])),(l()(),tt(57,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(58,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(59,null,["",""])),(l()(),tt(60,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In above example, the "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" will be overridden by a passed "])),(l()(),tt(65,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mockCatsService"])),(l()(),yr(-1,null,[" mock object. It means, that Nest instead of creating "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" instance manually, will treat this provider as resolved already, and use "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mockCatsService"])),(l()(),yr(-1,null,[" as its representative value. "])),(l()(),tt(74,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Use class"])),(l()(),tt(76,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(78,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" syntax allows you using different class per chosen factors. For example, we have an abstract (or default) "])),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" class. Depending on the current environment, Nest should use a different implementation of the configuration service. "])),(l()(),tt(84,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(85,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(86,null,["",""])),(l()(),tt(87,0,null,null,6,"blockquote",[],null,null,null,null,null)),(l()(),tt(88,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" Instead of a custom token, we have used the "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" class, and therefore we have overridden the default implementation. "])),(l()(),tt(94,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In this case, even if any class depends on "])),(l()(),tt(96,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[", Nest will inject an instance of the provided class ("])),(l()(),tt(99,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DevelopmentConfigService"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(102,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ProductionConfigService"])),(l()(),yr(-1,null,[") instead. "])),(l()(),tt(105,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Use factory"])),(l()(),tt(107,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(109,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useFactory"])),(l()(),yr(-1,null,[" is a way of creating providers "])),(l()(),tt(112,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["dynamically"])),(l()(),yr(-1,null,[". The actual provider will be equal to a returned value of the factory function. The factory function can either depend on several different providers or stay completely independent. It means that factory may accept arguments, that Nest will resolve and pass during the instantiation process. Additionally, this function can return value "])),(l()(),tt(115,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronously"])),(l()(),yr(-1,null,[". It's explained in more detail "])),(l()(),tt(118,0,null,null,2,"a",[["routerLink","/fundamentals/async-providers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,119).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(119,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". Use it when your provider has to be dynamically calculated or in case to resolve an asynchronous operation. "])),(l()(),tt(122,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(123,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(124,49152,[["useFactoryT",4]],0,Wh,[],null,null),(l()(),tt(125,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(126,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(127,null,["",""])),(l()(),tt(128,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(129,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(130,null,["",""])),(l()(),tt(131,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(132,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" If your factory needs other providers, you have to pass their tokens inside the "])),(l()(),tt(135,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,[" array. Nest will pass instances as arguments of the function in the same order. "])),(l()(),tt(138,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Export custom provider"])),(l()(),tt(140,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to export a custom provider, we can either use a token or a whole object. The following example shows a token case: "])),(l()(),tt(142,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(143,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(144,49152,[["useFactoryExportsT",4]],0,Wh,[],null,null),(l()(),tt(145,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(146,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(147,null,["",""])),(l()(),tt(148,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(149,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(150,null,["",""])),(l()(),tt(151,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But you can use a whole object as well: "])),(l()(),tt(153,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(154,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(155,49152,[["useFactoryExportsObjectT",4]],0,Wh,[],null,null),(l()(),tt(156,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(157,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(158,null,["",""])),(l()(),tt(159,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(160,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(161,null,["",""]))],function(l,n){l(n,119,0,"/fundamentals/async-providers")},function(l,n){var e=n.component;l(n,27,0,e.useValue),l(n,36,0,Et(n,35).isJsActive),l(n,38,0,e.inject),l(n,39,0,!Et(n,35).isJsActive),l(n,41,0,e.injectJs),l(n,59,0,e.override),l(n,86,0,e.useClass),l(n,118,0,Et(n,119).target,Et(n,119).href),l(n,125,0,Et(n,124).isJsActive),l(n,127,0,e.useFactory),l(n,128,0,!Et(n,124).isJsActive),l(n,130,0,e.useFactoryJs),l(n,145,0,Et(n,144).isJsActive),l(n,147,0,e.useFactoryExports),l(n,148,0,!Et(n,144).isJsActive),l(n,150,0,e.useFactoryExportsJs),l(n,156,0,Et(n,155).isJsActive),l(n,158,0,e.useFactoryExportsObject),l(n,159,0,!Et(n,155).isJsActive),l(n,161,0,e.useFactoryExportsObjectJs)})}function nm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-dependency-injection",[],null,null,null,lm,Zf)),zt(1,8437760,null,0,Xf,[Pe,Gl],null,null)],null,null)}var em=Ct("app-dependency-injection",Xf,nm,{},{},[]),um=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n}(Kh),tm=Tu({encapsulation:0,styles:[[""]],data:{}});function rm(l){return wr(2,[(l()(),tt(0,0,null,null,30,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Platform agnosticism"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The whole point of Nest is staying as a platform-agnostic framework. A platform independence makes possible creating "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["reusable logical parts"])),(l()(),yr(-1,null,[", that people can take advantage of across several different types of applications. A framework's architecture is focused on being applicable to any kind of server-side solution. "])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Build once, use everywhere"])),(l()(),tt(10,0,null,null,18,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" An "])),(l()(),tt(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["overview"])),(l()(),yr(-1,null,[" category is mostly referring to HTTP server (REST APIs). However, all those building blocks can be easily used in different transport layers ("])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["microservices"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(18,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["websockets"])),(l()(),yr(-1,null,[" packages). Furthermore, Nest comes with a dedicated "])),(l()(),tt(21,0,null,null,2,"a",[["routerLink","/graphql/quick-start"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,22).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(22,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["GraphQL"])),(l()(),yr(-1,null,[" module. Last but not least, an "])),(l()(),tt(25,0,null,null,2,"a",[["routerLink","/execution-context"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,26).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(26,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[" feature helps to create everything that runs on Node.js on top of Nest. "])),(l()(),tt(29,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest inspires to be a fully-fledged platform, that brings a higher-level of reusability for your applications. Build once, use everywhere! "]))],function(l,n){l(n,22,0,"/graphql/quick-start"),l(n,26,0,"/execution-context")},function(l,n){l(n,21,0,Et(n,22).target,Et(n,22).href),l(n,25,0,Et(n,26).target,Et(n,26).href)})}function om(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-platform-agnosticism",[],null,null,null,rm,tm)),zt(1,8437760,null,0,um,[Pe,Gl],null,null)],null,null)}var am=Ct("app-platform-agnosticism",um,om,{},{},[]),im=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"asyncComponent",{get:function(){return"\n{\n  provide: 'AsyncDbConnection',\n  useFactory: async () => {\n    const connection = await createConnection(options);\n    return connection;\n  },\n},"},enumerable:!0,configurable:!0}),n}(Kh),sm=Tu({encapsulation:2,styles:[],data:{}});function cm(l){return wr(2,[(l()(),tt(0,0,null,null,46,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Asynchronous providers"])),(l()(),tt(3,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When the application start has to be delayed until some "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous tasks"])),(l()(),yr(-1,null,[" will be finished, for example, until the connection with the database will be established, you should consider using asynchronous providers. In order to create an "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" provider, we use the "])),(l()(),tt(11,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useFactory"])),(l()(),yr(-1,null,[". The factory has to return a "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[" (thus "])),(l()(),tt(17,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" functions fit as well). "])),(l()(),tt(20,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(21,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(22,null,["",""])),(l()(),tt(23,0,null,null,7,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(24,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Learn more about the custom providers syntax "])),(l()(),tt(27,0,null,null,2,"a",[["routerLink","/fundamentals/custom-providers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,28).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(28,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(31,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Injection"])),(l()(),tt(33,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The asynchronous providers can be simply injected to other components by their tokens (in the above case, by the "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AsyncDbConnection"])),(l()(),yr(-1,null,[" token). Each class that depends on the asynchronous provider will be instantiated once the async provider is "])),(l()(),tt(38,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["already resolved"])),(l()(),yr(-1,null,[". "])),(l()(),tt(41,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The above example is for demonstration purposes. If you're looking for more detailed one, "])),(l()(),tt(43,0,null,null,2,"a",[["routerLink","/recipes/sql-typeorm"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,44).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(44,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["see here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,28,0,"/fundamentals/custom-providers"),l(n,44,0,"/recipes/sql-typeorm")},function(l,n){l(n,22,0,n.component.asyncComponent),l(n,27,0,Et(n,28).target,Et(n,28).href),l(n,43,0,Et(n,44).target,Et(n,44).href)})}function pm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-async-components",[],null,null,null,cm,sm)),zt(1,8437760,null,0,im,[Pe,Gl],null,null)],null,null)}var dm=Ct("app-async-components",im,pm,{},{},[]),hm=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"coreModule",{get:function(){return"\n@Module({\n  imports: [CommonModule],\n  components: [CoreService, ContextService],\n})\nexport class CoreModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commonModule",{get:function(){return"\n@Module({\n  components: [CommonService],\n  exports: [CommonService],\n})\nexport class CommonModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contextService",{get:function(){return"\n@Component()\nexport class ContextService {\n  constructor(private readonly commonService: CommonService) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contextServiceJs",{get:function(){return"\n@Component()\n@Dependencies(CommonService)\nexport class ContextService {\n  constructor(commonService) {\n    this.commonService = commonService;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commonService",{get:function(){return"\n@Component()\nexport class CommonService {\n  constructor(private readonly coreService: CoreService) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"commonServiceJs",{get:function(){return"\n@Component()\n@Dependencies(CoreService)\nexport class CommonService {\n  constructor(coreService) {\n    this.coreService = coreService;\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),fm=Tu({encapsulation:2,styles:[],data:{}});function mm(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,120,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hierarchical Injector"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The Nest injector is "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["hierarchical"])),(l()(),yr(-1,null,[". To understand this useful treat, you first have to get acquainted with the process of creating the class instance. When any class depends on the other class, the injector's trying to find the appropriate instance in the current "])),(l()(),tt(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["scope"])),(l()(),yr(-1,null,[". The current scope isn't always the module to which the class belongs to. "])),(l()(),tt(12,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's consider an example. We've a "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CoreModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(17,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(18,null,[" "," "])),fr(19,2),(l()(),tt(20,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(21,49152,[["coreModuleT",4]],0,Wh,[],null,null),(l()(),tt(22,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(24,null,["",""])),(l()(),tt(25,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This module imports the "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonModule"])),(l()(),yr(-1,null,[" and contains 2 components, successively "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CoreService"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(33,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ContextService"])),(l()(),yr(-1,null,[". The "])),(l()(),tt(36,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonModule"])),(l()(),yr(-1,null,[" contains single component, the "])),(l()(),tt(39,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[". This component is exported, so it's available within "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CoreModule"])),(l()(),yr(-1,null,[" as well. "])),(l()(),tt(45,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(46,null,[" "," "])),fr(47,2),(l()(),tt(48,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(49,49152,[["commonModuleT",4]],0,Wh,[],null,null),(l()(),tt(50,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(51,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(52,null,["",""])),(l()(),tt(53,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's take a look at "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ContextService"])),(l()(),yr(-1,null,[" now: "])),(l()(),tt(58,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(59,null,[" "," "])),fr(60,2),(l()(),tt(61,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(62,49152,[["contextServiceT",4]],0,Wh,[],null,null),(l()(),tt(63,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(64,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(65,null,["",""])),(l()(),tt(66,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(67,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(68,null,["",""])),(l()(),tt(69,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This class depends on the "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[". This service's imported from the child module ("])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonModule"])),(l()(),yr(-1,null,["), so it's a typical situation. Now something that may turn out to be surprising, the "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[": "])),(l()(),tt(80,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(81,null,[" "," "])),fr(82,2),(l()(),tt(83,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(84,49152,[["commonServiceT",4]],0,Wh,[],null,null),(l()(),tt(85,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(86,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(87,null,["",""])),(l()(),tt(88,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(89,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(90,null,["",""])),(l()(),tt(91,0,null,null,15,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(93,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[" depends on the "])),(l()(),tt(96,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CoreService"])),(l()(),yr(-1,null,[". It's possible, because the "])),(l()(),tt(99,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[" instance was resolved within the "])),(l()(),tt(102,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CoreModule"])),(l()(),tt(104,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["context"])),(l()(),yr(-1,null,[" (was injected by the component, which belongs to the parent module). "])),(l()(),tt(107,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Motivation"])),(l()(),tt(109,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This technique makes possible to create reusable modules using "])),(l()(),tt(111,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["boundless abstraction"])),(l()(),yr(-1,null,[". Moreover, it allows overriding every component from the imported module using "])),(l()(),tt(114,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,115).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(115,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom components"])),(l()(),yr(-1,null,[" feature. For example, you can create a default implementation of the class inside the feature module, but then overload it inside the currently processed context. "])),(l()(),tt(118,0,null,null,3,"blockquote",[],null,null,null,null,null)),(l()(),tt(119,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" This technique is powerful, but also very dangerous. Be careful whenever you're gonna use this feature, and make sure that you exactly know what you're doing. "]))],function(l,n){l(n,115,0,"/fundamentals/dependency-injection")},function(l,n){var e=n.component,u=Ou(n,18,0,l(n,19,0,Et(n,0),"core.module",Et(n,21).isJsActive));l(n,18,0,u),l(n,24,0,e.coreModule);var t=Ou(n,46,0,l(n,47,0,Et(n,0),"common.module",Et(n,49).isJsActive));l(n,46,0,t),l(n,52,0,e.commonModule);var r=Ou(n,59,0,l(n,60,0,Et(n,0),"core/context.service",Et(n,62).isJsActive));l(n,59,0,r),l(n,63,0,Et(n,62).isJsActive),l(n,65,0,e.contextService),l(n,66,0,!Et(n,62).isJsActive),l(n,68,0,e.contextServiceJs);var o=Ou(n,81,0,l(n,82,0,Et(n,0),"common/common.service",Et(n,84).isJsActive));l(n,81,0,o),l(n,85,0,Et(n,84).isJsActive),l(n,87,0,e.commonService),l(n,88,0,!Et(n,84).isJsActive),l(n,90,0,e.commonServiceJs),l(n,114,0,Et(n,115).target,Et(n,115).href)})}function gm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-hierarchical-injector",[],null,null,null,mm,fm)),zt(1,8437760,null,0,hm,[Pe,Gl],null,null)],null,null)}var ym=Ct("app-hierarchical-injector",hm,gm,{},{},[]),bm=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"nonStrictMode",{get:function(){return"\nthis.moduleRef.get(Service, { strict: false });"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"moduleRef",{get:function(){return"\n@Injectable()\nexport class CatsService implements OnModuleInit {\n  private service: Service;\n  constructor(private readonly moduleRef: ModuleRef) {}\n\n  onModuleInit() {\n    this.service = this.moduleRef.get(Service);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"moduleRefJs",{get:function(){return"\n@Injectable()\n@Dependencies(ModuleRef)\nexport class CatsService {\n  constructor(moduleRef) {\n    this.moduleRef = moduleRef;\n  }\n\n  onModuleInit() {\n    this.service = this.moduleRef.get(Service);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"proxy",{get:function(){return"\n@Injectable()\nexport class Proxy {\n  private readonly subject: Subject<any>;\n\n  get stream$(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n  publish(event) {\n    this.subject.next(event);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forwardRef",{get:function(){return"\n@Injectable()\nexport class CatsService {\n  constructor(\n    @Inject(forwardRef(() => CommonService))\n    private readonly commonService: CommonService,\n  ) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forwardRefJs",{get:function(){return"\n@Injectable()\n@Dependencies(forwardRef(() => CommonService))\nexport class CatsService {\n  constructor(commonService) {\n    this.commonService = commonService;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forwardRefCommon",{get:function(){return"\n@Injectable()\nexport class CommonService {\n  constructor(\n    @Inject(forwardRef(() => CatsService))\n    private readonly catsService: CatsService,\n  ) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forwardRefCommonJs",{get:function(){return"\n@Injectable()\n@Dependencies(forwardRef(() => CatsService))\nexport class CommonService {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forwardRefModule",{get:function(){return"\n@Module({\n  imports: [forwardRef(() => CatsModule)],\n})\nexport class CommonModule {}"},enumerable:!0,configurable:!0}),n}(Kh),vm=Tu({encapsulation:2,styles:[],data:{}});function wm(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,116,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Circular dependency"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The circular dependency occurs when for example, class A needs class B, and class B needs class A as well. Nest permits creating "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["circular dependencies"])),(l()(),yr(-1,null,[" between both providers and modules, but we advise you to avoid whenever it's possible. Sometimes it's really difficult to avoid this kind of the relationships, that's why we have provided some ways to deal with this issue. "])),(l()(),tt(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Forward reference"])),(l()(),tt(11,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(13,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["forward reference"])),(l()(),yr(-1,null,[" allows Nest referring to references which aren't defined so far. When "])),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[" depend on each other, both sides of the relationship need to use "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forwardRef()"])),(l()(),yr(-1,null,[" utility, otherwise Nest won't instantiate them because all of the essential metadata won't be available. Let's see the following snippet: "])),(l()(),tt(28,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(29,null,[" "," "])),fr(30,2),(l()(),tt(31,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(32,49152,[["forwardRefT",4]],0,Wh,[],null,null),(l()(),tt(33,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(34,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(35,null,["",""])),(l()(),tt(36,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(37,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(38,null,["",""])),(l()(),tt(39,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(40,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forwardRef()"])),(l()(),yr(-1,null,[" function is imported from the "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(49,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here's the first side of the relationship. Now let's do the same with the "])),(l()(),tt(51,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommonService"])),(l()(),yr(-1,null,[": "])),(l()(),tt(54,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(55,null,[" "," "])),fr(56,2),(l()(),tt(57,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(58,49152,[["forwardRefCommonT",4]],0,Wh,[],null,null),(l()(),tt(59,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(60,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(61,null,["",""])),(l()(),tt(62,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(63,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(64,null,["",""])),(l()(),tt(65,0,null,null,3,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(66,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" You don't have a guarantee which constructor will be called first. "])),(l()(),tt(69,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create circular dependencies between modules you have to use the same "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forwardRef()"])),(l()(),yr(-1,null,[" utility on both parts of the modules association: "])),(l()(),tt(74,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(75,null,[" "," "])),fr(76,2),(l()(),tt(77,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(78,49152,[["forwardRefModuleT",4]],0,Wh,[],null,null),(l()(),tt(79,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(81,null,["",""])),(l()(),tt(82,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Module reference"])),(l()(),tt(84,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest provides the "])),(l()(),tt(86,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ModuleRef"])),(l()(),yr(-1,null,[" class that can be simply injected into any component. "])),(l()(),tt(89,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(90,null,[" "," "])),fr(91,2),(l()(),tt(92,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(93,49152,[["moduleRefT",4]],0,Wh,[],null,null),(l()(),tt(94,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(95,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(96,null,["",""])),(l()(),tt(97,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(98,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(99,null,["",""])),(l()(),tt(100,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(101,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ModuleRef"])),(l()(),yr(-1,null,[" class is imported from the "])),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/core"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(110,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The module reference has a "])),(l()(),tt(112,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),yr(-1,null,[" method which allows retrieving a provider available in the current module. Additionally, you can switch to a non-strict mode, which enables you to pick any existing provider across the whole app. "])),(l()(),tt(115,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(116,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(117,null,["",""]))],null,function(l,n){var e=n.component,u=Ou(n,29,0,l(n,30,0,Et(n,0),"cats.service",Et(n,32).isJsActive));l(n,29,0,u),l(n,33,0,Et(n,32).isJsActive),l(n,35,0,e.forwardRef),l(n,36,0,!Et(n,32).isJsActive),l(n,38,0,e.forwardRefJs);var t=Ou(n,55,0,l(n,56,0,Et(n,0),"common.service",Et(n,58).isJsActive));l(n,55,0,t),l(n,59,0,Et(n,58).isJsActive),l(n,61,0,e.forwardRefCommon),l(n,62,0,!Et(n,58).isJsActive),l(n,64,0,e.forwardRefCommonJs);var r=Ou(n,75,0,l(n,76,0,Et(n,0),"common.module",Et(n,78).isJsActive));l(n,75,0,r),l(n,81,0,e.forwardRefModule);var o=Ou(n,90,0,l(n,91,0,Et(n,0),"cats.service",Et(n,93).isJsActive));l(n,90,0,o),l(n,94,0,Et(n,93).isJsActive),l(n,96,0,e.moduleRef),l(n,97,0,!Et(n,93).isJsActive),l(n,99,0,e.moduleRefJs),l(n,117,0,e.nonStrictMode)})}function xm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-circular-dependency",[],null,null,null,wm,vm)),zt(1,8437760,null,0,bm,[Pe,Gl],null,null)],null,null)}var Cm=Ct("app-circular-dependency",bm,xm,{},{},[]),km=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"isolatedTests",{get:function(){return"\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\ndescribe('CatsController', () => {\n  let catsController: CatsController;\n  let catsService: CatsService;\n\n  beforeEach(() => {\n    catsService = new CatsService();\n    catsController = new CatsController(catsService);\n  });\n\n  describe('findAll', () => {\n    it('should return an array of cats', async () => {\n      const result = ['test'];\n      jest.spyOn(catsService, 'findAll').mockImplementation(() => result);\n\n      expect(await catsController.findAll()).toBe(result);\n    });\n  });\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isolatedTestsJs",{get:function(){return"\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\ndescribe('CatsController', () => {\n  let catsController;\n  let catsService;\n\n  beforeEach(() => {\n    catsService = new CatsService();\n    catsController = new CatsController(catsService);\n  });\n\n  describe('findAll', () => {\n    it('should return an array of cats', async () => {\n      const result = ['test'];\n      jest.spyOn(catsService, 'findAll').mockImplementation(() => result);\n\n      expect(await catsController.findAll()).toBe(result);\n    });\n  });\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"utils",{get:function(){return"\nimport { Test } from '@nestjs/testing';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\ndescribe('CatsController', () => {\n  let catsController: CatsController;\n  let catsService: CatsService;\n\n  beforeEach(async () => {\n    const module = await Test.createTestingModule({\n        controllers: [CatsController],\n        providers: [CatsService],\n      }).compile();\n\n    catsService = module.get<CatsService>(CatsService);\n    catsController = module.get<CatsController>(CatsController);\n  });\n\n  describe('findAll', () => {\n    it('should return an array of cats', async () => {\n      const result = ['test'];\n      jest.spyOn(catsService, 'findAll').mockImplementation(() => result);\n\n      expect(await catsController.findAll()).toBe(result);\n    });\n  });\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"utilsJs",{get:function(){return"\nimport { Test } from '@nestjs/testing';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\ndescribe('CatsController', () => {\n  let catsController;\n  let catsService;\n\n  beforeEach(async () => {\n    const module = await Test.createTestingModule({\n        controllers: [CatsController],\n        providers: [CatsService],\n      }).compile();\n\n    catsService = module.get(CatsService);\n    catsController = module.get(CatsController);\n  });\n\n  describe('findAll', () => {\n    it('should return an array of cats', async () => {\n      const result = ['test'];\n      jest.spyOn(catsService, 'findAll').mockImplementation(() => result);\n\n      expect(await catsController.findAll()).toBe(result);\n    });\n  });\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"e2eTests",{get:function(){return"\nimport * as request from 'supertest';\nimport { Test } from '@nestjs/testing';\nimport { CatsModule } from '../../src/cats/cats.module';\nimport { CatsService } from '../../src/cats/cats.service';\nimport { INestApplication } from '@nestjs/common';\n\ndescribe('Cats', () => {\n  let app: INestApplication;\n  let catsService = { findAll: () => ['test'] };\n\n  beforeAll(async () => {\n    const module = await Test.createTestingModule({\n      imports: [CatsModule],\n    })\n      .overrideProvider(CatsService)\n      .useValue(catsService)\n      .compile();\n\n    app = module.createNestApplication();\n    await app.init();\n  });\n\n  it(`/GET cats`, () => {\n    return request(app.getHttpServer())\n      .get('/cats')\n      .expect(200)\n      .expect({\n        data: catsService.findAll(),\n      });\n  });\n\n  afterAll(async () => {\n    await app.close();\n  });\n});"},enumerable:!0,configurable:!0}),n}(Kh),jm=Tu({encapsulation:2,styles:[],data:{}});function Om(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,219,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Testing"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Automatic tests are an essential part of the fully functional "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["software product"])),(l()(),yr(-1,null,[". That is very critical to cover at least the most sensitive parts of your system. In order to achieve that goal, we produce a set of different tests like integration tests, unit tests, e2e tests, and so on. And Nest provides a bunch of test utilities that improves testing experience. "])),(l()(),tt(9,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In general, you can use any "])),(l()(),tt(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["testing framework"])),(l()(),yr(-1,null,[" that you enjoy working with. We don't enforce tooling, choose whatever fits your requirements. The main Nest application starter is integrated with "])),(l()(),tt(14,0,null,null,1,"a",[["href","https://github.com/facebook/jest"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Jest"])),(l()(),yr(-1,null,[" framework to reduce an amount of overhead when it comes to start writing your tests, but still, you can get rid of it and use any other tool easily. "])),(l()(),tt(17,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(19,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install the required package: "])),(l()(),tt(21,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(22,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save-dev @nestjs/testing"])),(l()(),tt(24,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Unit testing"])),(l()(),tt(26,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the following example, we have two different classes, "])),(l()(),tt(28,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsController"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(31,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" respectively. As mentioned before, "])),(l()(),tt(34,0,null,null,1,"a",[["href","https://github.com/facebook/jest"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Jest"])),(l()(),yr(-1,null,[" is used as a fully-fledged testing framework. That framework behaves like a test-runner and also, provides assert functions and test-doubles utilities that helps with mocking, spying, etc. We have manually enforced "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catsService.findAll()"])),(l()(),yr(-1,null,[" method to return "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["result"])),(l()(),yr(-1,null,[" variable, once it's called. Thanks to that, we can test whether "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catsController.findAll()"])),(l()(),yr(-1,null,[" returns expected result, or not. "])),(l()(),tt(46,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(47,null,[" "," "])),fr(48,2),(l()(),tt(49,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(50,49152,[["isolatedTestsT",4]],0,Wh,[],null,null),(l()(),tt(51,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(52,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(53,null,["",""])),(l()(),tt(54,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(55,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(56,null,["",""])),(l()(),tt(57,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(58,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Keep your test files nearby tested classes. The testing files should have a "])),(l()(),tt(61,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".spec"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".test"])),(l()(),yr(-1,null,[" suffix. "])),(l()(),tt(67,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We didn't make use of any existing Nest testing utility so far. Since we have manually taken care of instantiating tested classes, above test suite has nothing to do with Nest. This type of testing is called "])),(l()(),tt(69,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["isolated tests"])),(l()(),yr(-1,null,[". "])),(l()(),tt(72,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Testing utilities"])),(l()(),tt(74,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(76,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/testing"])),(l()(),yr(-1,null,[" package gives us a set of utilities that boost the testing process. Let's rewrite the previous example, but now, using exposed "])),(l()(),tt(79,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Test"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(82,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(83,null,[" "," "])),fr(84,2),(l()(),tt(85,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(86,49152,[["utilsT",4]],0,Wh,[],null,null),(l()(),tt(87,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(88,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(89,null,["",""])),(l()(),tt(90,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(91,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(92,null,["",""])),(l()(),tt(93,0,null,null,21,"p",[],null,null,null,null,null)),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Test"])),(l()(),yr(-1,null,[" class has a "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createTestingModule()"])),(l()(),yr(-1,null,[" method that takes a module metadata (the same object as this one passed in "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator) as an argument. This method creates a "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TestingModule"])),(l()(),yr(-1,null,[" instance which in turn provides a few methods, but only one of them is useful when it comes to unit tests - the "])),(l()(),tt(106,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["compile()"])),(l()(),yr(-1,null,[". This function is "])),(l()(),tt(109,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[", therefore it has to be awaited. Once module is compiled, you can retrieve any instance using "])),(l()(),tt(112,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(115,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to mock a real instance, you can override existing provider with a "])),(l()(),tt(117,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,118).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(118,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom provider"])),(l()(),yr(-1,null,[". "])),(l()(),tt(121,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["End-to-end testing"])),(l()(),tt(123,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When the application grows, it is difficult to manually test a behavior of each API endpoint. The end-to-end tests help us to make sure that everything is working correctly and fits project requirements. To perform e2e tests we use the same configuration as in the case of "])),(l()(),tt(125,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["unit testing"])),(l()(),yr(-1,null,[", but additionally, we take advantage of "])),(l()(),tt(128,0,null,null,1,"a",[["href","https://github.com/visionmedia/supertest"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["supertest"])),(l()(),yr(-1,null,[" library that allows simulating HTTP requests. "])),(l()(),tt(131,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(132,null,[" "," "])),fr(133,2),(l()(),tt(134,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(135,49152,[["e2eTestsT",4]],0,Wh,[],null,null),(l()(),tt(136,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(137,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(138,null,["",""])),(l()(),tt(139,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(140,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Keep your e2e test files inside the "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["e2e"])),(l()(),yr(-1,null,[" directory. The testing files should have a "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".e2e-spec"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(149,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".e2e-test"])),(l()(),yr(-1,null,[" suffix. "])),(l()(),tt(152,0,null,null,31,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats.e2e-spec.ts"])),(l()(),yr(-1,null,[" test file contains a single HTTP endpoint test ("])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/cats"])),(l()(),yr(-1,null,["). We have used "])),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["app.getHttpServer()"])),(l()(),yr(-1,null,[" method to pick up an underlying HTTP server that runs in the background of Nest application. Notice that "])),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TestingModule"])),(l()(),yr(-1,null,[" instance provides a "])),(l()(),tt(166,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideProvider()"])),(l()(),yr(-1,null,[" method, and thus we can "])),(l()(),tt(169,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["override"])),(l()(),yr(-1,null,[" the existing provider which is declared by the imported module. Also, we can successively override the guards, interceptors, filters, and pipes using corresponding methods, "])),(l()(),tt(172,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideGuard()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(175,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideInterceptor()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(178,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideFilter()"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(181,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overridePipe()"])),(l()(),yr(-1,null,[" respectively. "])),(l()(),tt(184,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The compiled module has several methods well described in the following table: "])),(l()(),tt(186,0,null,null,34,"table",[],null,null,null,null,null)),(l()(),tt(187,0,null,null,33,"tbody",[],null,null,null,null,null)),(l()(),tt(188,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),tt(189,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(190,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createNestInstance()"])),(l()(),tt(192,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Creates a Nest instance based on a given module (returns "])),(l()(),tt(194,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestApplication"])),(l()(),yr(-1,null,["). Notice that it's necessary to manually initialize the application using "])),(l()(),tt(197,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["init()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(200,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(201,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(202,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createNestMicroservice()"])),(l()(),tt(204,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Creates a Nest microservice instance based on a given module (returns "])),(l()(),tt(206,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestMicroservice"])),(l()(),yr(-1,null,["). "])),(l()(),tt(209,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(210,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(211,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),tt(213,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Retrieves an instance of either controller or provider (including guards, filters, and so on) available in the application context. "])),(l()(),tt(215,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(216,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(217,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["select()"])),(l()(),tt(219,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Navigates through the module tree, for example, to pull out a specific instance from the selected module (used together with enabled strict mode). "]))],function(l,n){l(n,118,0,"/fundamentals/dependency-injection")},function(l,n){var e=n.component,u=Ou(n,47,0,l(n,48,0,Et(n,0),"cats.controller.spec",Et(n,50).isJsActive));l(n,47,0,u),l(n,51,0,Et(n,50).isJsActive),l(n,53,0,e.isolatedTests),l(n,54,0,!Et(n,50).isJsActive),l(n,56,0,e.isolatedTestsJs);var t=Ou(n,83,0,l(n,84,0,Et(n,0),"cats.controller.spec",Et(n,86).isJsActive));l(n,83,0,t),l(n,87,0,Et(n,86).isJsActive),l(n,89,0,e.utils),l(n,90,0,!Et(n,86).isJsActive),l(n,92,0,e.utilsJs),l(n,117,0,Et(n,118).target,Et(n,118).href);var r=Ou(n,132,0,l(n,133,0,Et(n,0),"cats.e2e-spec",Et(n,135).isJsActive));l(n,132,0,r),l(n,138,0,e.e2eTests)})}function Sm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-unit-testing",[],null,null,null,Om,jm)),zt(1,8437760,null,0,km,[Pe,Gl],null,null)],null,null)}var Pm=Ct("app-unit-testing",km,Sm,{},{},[]),Tm=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"e2eTests",{get:function(){return"\nimport * as express from 'express';\nimport * as request from 'supertest';\nimport { Test } from '@nestjs/testing';\nimport { CatsModule } from '../../src/cats/cats.module';\nimport { CatsService } from '../../src/cats/cats.service';\n\ndescribe('Cats', () => {\n    const server = express();\n    const catsService = { findAll: () => ['test'] };\n\n    beforeAll(async () => {\n        const module = await Test.createTestingModule({\n            imports: [CatsModule],\n          })\n          .overrideComponent(CatsService).useValue(catsService)\n          .compile();\n\n        const app = module.createNestApplication(server);\n        await app.init();\n    });\n\n    it(`/GET cats`, () => {\n        return request(server)\n            .get('/cats')\n            .expect(200)\n            .expect({\n              data: catsService.findAll(),\n            });\n    });\n});"},enumerable:!0,configurable:!0}),n}(Kh),Am=Tu({encapsulation:2,styles:[],data:{}});function Mm(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,110,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["E2E Testing"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The end to end testing is a great way to verify how the application works from "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["beginning to end"])),(l()(),yr(-1,null,[". For example, when the application grows, it's difficult to manually test every API endpoint. The e2e tests help us to make sure that everything's working correctly and fits our requirements. "])),(l()(),tt(9,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The steps to perform e2e tests are exactly the same as in the case of "])),(l()(),tt(11,0,null,null,2,"a",[["routerLink","/fundamentals/unit-testing"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,12).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(12,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["unit testing"])),(l()(),yr(-1,null,[". We're using "])),(l()(),tt(15,0,null,null,1,"a",[["href","https://github.com/facebook/jest"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Jest"])),(l()(),yr(-1,null,[" library as a test runner and the "])),(l()(),tt(18,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Test"])),(l()(),yr(-1,null,[" static class to create a testing module. Moreover, to simulate the HTTP requests, we've installed the "])),(l()(),tt(21,0,null,null,1,"a",[["href","https://github.com/visionmedia/supertest"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["supertest"])),(l()(),yr(-1,null,[" library. "])),(l()(),tt(24,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's create an "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["e2e"])),(l()(),yr(-1,null,[" directory and test the "])),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(32,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(33,null,[" "," "])),fr(34,2),(l()(),tt(35,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(36,49152,[["e2eTestsT",4]],0,Wh,[],null,null),(l()(),tt(37,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(38,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(39,null,["",""])),(l()(),tt(40,0,null,null,12,"blockquote",[],null,null,null,null,null)),(l()(),tt(41,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Keep your e2e test files inside the "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["e2e"])),(l()(),yr(-1,null,[" directory. The testing files should have a "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".e2e-spec"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".e2e-test"])),(l()(),yr(-1,null,[" suffix. "])),(l()(),tt(53,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here's a "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats.e2e-spec.ts"])),(l()(),yr(-1,null,[" test file. It contains a single HTTP request test, where we're checking whether the response looks like expected. "])),(l()(),tt(58,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Notice that "])),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TestingModule"])),(l()(),yr(-1,null,[" instance provides an "])),(l()(),tt(63,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideComponent()"])),(l()(),yr(-1,null,[" method thus we can "])),(l()(),tt(66,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["override"])),(l()(),yr(-1,null,[" the component which is the part of the imported module. Also, we can successively override the guards and interceptors using "])),(l()(),tt(69,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideGuard()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(72,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["overrideInterceptor()"])),(l()(),yr(-1,null,[". "])),(l()(),tt(75,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The compiled module has several methods well described in the following table: "])),(l()(),tt(77,0,null,null,34,"table",[],null,null,null,null,null)),(l()(),tt(78,0,null,null,33,"tbody",[],null,null,null,null,null)),(l()(),tt(79,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createNestInstance()"])),(l()(),tt(83,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Creates a Nest instance based on a given module (returns "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestApplication"])),(l()(),yr(-1,null,["). Notice that it's necessary to manually initialize the application using "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["init()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(91,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(92,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(93,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createNestMicroservice()"])),(l()(),tt(95,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Creates a Nest microservice instance based on a given module (returns "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestMicroservice"])),(l()(),yr(-1,null,["). "])),(l()(),tt(100,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(101,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(102,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),tt(104,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Retrieves an instance of either controller or provider (including guards, filters, and so on) available in the application context. "])),(l()(),tt(106,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(107,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(108,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["select()"])),(l()(),tt(110,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Navigates through the module tree, for example, to pull out a specific instance from the selected module (used together with enabled strict mode). "]))],function(l,n){l(n,12,0,"/fundamentals/unit-testing")},function(l,n){var e=n.component;l(n,11,0,Et(n,12).target,Et(n,12).href);var u=Ou(n,33,0,l(n,34,0,Et(n,0),"cats.e2e-spec",Et(n,36).isJsActive));l(n,33,0,u),l(n,39,0,e.e2eTests)})}function _m(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-e2e-testing",[],null,null,null,Mm,Am)),zt(1,8437760,null,0,Tm,[Pe,Gl],null,null)],null,null)}var Im=Ct("app-e2e-testing",Tm,_m,{},{},[]),Em=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"executionContext",{get:function(){return"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(ApplicationModule);\n  // logic...\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pickTasksController",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst tasksController = app.get(TasksController);\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pickTasksControllerStrict",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst tasksController = app.select(TasksModule).get(TasksController, { strict: true });\n"},enumerable:!0,configurable:!0}),n}(Kh),Rm=Tu({encapsulation:2,styles:[],data:{}});function Nm(l){return wr(2,[(l()(),tt(0,0,null,null,81,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Execution Context"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are several ways of mounting the Nest application. You can create either a web app, microservice or just a Nest "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[". The Nest context is a wrapper around the Nest container, which holds all instantiated classes. We can grab an existing instance from within any imported module directly using application object. Thanks to that, you can take advantages of the Nest framework everywhere, including "])),(l()(),tt(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["CRON"])),(l()(),yr(-1,null,[" jobs and even build a "])),(l()(),tt(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["CLI"])),(l()(),yr(-1,null,[" on top of it. "])),(l()(),tt(14,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Getting started"])),(l()(),tt(16,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create a Nest application context, we use the following syntax: "])),(l()(),tt(18,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(20,49152,null,0,Wh,[],null,null),(l()(),tt(21,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(22,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(23,null,["",""])),(l()(),tt(24,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, Nest allows you to pick any instance registered within Nest application. Let's imagine that we have a "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TasksController"])),(l()(),yr(-1,null,[" in the "])),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TasksModule"])),(l()(),yr(-1,null,[". This class provides a set of usable methods, which we want to call from within CRON job. "])),(l()(),tt(32,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(33,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(34,49152,null,0,Wh,[],null,null),(l()(),tt(35,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(36,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(37,null,["",""])),(l()(),tt(38,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And that's it. To grab "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TasksController"])),(l()(),yr(-1,null,[" instance we had to use "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),yr(-1,null,[" method. We didn't have to go through entire modules tree, the "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),yr(-1,null,[" method act like a "])),(l()(),tt(49,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["query"])),(l()(),yr(-1,null,[" that search for an instance in each registered module automatically. However, if you prefer a strict context checking, you can always switch to it using "])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["strict: true"])),(l()(),yr(-1,null,[" options object that has to be passed as the second argument of "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),yr(-1,null,[" method. Then, you have to go through all modules to pick up a particular instance from the selected context. "])),(l()(),tt(58,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(59,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(60,49152,null,0,Wh,[],null,null),(l()(),tt(61,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(62,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(63,null,["",""])),(l()(),tt(64,0,null,null,13,"table",[],null,null,null,null,null)),(l()(),tt(65,0,null,null,12,"tbody",[],null,null,null,null,null)),(l()(),tt(66,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(67,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),tt(70,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Retrieves an instance of either controller or provider (including guards, filters, and so on) available in the application context. "])),(l()(),tt(72,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(73,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["select()"])),(l()(),tt(76,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Navigates through the module tree, for example, to pull out a specific instance from the selected module (used together with enabled strict mode). "])),(l()(),tt(78,0,null,null,3,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(79,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The root module is selected by default. In order to select any other module, you need to go through entire modules tree (step by step). "]))],null,function(l,n){var e=n.component;l(n,23,0,e.executionContext),l(n,37,0,e.pickTasksController),l(n,63,0,e.pickTasksControllerStrict)})}function qm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-execution-context",[],null,null,null,Nm,Rm)),zt(1,8437760,null,0,Em,[Pe,Gl],null,null)],null,null)}var Dm=Ct("app-execution-context",Em,qm,{},{},[]),Hm=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"middleware",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { GraphQLModule } from '@nestjs/graphql';\n\n@Module({\n  imports: [\n    GraphQLModule.forRoot({\n      typePaths: ['./**/*.graphql'],\n    }),\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"moreOptions",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { GraphQLModule } from '@nestjs/graphql';\n\n@Module({\n  imports: [\n    GraphQLModule.forRoot({\n      typePaths: ['./**/*.graphql'],\n      debug: false,\n      playground: false,\n    }),\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfiguration",{get:function(){return"\nGraphQLModule.forRootAsync({\n  useFactory: () => ({\n    typePaths: ['./**/*.graphql'],\n  }),\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationFactoryAsync",{get:function(){return"\nGraphQLModule.forRootAsync({\n  imports: [ConfigModule],\n  useFactory: async (configService: ConfigService) => ({\n    typePaths: configService.getString('GRAPHQL_TYPE_PATHS'),\n  }),\n  inject: [ConfigService],\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClass",{get:function(){return"\nGraphQLModule.forRootAsync({\n  useClass: GqlConfigService,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClassBody",{get:function(){return"\n@Injectable()\nclass GqlConfigService implements GqlOptionsFactory {\n  createGqlOptions(): GqlModuleOptions {\n    return {\n      typePaths: ['./**/*.graphql'],\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationExisting",{get:function(){return"\nGraphQLModule.forRootAsync({\n  imports: [ConfigModule],\n  useExisting: ConfigService,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"includeSubset",{get:function(){return"\nGraphQLModule.forRoot({\n  include: [CatsModule],\n})"},enumerable:!0,configurable:!0}),n}(Kh),Lm=Tu({encapsulation:2,styles:[],data:{}});function Fm(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,169,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Quick start"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" GraphQL is a query language for APIs and a runtime for fulfilling those queries with your existing data. It is an elegant approach that solves many of these problems that we have with typical REST apis. There is a great "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://dev-blog.apollodata.com/graphql-vs-rest-5d425123e34b"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["comparison"])),(l()(),yr(-1,null,[" between GraphQL and REST. In this set of articles, we're not going to explain what the GraphQL is, but rather show how to work with the dedicated "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/graphql"])),(l()(),yr(-1,null,[" module. This chapter assumes that you are already familiar with GraphQL essentials. "])),(l()(),tt(12,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLModule"])),(l()(),yr(-1,null,[" is nothing more than a wrapper around the "])),(l()(),tt(17,0,null,null,1,"a",[["href","https://www.apollographql.com/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Apollo"])),(l()(),yr(-1,null,[" server. We don't reinvent the wheel but provide a ready to use module instead, that brings a clean way to play with the GraphQL and Nest together. "])),(l()(),tt(20,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(22,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install the required packages: "])),(l()(),tt(24,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(25,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save @nestjs/graphql apollo-server-express graphql-tools graphql"])),(l()(),tt(27,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Getting started"])),(l()(),tt(29,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the packages are installed, we can register the "])),(l()(),tt(31,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQlModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(34,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(35,null,[" "," "])),fr(36,2),(l()(),tt(37,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(38,49152,[["appModuleT",4]],0,Wh,[],null,null),(l()(),tt(39,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(40,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(41,null,["",""])),(l()(),tt(42,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["typePaths"])),(l()(),yr(-1,null,[" property indicates where the "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLModule"])),(l()(),yr(-1,null,[" should look for the GraphQL files. Besides, all options will be passed down to the underlying Apollo instance (read more about available settings "])),(l()(),tt(50,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/apollo-server/v2/api/apollo-server.html#constructor-options-lt-ApolloServer-gt"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["). For instance, if you want to disable the "])),(l()(),tt(53,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["playground"])),(l()(),yr(-1,null,[" and turn off the "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["debug"])),(l()(),yr(-1,null,[" mode, simply pass below options: "])),(l()(),tt(59,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(60,null,[" "," "])),fr(61,2),(l()(),tt(62,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(63,49152,[["moreOptionsT",4]],0,Wh,[],null,null),(l()(),tt(64,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(65,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(66,null,["",""])),(l()(),tt(67,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As mentioned, all these settings will be forwarded to the "])),(l()(),tt(69,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApolloServer"])),(l()(),yr(-1,null,[" constructor. "])),(l()(),tt(72,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Playground"])),(l()(),tt(74,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The playground is a graphical, interactive, in-browser GraphQL IDE, available by default on the same URL as the GraphQL server itself. Whilst your application is running in the background, open your web browser and navigate to "])),(l()(),tt(76,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/graphql"])),(l()(),yr(-1,null,[" (host and port may vary depending on your configuration). "])),(l()(),tt(79,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,0,"img",[["alt",""],["src","/assets/playground.png"]],null,null,null,null,null)),(l()(),tt(81,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple endpoints"])),(l()(),tt(83,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Another useful feature of this module is a capability to serve multiple endpoints at once. Thanks to that, you can decide which modules should be included in which endpoint. By default, "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQL"])),(l()(),yr(-1,null,[" searches for resolvers throughout the whole app. To limit only a subset of modules, you can use the "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["include"])),(l()(),yr(-1,null,[" property. "])),(l()(),tt(91,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(92,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(93,null,["",""])),(l()(),tt(94,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Async configuration"])),(l()(),tt(96,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Quite often you might want to asynchronously pass your module options instead of passing them beforehand. In such case, use "])),(l()(),tt(98,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRootAsync()"])),(l()(),yr(-1,null,[" method, that provides a couple of various ways to deal with async data. "])),(l()(),tt(101,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" First possible approach is to use a factory function: "])),(l()(),tt(103,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(104,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(105,null,["",""])),(l()(),tt(106,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, our factory behaves like every other one (might be "])),(l()(),tt(108,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" and is able to inject dependencies through "])),(l()(),tt(111,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,["). "])),(l()(),tt(114,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(115,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(116,null,["",""])),(l()(),tt(117,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alternatively, you are able to use class instead of a factory. "])),(l()(),tt(119,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(120,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(121,null,["",""])),(l()(),tt(122,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above construction will instantiate "])),(l()(),tt(124,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GqlConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(127,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLModule"])),(l()(),yr(-1,null,[" and will leverage it to create options object. The "])),(l()(),tt(130,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GqlConfigService"])),(l()(),yr(-1,null,[" has to implement "])),(l()(),tt(133,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GqlOptionsFactory"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(136,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(137,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(138,null,["",""])),(l()(),tt(139,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to prevent the creation of "])),(l()(),tt(141,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GqlConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(144,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLModule"])),(l()(),yr(-1,null,[" and use a provider imported from a different module, you can use the "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useExisting"])),(l()(),yr(-1,null,[" syntax. "])),(l()(),tt(150,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(151,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(152,null,["",""])),(l()(),tt(153,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It works the same as "])),(l()(),tt(155,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" with one critical difference - "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLModule"])),(l()(),yr(-1,null,[" will lookup imported modules to reuse already created "])),(l()(),tt(161,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[", instead of instantiating it on its own. "])),(l()(),tt(164,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(166,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A fully working sample is available "])),(l()(),tt(168,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/12-graphql-apollo"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component,u=Ou(n,35,0,l(n,36,0,Et(n,0),"app.module",Et(n,38).isJsActive));l(n,35,0,u),l(n,41,0,e.middleware);var t=Ou(n,60,0,l(n,61,0,Et(n,0),"app.module",Et(n,63).isJsActive));l(n,60,0,t),l(n,66,0,e.moreOptions),l(n,93,0,e.includeSubset),l(n,105,0,e.asyncConfiguration),l(n,116,0,e.asyncConfigurationFactoryAsync),l(n,121,0,e.asyncConfigurationClass),l(n,138,0,e.asyncConfigurationClassBody),l(n,152,0,e.asyncConfigurationExisting)})}function Jm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-quick-start",[],null,null,null,Fm,Lm)),zt(1,8437760,null,0,Hm,[Pe,Gl],null,null)],null,null)}var Um=Ct("app-quick-start",Hm,Jm,{},{},[]),Bm=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"resolvers",{get:function(){return"\n@Resolver('Author')\nexport class AuthorResolver {\n  constructor(\n    private readonly authorsService: AuthorsService,\n    private readonly postsService: PostsService,\n  ) {}\n\n  @Query()\n  async author(@Args('id') id: number) {\n    return await this.authorsService.findOneById(id);\n  }\n\n  @ResolveProperty()\n  async posts(@Parent() author) {\n    const { id } = author;\n    return await this.postsService.findAll({ authorId: id });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"realWorldExample",{get:function(){return"\n@Resolver('Author')\nexport class AuthorResolver {\n  constructor(\n    private readonly authorsService: AuthorsService,\n    private readonly postsService: PostsService,\n  ) {}\n\n  @Query('author')\n  async getAuthor(@Args('id') id: number) {\n    return await this.authorsService.findOneById(id);\n  }\n\n  @ResolveProperty('posts')\n  async getPosts(@Parent() author) {\n    const { id } = author;\n    return await this.postsService.findAll({ authorId: id });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authorsModule",{get:function(){return"\n@Module({\n  imports: [PostsModule],\n  providers: [AuthorsService, AuthorResolver],\n})\nexport class AuthorsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"typeDefs",{get:function(){return"\ntype Author {\n  id: Int!\n  firstName: String\n  lastName: String\n  posts: [Post]\n}\n\ntype Post {\n  id: Int!\n  title: String\n  votes: Int\n}\n\ntype Query {\n  author(id: Int!): Author\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"generateTypings",{get:function(){return"\nGraphQLModule.forRoot({\n  typePaths: ['./**/*.graphql'],\n  definitions: {\n    path: join(process.cwd(), 'src/graphql.ts'),\n  },\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"generateTypingsAsClass",{get:function(){return"\nGraphQLModule.forRoot({\n  typePaths: ['./**/*.graphql'],\n  definitions: {\n    path: join(process.cwd(), 'src/graphql.ts'),\n    outputAs: 'class',\n  },\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"generatedTypings",{get:function(){return"\nexport class Author {\n  id: number;\n  firstName?: string;\n  lastName?: string;\n  posts?: Post[];\n}\n\nexport class Post {\n  id: number;\n  title?: string;\n  votes?: number;\n}\n\nexport abstract class IQuery {\n  abstract author(id: number): Author | Promise<Author>;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validateInput",{get:function(){return"\nimport { MinLength, MaxLength } from 'class-validator';\n\nexport class CreatePostInput {\n  @MinLength(3)\n  @MaxLength(50)\n  title: string;\n}"},enumerable:!0,configurable:!0}),n}(Kh),Gm=Tu({encapsulation:2,styles:[],data:{}});function Wm(l){return wr(2,[(l()(),tt(0,0,null,null,211,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Resolvers"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Typically, you have to create a resolvers map manually. The "])),(l()(),tt(5,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/graphql"])),(l()(),yr(-1,null,[" package, on the other hand, generate resolvers map automatically using the metadata provided by the decorators. In order to learn the library basics, we'll create a simple authors API. Firstly, let's define our types in SDL (read "])),(l()(),tt(8,0,null,null,1,"a",[["href","http://graphql.org/learn/schema/#type-language"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["more"])),(l()(),yr(-1,null,["): "])),(l()(),tt(11,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(12,0,null,null,1,"code",[["class","language-java"]],null,null,null,null,null)),(l()(),yr(13,null,["",""])),(l()(),tt(14,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Our GraphQL schema contains single query exposed, the "])),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["author(id: Int!): Author"])),(l()(),yr(-1,null,[". Now, let's create an "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorResolver"])),(l()(),yr(-1,null,[". "])),(l()(),tt(22,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(24,null,["",""])),(l()(),tt(25,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(26,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" If you use the "])),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Resolver()"])),(l()(),yr(-1,null,[" decorator, you don't have to mark a class as an "])),(l()(),tt(32,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[", otherwise, it's necessary. "])),(l()(),tt(35,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Resolver()"])),(l()(),yr(-1,null,[" decorator does not affect queries and mutations (neither "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query()"])),(l()(),yr(-1,null,[" nor "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Mutation()"])),(l()(),yr(-1,null,[" decorators). It only informs Nest that each "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ResolveProperty()"])),(l()(),yr(-1,null,[" inside this particular class has a parent, which is an "])),(l()(),tt(49,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Author"])),(l()(),yr(-1,null,[" type in this case ("])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Author.posts"])),(l()(),yr(-1,null,[" relation). "])),(l()(),tt(55,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Conventionally, we would use something like "])),(l()(),tt(57,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getAuthor()"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getPosts()"])),(l()(),yr(-1,null,[" as method names. We can do that easily as well by moving the real names between decorator's parentheses. "])),(l()(),tt(63,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(64,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(65,null,["",""])),(l()(),tt(66,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(67,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Resolver()"])),(l()(),yr(-1,null,[" decorator can be used at the method-level as well. "])),(l()(),tt(73,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Decorators"])),(l()(),tt(75,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You may note that we refer to the following arguments using dedicated decorators. Below is a comparison of the provided decorators and the plain Apollo parameters they represent. "])),(l()(),tt(77,0,null,null,44,"table",[],null,null,null,null,null)),(l()(),tt(78,0,null,null,43,"tbody",[],null,null,null,null,null)),(l()(),tt(79,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Root()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Parent()"])),(l()(),tt(86,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["root"])),(l()(),yr(-1,null,["/"])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["parent"])),(l()(),tt(92,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(93,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Context(param?: string)"])),(l()(),tt(96,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["context"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["context[param]"])),(l()(),tt(102,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(103,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Info(param?: string)"])),(l()(),tt(106,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["info"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(110,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["info[param]"])),(l()(),tt(112,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),tt(113,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(114,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Args(param?: string)"])),(l()(),tt(116,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["args"])),(l()(),yr(-1,null,[" / "])),(l()(),tt(120,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["args[param]"])),(l()(),tt(122,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Module"])),(l()(),tt(124,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once we're done here, we have to register the "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorResolver"])),(l()(),yr(-1,null,[" somewhere, for example inside the newly created "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorsModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(132,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(133,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(134,49152,null,0,Wh,[],null,null),(l()(),tt(135,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(136,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(137,null,["",""])),(l()(),tt(138,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(140,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLModule"])),(l()(),yr(-1,null,[" will take care of reflecting the metadata and transforming class into the correct resolvers map automatically. The only thing that you should be aware of is that you need to import this module somewhere, therefore Nest will know that "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorsModule"])),(l()(),yr(-1,null,[" truly exists. "])),(l()(),tt(146,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(147,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Learn more about GraphQL queries "])),(l()(),tt(150,0,null,null,1,"a",[["href","http://graphql.org/learn/queries/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(153,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Typings"])),(l()(),tt(155,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Separate creation of both GraphQL types and corresponding TypeScript definitions creates unnecessary redundancy. Eventually, we end up without a single source of truth and each change made within SDL forces us to adjust interfaces as well. Thus, the "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/graphql"])),(l()(),yr(-1,null,[" package serves another interesting functionality, which is the automatic generation of TS definitions using abstract syntax tree (AST). In order to enable it, simply customize "])),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["definitions"])),(l()(),yr(-1,null,[" property. "])),(l()(),tt(163,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(164,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(165,null,["",""])),(l()(),tt(166,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["src/graphql.ts"])),(l()(),yr(-1,null,[" indicates where to save TypeScript output. By default, all types are transformed to the interfaces. However, you can switch to classes instead by changing "])),(l()(),tt(171,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["outputAs"])),(l()(),yr(-1,null,[" property to "])),(l()(),tt(174,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["class"])),(l()(),yr(-1,null,[". "])),(l()(),tt(177,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(178,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(179,null,["",""])),(l()(),tt(180,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Consequently, it will generate the following file: "])),(l()(),tt(182,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(183,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(184,null,["",""])),(l()(),tt(185,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Classes allow you using "])),(l()(),tt(187,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["decorators"])),(l()(),yr(-1,null,[" which makes them extremely useful in terms of the validation purposes (read "])),(l()(),tt(190,0,null,null,2,"a",[["routerLink","/techniques/validation"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,191).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(191,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["more"])),(l()(),yr(-1,null,["). For example: "])),(l()(),tt(194,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(195,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(196,null,["",""])),(l()(),tt(197,0,null,null,14,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(198,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" To enable auto-validation of your inputs (and parameters), you have to use "])),(l()(),tt(201,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[". Read more about validation "])),(l()(),tt(204,0,null,null,2,"a",[["routerLink","/techniques/validation"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,205).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(205,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[" or more specifically about pipes "])),(l()(),tt(208,0,null,null,2,"a",[["routerLink","/pipes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,209).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(209,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,191,0,"/techniques/validation"),l(n,205,0,"/techniques/validation"),l(n,209,0,"/pipes")},function(l,n){var e=n.component;l(n,13,0,e.typeDefs),l(n,24,0,e.resolvers),l(n,65,0,e.realWorldExample),l(n,137,0,e.authorsModule),l(n,165,0,e.generateTypings),l(n,179,0,e.generateTypingsAsClass),l(n,184,0,e.generatedTypings),l(n,190,0,Et(n,191).target,Et(n,191).href),l(n,196,0,e.validateInput),l(n,204,0,Et(n,205).target,Et(n,205).href),l(n,208,0,Et(n,209).target,Et(n,209).href)})}function zm(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-resolvers-map",[],null,null,null,Wm,Gm)),zt(1,8437760,null,0,Bm,[Pe,Gl],null,null)],null,null)}var Vm=Ct("app-resolvers-map",Bm,zm,{},{},[]),Km=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"mutationsExample",{get:function(){return"\nMutation: {\n  upvotePost: (_, { postId }) => {\n    const post = find(posts, { id: postId });\n    if (!post) {\n      throw new Error(`Couldn't find post with id ${postId}`);\n    }\n    post.votes += 1;\n    return post;\n  },\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resolversWithNames",{get:function(){return"\nimport { Query, Mutation, Resolver, ResolveProperty, Parent, Args } from '@nestjs/graphql';\nimport { find, filter } from 'lodash';\n\n// example data\nconst authors = [\n  { id: 1, firstName: 'Tom', lastName: 'Coleman' },\n  { id: 2, firstName: 'Sashko', lastName: 'Stubailo' },\n];\nconst posts = [\n  { id: 1, authorId: 1, title: 'Introduction to GraphQL', votes: 2 },\n  { id: 2, authorId: 2, title: 'Welcome to Meteor', votes: 3 },\n];\n\n@Resolver('Author')\nexport class AuthorResolver {\n  @Query('author')\n  getAuthor(@Args('id') id: number) {\n    return find(authors, { id: id });\n  }\n\n  @Mutation()\n  upvotePost(@Args('postId') postId: number) {\n    const post = find(posts, { id: postId });\n    if (!post) {\n      throw new Error(`Couldn't find post with id ${postId}`);\n    }\n    post.votes += 1;\n    return post;\n  }\n\n  @ResolveProperty('posts')\n  getPosts(@Parent() author) {\n    return filter(posts, { authorId: author.id });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"realWorldExample",{get:function(){return"\n@Resolver('Author')\nexport class AuthorResolver {\n  constructor(\n    private readonly authorsService: AuthorsService,\n    private readonly postsService: PostsService,\n  ) {}\n\n  @Query('author')\n  async getAuthor(@Args('id') id: number) {\n    return await this.authorsService.findOneById(id);\n  }\n\n  @Mutation()\n  async upvotePost(@Args('postId') postId: number) {\n    return await this.postsService.upvoteById({ id: postId });\n  }\n\n  @ResolveProperty('posts')\n  async getPosts(@Parent() { id }) {\n    return await this.postsService.findAll({ authorId: id });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"typeDefs",{get:function(){return"\ntype Author {\n  id: Int!\n  firstName: String\n  lastName: String\n  posts: [Post]\n}\n\ntype Post {\n  id: Int!\n  title: String\n  votes: Int\n}\n\ntype Query {\n  author(id: Int!): Author\n}\n\ntype Mutation {\n  upvotePost(postId: Int!): Post\n}"},enumerable:!0,configurable:!0}),n}(Kh),Qm=Tu({encapsulation:2,styles:[],data:{}});function $m(l){return wr(2,[(l()(),tt(0,0,null,null,49,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Mutations"])),(l()(),tt(3,0,null,null,23,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In GraphQL, in order to modify the server-side data, we use mutations (read more "])),(l()(),tt(5,0,null,null,1,"a",[["href","http://graphql.org/learn/queries/#mutations"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[")a. The official "])),(l()(),tt(8,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-tools/generate-schema.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Apollo"])),(l()(),yr(-1,null,[" documentation shares an "])),(l()(),tt(11,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["upvotePost()"])),(l()(),yr(-1,null,[" mutation example. This mutation allows to increase a post "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["votes"])),(l()(),yr(-1,null,[" property value. In order to create an equivalent mutation in Nest, we'll make use of the "])),(l()(),tt(17,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Mutation()"])),(l()(),yr(-1,null,[" decorator. Let's extend our "])),(l()(),tt(20,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorResolver"])),(l()(),yr(-1,null,[" used in the previous section (see "])),(l()(),tt(23,0,null,null,2,"a",[["routerLink","/graphql/resolvers-map"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,24).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(24,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["resolvers"])),(l()(),yr(-1,null,["). "])),(l()(),tt(27,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(28,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(29,null,["",""])),(l()(),tt(30,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Notice that we've assumed that the business logic has been moved to the "])),(l()(),tt(32,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PostsService"])),(l()(),yr(-1,null,[" (respectively querying post and incrementing "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["votes"])),(l()(),yr(-1,null,[" property). "])),(l()(),tt(38,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Type definitions"])),(l()(),tt(40,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to add our mutation to the existing types definition. "])),(l()(),tt(42,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"code",[["class","language-java"]],null,null,null,null,null)),(l()(),yr(44,null,["",""])),(l()(),tt(45,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["upvotePost(postId: Int!): Post"])),(l()(),yr(-1,null,[" mutation should be available now. "]))],function(l,n){l(n,24,0,"/graphql/resolvers-map")},function(l,n){var e=n.component;l(n,23,0,Et(n,24).target,Et(n,24).href),l(n,29,0,e.realWorldExample),l(n,44,0,e.typeDefs)})}function Ym(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-mutations",[],null,null,null,$m,Qm)),zt(1,8437760,null,0,Km,[Pe,Gl],null,null)],null,null)}var Xm=Ct("app-mutations",Km,Ym,{},{},[]),Zm=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"jsonScalar",{get:function(){return"\nimport * as GraphQLJSON from 'graphql-type-json';\n\n@Module({\n  imports: [\n    GraphQLModule.forRoot({\n      typePaths: ['./**/*.graphql'],\n      resolvers: { JSON: GraphQLJSON },\n    }),\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"typeDefJson",{get:function(){return"\nscalar JSON\n\ntype Foo {\n  field: JSON\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScalar",{get:function(){return"\nimport { Scalar } from '@nestjs/graphql';\nimport { Kind } from 'graphql';\n\n@Scalar('Date')\nexport class DateScalar {\n  description = 'Date custom scalar type';\n\n  parseValue(value) {\n    return new Date(value); // value from the client\n  }\n\n  serialize(value) {\n    return value.getTime(); // value sent to the client\n  }\n\n  parseLiteral(ast) {\n    if (ast.kind === Kind.INT) {\n      return parseInt(ast.value, 10); // ast value is always in string format\n    }\n    return null;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"registerDateScalar",{get:function(){return"\n@Module({\n  providers: [DateScalar],\n})\nexport class CommonModule {}"},enumerable:!0,configurable:!0}),n}(Kh),lg=Tu({encapsulation:2,styles:[],data:{}});function ng(l){return wr(2,[(l()(),tt(0,0,null,null,55,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Scalars"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to define a custom scalar (read more about scalars "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-tools/scalars.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["), we have to create a type definition and a dedicated resolver as well. Here (as in the official documentation), we\u2019ll take the "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["graphql-type-json"])),(l()(),yr(-1,null,[" package for demonstration purposes. This npm package defines a "])),(l()(),tt(11,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JSON"])),(l()(),yr(-1,null,[" GraphQL scalar type. Firstly, let's install the package: "])),(l()(),tt(14,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(15,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save graphql-type-json\n"])),(l()(),tt(17,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the package is installed, we have to pass a custom resolver to the "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRoot()"])),(l()(),yr(-1,null,[" method: "])),(l()(),tt(22,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(24,null,["",""])),(l()(),tt(25,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can use "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JSON"])),(l()(),yr(-1,null,[" scalar in our type definitions: "])),(l()(),tt(30,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(31,0,null,null,1,"code",[["class","language-java"]],null,null,null,null,null)),(l()(),yr(32,null,["",""])),(l()(),tt(33,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Classes"])),(l()(),tt(35,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Another form of defining the scalar type is to create a simple class. Let's say that we would like to enhance our schema with the "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Date"])),(l()(),yr(-1,null,[" type. "])),(l()(),tt(40,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(41,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(42,null,["",""])),(l()(),tt(43,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, we need to register "])),(l()(),tt(45,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DateScalar"])),(l()(),yr(-1,null,[" as a provider. "])),(l()(),tt(48,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(49,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(50,null,["",""])),(l()(),tt(51,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And now we are able to use "])),(l()(),tt(53,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Date"])),(l()(),yr(-1,null,[" scalar in our type definitions. "]))],null,function(l,n){var e=n.component;l(n,24,0,e.jsonScalar),l(n,32,0,e.typeDefJson),l(n,42,0,e.classScalar),l(n,50,0,e.registerDateScalar)})}function eg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-scalars",[],null,null,null,ng,lg)),zt(1,8437760,null,0,Zm,[Pe,Gl],null,null)],null,null)}var ug=Ct("app-scalars",Zm,eg,{},{},[]),tg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"subscriptionOfficialExample",{get:function(){return"\nSubscription: {\n  commentAdded: {\n    subscribe: () => pubSub.asyncIterator('commentAdded')\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resolversWithNames",{get:function(){return"\nconst pubSub = new PubSub();\n\n@Resolver('Author')\nexport class AuthorResolver {\n  constructor(\n    private readonly authorsService: AuthorsService,\n    private readonly postsService: PostsService,\n  ) {}\n\n  @Query('author')\n  async getAuthor(@Args('id') id: number) {\n    return await this.authorsService.findOneById(id);\n  }\n\n  @ResolveProperty('posts')\n  async getPosts(@Parent() author) {\n    const { id } = author;\n    return await this.postsService.findAll({ authorId: id });\n  }\n\n  @Subscription()\n  commentAdded() {\n    return {\n      subscribe: () => pubSub.asyncIterator('commentAdded'),\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enableSubscriptions",{get:function(){return"\nGraphQLModule.forRoot({\n  typePaths: ['./**/*.graphql'],\n  installSubscriptionHandlers: true,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"typeDefs",{get:function(){return"\ntype Author {\n  id: Int!\n  firstName: String\n  lastName: String\n  posts: [Post]\n}\n\ntype Post {\n  id: Int!\n  title: String\n  votes: Int\n}\n\ntype Query {\n  author(id: Int!): Author\n}\n\ntype Comment {\n  id: String\n  content: String\n}\n\ntype Subscription {\n  commentAdded(repoFullName: String!): Comment\n}"},enumerable:!0,configurable:!0}),n}(Kh),rg=Tu({encapsulation:2,styles:[],data:{}});function og(l){return wr(2,[(l()(),tt(0,0,null,null,98,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Subscriptions"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Subscription is just another GraphQL operation type like Query and Mutation. It allows creating real-time subscriptions over a bidirectional transport layer, mainly over websockets. Read more about the subscriptions "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-subscriptions"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". Below is a "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["commentAdded"])),(l()(),yr(-1,null,[" subscription example, copied and pasted directly from the official "])),(l()(),tt(11,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-subscriptions/subscriptions-to-schema.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Apollo"])),(l()(),yr(-1,null,[" documentation: "])),(l()(),tt(14,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(15,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(16,null,["",""])),(l()(),tt(17,0,null,null,12,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(21,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["pubsub"])),(l()(),yr(-1,null,[" is an instance of "])),(l()(),tt(24,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PubSub"])),(l()(),yr(-1,null,[" class. Read more about it "])),(l()(),tt(27,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-subscriptions/setup.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(30,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create an equivalent subscription in Nest, we'll make use of the "])),(l()(),tt(32,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Subscription()"])),(l()(),yr(-1,null,[" decorator. Let's extend our "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorResolver"])),(l()(),yr(-1,null,[" used in the "])),(l()(),tt(38,0,null,null,2,"a",[["routerLink","/graphql/resolvers-map"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,39).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(39,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["resolvers"])),(l()(),yr(-1,null,[" section. "])),(l()(),tt(42,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(44,null,["",""])),(l()(),tt(45,0,null,null,17,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We have used a local "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PubSub"])),(l()(),yr(-1,null,[" instance here. Instead, we should define "])),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PubSub"])),(l()(),yr(-1,null,[" as a "])),(l()(),tt(53,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["provider"])),(l()(),yr(-1,null,[", inject it through the constructor (using "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator), and reuse it across the whole application. You can read more about Nest custom providers "])),(l()(),tt(59,0,null,null,2,"a",[["routerLink","/fundamentals/custom-providers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,60).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(60,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(63,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Module"])),(l()(),tt(65,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to enable subscriptions, we have to set "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["installSubscriptionHandlers"])),(l()(),yr(-1,null,[" property to "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[". "])),(l()(),tt(73,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,1,"code",[["class","language-java"]],null,null,null,null,null)),(l()(),yr(75,null,["",""])),(l()(),tt(76,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To customize the subscriptions server (e.g. change port), you can use "])),(l()(),tt(78,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["subscriptions"])),(l()(),yr(-1,null,[" property (read "])),(l()(),tt(81,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/apollo-server/v2/api/apollo-server.html#constructor-options-lt-ApolloServer-gt"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["more"])),(l()(),yr(-1,null,["). "])),(l()(),tt(84,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Type definitions"])),(l()(),tt(86,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to update type definitions file. "])),(l()(),tt(88,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(89,0,null,null,1,"code",[["class","language-java"]],null,null,null,null,null)),(l()(),yr(90,null,["",""])),(l()(),tt(91,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Well done. We created a single "])),(l()(),tt(93,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["commentAdded(repoFullName: String!): Comment"])),(l()(),yr(-1,null,[" subscription. You can find a full sample implementation "])),(l()(),tt(96,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/blob/master/sample/12-graphql-apollo"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,39,0,"/graphql/resolvers-map"),l(n,60,0,"/fundamentals/custom-providers")},function(l,n){var e=n.component;l(n,16,0,e.subscriptionOfficialExample),l(n,38,0,Et(n,39).target,Et(n,39).href),l(n,44,0,e.resolversWithNames),l(n,59,0,Et(n,60).target,Et(n,60).href),l(n,75,0,e.enableSubscriptions),l(n,90,0,e.typeDefs)})}function ag(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-subscriptions",[],null,null,null,og,rg)),zt(1,8437760,null,0,tg,[Pe,Gl],null,null)],null,null)}var ig=Ct("app-subscriptions",tg,ag,{},{},[]),sg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"useGuardsExample",{get:function(){return"\n@Query('author')\n@UseGuards(AuthGuard)\nasync getAuthor(@Args('id', ParseIntPipe) id: number) {\n  return await this.authorsService.findOneById(id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useInterceptorsExample",{get:function(){return"\n@Mutation()\n@UseInterceptors(EventsInterceptor)\nasync upvotePost(@Args('postId') postId: number) {\n  return await this.postsService.upvoteById({ id: postId });\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gqlExecutionContext",{get:function(){return"\nimport { CanActivate, ExecutionContext, Injectable } from '@nestjs/common';\nimport { GqlExecutionContext } from '@nestjs/graphql';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(context: ExecutionContext): boolean {\n    const ctx = GqlExecutionContext.create(context);\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customDecorators",{get:function(){return"\nexport const User = createParamDecorator(\n  (data, [root, args, ctx, info]) => ctx.user,\n);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customDecoratorsExample",{get:function(){return"\n@Mutation()\nasync upvotePost(\n  @User() user: UserEntity,\n  @Args('postId') postId: number,\n) {}"},enumerable:!0,configurable:!0}),n}(Kh),cg=Tu({encapsulation:2,styles:[],data:{}});function pg(l){return wr(2,[(l()(),tt(0,0,null,null,108,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Tooling"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the GraphQL world, a lot of articles complain how to handle stuff like an "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["authentication"])),(l()(),yr(-1,null,[", or "])),(l()(),tt(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["side-effects"])),(l()(),yr(-1,null,[" of operations. Should we put it inside the business logic? Shall we use a higher-order function to enhance queries and mutations as well, for example, with an authorization logic? Or maybe use "])),(l()(),tt(11,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/apollo-server/v2/features/directives.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["schema directives"])),(l()(),yr(-1,null,[". There is no single answer anyway. "])),(l()(),tt(14,0,null,null,9,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest ecosystem is trying to help with this issue using existing features like "])),(l()(),tt(16,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,17).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(17,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(20,0,null,null,2,"a",[["routerLink","/interceptors"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,21).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(21,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["interceptors"])),(l()(),yr(-1,null,[". The idea behind them is to reduce redundancy and also, supply you with tooling that helps creating well-structured, readable, and consistent applications. "])),(l()(),tt(24,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(26,0,null,null,17,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You can use either "])),(l()(),tt(28,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,29).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(29,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,[", "])),(l()(),tt(32,0,null,null,2,"a",[["routerLink","/interceptors"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,33).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(33,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["interceptors"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(36,0,null,null,2,"a",[["routerLink","/pipes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,37).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(37,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["pipes"])),(l()(),yr(-1,null,[" in the same fashion as in the simple REST application. Additionally, you are able to easily create your own decorators, by leveraging "])),(l()(),tt(40,0,null,null,2,"a",[["routerLink","/custom-decorators"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,41).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(41,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom decorators"])),(l()(),yr(-1,null,[" feature. They all act equivalently. Let's have a look at the following code: "])),(l()(),tt(44,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(45,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(46,null,["",""])),(l()(),tt(47,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As you can see, GraphQL works pretty well with both guards and pipes. Thanks to that you can, for instance, move your authentication logic to the guard, or even reuse the same guard class as in the REST application. The interceptors works in the exact same way: "])),(l()(),tt(49,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(50,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(51,null,["",""])),(l()(),tt(52,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Execution context"])),(l()(),tt(54,0,null,null,22,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" However, the "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" received by both guards and interceptors is somewhat different. GraphQL resolvers have a separate set of arguments, respectively, "])),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["root"])),(l()(),yr(-1,null,[", "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["args"])),(l()(),yr(-1,null,[", "])),(l()(),tt(65,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["context"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["info"])),(l()(),yr(-1,null,[". Hence, we need to transform given "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" to "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GqlExecutionContext"])),(l()(),yr(-1,null,[", which is basically very simple. "])),(l()(),tt(77,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(78,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(79,null,["",""])),(l()(),tt(80,0,null,null,9,"p",[],null,null,null,null,null)),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GqlExecutionContext"])),(l()(),yr(-1,null,[" exposes corresponding methods for each argument, like "])),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getArgs()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getContext()"])),(l()(),yr(-1,null,[", and so on. Now we can effortlessly pick up every argument specific for currently processed request. "])),(l()(),tt(90,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom decorators"])),(l()(),tt(92,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As mentioned before, the "])),(l()(),tt(94,0,null,null,2,"a",[["routerLink","/custom-decorators"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,95).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(95,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom decorators"])),(l()(),yr(-1,null,[" feature works like a charm with GraphQL resolvers as well. Though, the factory function takes an array of arguments, instead of a "])),(l()(),tt(98,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" object. "])),(l()(),tt(101,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(102,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(103,null,["",""])),(l()(),tt(104,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And then: "])),(l()(),tt(106,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(107,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(108,null,["",""]))],function(l,n){l(n,17,0,"/guards"),l(n,21,0,"/interceptors"),l(n,29,0,"/guards"),l(n,33,0,"/interceptors"),l(n,37,0,"/pipes"),l(n,41,0,"/custom-decorators"),l(n,95,0,"/custom-decorators")},function(l,n){var e=n.component;l(n,16,0,Et(n,17).target,Et(n,17).href),l(n,20,0,Et(n,21).target,Et(n,21).href),l(n,28,0,Et(n,29).target,Et(n,29).href),l(n,32,0,Et(n,33).target,Et(n,33).href),l(n,36,0,Et(n,37).target,Et(n,37).href),l(n,40,0,Et(n,41).target,Et(n,41).href),l(n,46,0,e.useGuardsExample),l(n,51,0,e.useInterceptorsExample),l(n,79,0,e.gqlExecutionContext),l(n,94,0,Et(n,95).target,Et(n,95).href),l(n,103,0,e.customDecorators),l(n,108,0,e.customDecoratorsExample)})}function dg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-guards-interceptors",[],null,null,null,pg,cg)),zt(1,8437760,null,0,sg,[Pe,Gl],null,null)],null,null)}var hg=Ct("app-guards-interceptors",sg,dg,{},{},[]),fg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"stitchingExample",{get:function(){return"\nmergeInfo => ({\n  User: {\n    chirps: {\n      fragment: `fragment UserFragment on User { id }`,\n      resolve(parent, args, context, info) {\n        const authorId = parent.id;\n        return mergeInfo.delegate(\n          'query',\n          'chirpsByAuthorId',\n          {\n            authorId,\n          },\n          context,\n          info,\n        );\n      },\n    },\n  }\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stitchNestWay",{get:function(){return"\n@Resolver('User')\n@DelegateProperty('chirps')\nfindChirpsByUserId() {\n  return (mergeInfo: MergeInfo) => ({\n    fragment: `fragment UserFragment on User { id }`,\n    resolve(parent, args, context, info) {\n      const authorId = parent.id;\n      return mergeInfo.delegate(\n        'query',\n        'chirpsByAuthorId',\n        {\n          authorId,\n        },\n        context,\n        info,\n      );\n    },\n  });\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createSchema",{get:function(){return"\nconfigure(consumer) {\n  const typeDefs = this.graphQLFactory.mergeTypesByPaths('./**/*.graphql');\n  const localSchema = this.graphQLFactory.createSchema({ typeDefs });\n  const delegates = this.graphQLFactory.createDelegates();\n  const schema = mergeSchemas({\n    schemas: [localSchema, chirpSchema, linkTypeDefs],\n    resolvers: delegates,\n  });\n\n  consumer\n    .apply(graphqlExpress(req => ({ schema, rootValue: req })))\n    .forRoutes('/graphql');\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chirpsSchema",{get:function(){return"\nimport { makeExecutableSchema } from 'graphql-tools';\n    \nconst chirpSchema = makeExecutableSchema({\n  typeDefs: `\n    type Chirp {\n      id: ID!\n      text: String\n      authorId: ID!\n    }\n\n    type Query {\n      chirpById(id: ID!): Chirp\n      chirpsByAuthorId(authorId: ID!): [Chirp]\n    }\n  `\n});\nconst linkTypeDefs = `\n  extend type User {\n    chirps: [Chirp]\n  }\n\n  extend type Chirp {\n    author: User\n  }\n`;"},enumerable:!0,configurable:!0}),n}(Kh),mg=Tu({encapsulation:2,styles:[],data:{}});function gg(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,82,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Schema stitching"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The schema stitching is a feature that allows creating a single GraphQL schema from multiple underlying GraphQL APIs. You can read more about it "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-tools/schema-stitching.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Proxying"])),(l()(),tt(11,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To add the ability to proxy fields between schemas, you need to create additional resolvers between them. Let's have a look on the example from the "])),(l()(),tt(13,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-tools/schema-stitching.html#adding-resolvers"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Apollo"])),(l()(),yr(-1,null,[" documentation: "])),(l()(),tt(16,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(17,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(18,null,["",""])),(l()(),tt(19,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here we delegate "])),(l()(),tt(21,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["chirps"])),(l()(),yr(-1,null,[" property of "])),(l()(),tt(24,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["User"])),(l()(),yr(-1,null,[" to another GraphQL API. In order to achieve the same behavior in Nest, we use "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@DelegateProperty()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(30,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(31,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(32,null,["",""])),(l()(),tt(33,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Resolver()"])),(l()(),yr(-1,null,[" decorator is used here at the method-level, but you can use it at top (class) level as well. "])),(l()(),tt(40,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, let's take a step back to the "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["graphqlExpress"])),(l()(),yr(-1,null,[" middleware. We need to merge our schemas and add delegates between them. To create delegates we use "])),(l()(),tt(45,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createDelegates()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(48,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQLFactory"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(51,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(52,null,[" "," "])),fr(53,2),(l()(),tt(54,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(55,49152,[["appModuleSchemaT",4]],0,Wh,[],null,null),(l()(),tt(56,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(57,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(58,null,["",""])),(l()(),tt(59,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to merge schemas, we have used "])),(l()(),tt(61,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mergeSchemas()"])),(l()(),yr(-1,null,[" function ("])),(l()(),tt(64,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-tools/schema-stitching.html#mergeSchemas"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["read more"])),(l()(),yr(-1,null,["). Moreover, you may notice "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["chirpsSchema"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["linkTypeDefs"])),(l()(),yr(-1,null,[" variables. They're copied & pasted directly from the "])),(l()(),tt(73,0,null,null,1,"a",[["href","https://www.apollographql.com/docs/graphql-tools/schema-stitching.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Apollo"])),(l()(),yr(-1,null,[" documentation. "])),(l()(),tt(76,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(77,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(78,49152,null,0,Wh,[],null,null),(l()(),tt(79,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(81,null,["",""])),(l()(),tt(82,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" That's all. "]))],null,function(l,n){var e=n.component;l(n,18,0,e.stitchingExample),l(n,32,0,e.stitchNestWay);var u=Ou(n,52,0,l(n,53,0,Et(n,0),"app.module",Et(n,55).isJsActive));l(n,52,0,u),l(n,58,0,e.createSchema),l(n,81,0,e.chirpsSchema)})}function yg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-schema-stitching",[],null,null,null,gg,mg)),zt(1,8437760,null,0,fg,[Pe,Gl],null,null)],null,null)}var bg=Ct("app-schema-stitching",fg,yg,{},{},[]),vg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"namespace",{get:function(){return"\n@WebSocketGateway(81, { namespace: 'events' })"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"moreOptions",{get:function(){return"\n@WebSocketGateway(81, { transports: ['websocket'] })"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subscribeEventsAck",{get:function(){return"\n@SubscribeMessage('events')\nonEvent(client, data: string): string {\n  return data;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subscribeEventsAckJs",{get:function(){return"\n@SubscribeMessage('events')\nonEvent(client, data) {\n  return data;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subscribeEvents",{get:function(){return"\n@SubscribeMessage('events')\nonEvent(client, data: any): WsResponse<any> {\n  const event = 'events';\n  return { event, data };\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subscribeEventsJs",{get:function(){return"\n@SubscribeMessage('events')\nonEvent(client, data) {\n  const event = 'events';\n  return { event, data };\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streamingJs",{get:function(){return"\n@SubscribeMessage('events')\nonEvent(client, data) {\n  const event = 'events';\n  const response = [1, 2, 3];\n\n  return from(response).pipe(\n    map(data => ({ event, data })),\n  );\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streaming",{get:function(){return"\n@SubscribeMessage('events')\nonEvent(client, data: any): Observable<WsResponse<number>> {\n  const event = 'events';\n  const response = [1, 2, 3];\n\n  return from(response).pipe(\n    map(data => ({ event, data })),\n  );\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"webSocketServer",{get:function(){return"\n@WebSocketServer() server;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientEmit",{get:function(){return"\nsocket.emit('events', { name: 'Nest' });"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientListen",{get:function(){return"\nsocket.on('events', (data) => console.log(data));"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ackListener",{get:function(){return"\nsocket.emit('events', { name: 'Nest' }, (data) => console.log(data));"},enumerable:!0,configurable:!0}),n}(Kh),wg=Tu({encapsulation:2,styles:[],data:{}});function xg(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,272,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Gateways"])),(l()(),tt(4,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Gateway is a class annotated with "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@WebSocketGateway()"])),(l()(),yr(-1,null,[" decorator. Gateways, by default, make use of "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://github.com/socketio/socket.io"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["socket.io"])),(l()(),yr(-1,null,[" package under the hood, but also, provide compatibility with a wide range of other libraries, including native web sockets implementation, read more "])),(l()(),tt(12,0,null,null,2,"a",[["routerLink","/websockets/adapter"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,13).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(13,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(16,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(17,0,null,null,0,"img",[["src","/assets/Gateways_1.png"]],null,null,null,null,null)),(l()(),tt(18,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Gateway behaves same as a simple "])),(l()(),tt(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["provider"])),(l()(),yr(-1,null,[", therefore it can effortlessly inject dependencies through constructor. Also, gateway might be injected by other classes (providers and controllers) as well. "])),(l()(),tt(25,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(27,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install the required package: "])),(l()(),tt(29,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(30,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save @nestjs/websockets"])),(l()(),tt(32,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(34,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In general, each gateway is listening to the same port as "])),(l()(),tt(36,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["HTTP server"])),(l()(),yr(-1,null,[" is running on, unless your app is not a web application, or you have changed the port manually. We can change this behavior by passing an argument to the "])),(l()(),tt(39,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@WebSocketGateway(81)"])),(l()(),yr(-1,null,[" decorator where "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["81"])),(l()(),yr(-1,null,[" is a chosen port number. Additionally, you can set a "])),(l()(),tt(45,0,null,null,1,"a",[["href","https://socket.io/docs/rooms-and-namespaces/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["namespace"])),(l()(),yr(-1,null,[" used by this gateway with the following construction: "])),(l()(),tt(48,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(49,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(50,null,["",""])),(l()(),tt(51,0,null,null,6,"blockquote",[],null,null,null,null,null)),(l()(),tt(52,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" The gateway won't start until you put it inside the "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["providers"])),(l()(),yr(-1,null,[" array. "])),(l()(),tt(58,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["namespace"])),(l()(),yr(-1,null,[" is not a sole available option. You can pass any other property that is mentioned "])),(l()(),tt(63,0,null,null,1,"a",[["href","https://socket.io/docs/server-api/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". Those properties will be passed to the socket constructor during the instantiation process. "])),(l()(),tt(66,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(67,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(68,null,["",""])),(l()(),tt(69,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alright, the gateway is listening now, but we are not subscribing to the incoming messages so far. Let's create a handler that will subscribe to the "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["events"])),(l()(),yr(-1,null,[" messages and respond to the user with the exact same data. "])),(l()(),tt(74,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(75,null,[" "," "])),fr(76,2),(l()(),tt(77,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(78,49152,[["subscribeEventsAckT",4]],0,Wh,[],null,null),(l()(),tt(79,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(80,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(81,null,["",""])),(l()(),tt(82,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(83,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(84,null,["",""])),(l()(),tt(85,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(86,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(89,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@SubscribeMessage()"])),(l()(),yr(-1,null,[" decorator is imported from "])),(l()(),tt(92,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(95,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["onEvent()"])),(l()(),yr(-1,null,[" function takes two arguments. First one is a library-specific "])),(l()(),tt(100,0,null,null,1,"a",[["href","https://socket.io/docs/server-api/#socket"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["socket instance"])),(l()(),yr(-1,null,[" and the second one is the data received from the client. Once we get the message, we send an acknowledgment with the same data that someone has sent over the network. Also, it is possible to emit messages using a library-specific approach, for example, by making use of "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["client.emit()"])),(l()(),yr(-1,null,[" method. However, in this case, you aren't able to use interceptors. If you don't want to respond to the user, just don't return anything (or explicitly return \"falsy\" value, e.g. "])),(l()(),tt(106,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["undefined"])),(l()(),yr(-1,null,["). "])),(l()(),tt(109,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now when the client emits a message in the following manner: "])),(l()(),tt(111,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(112,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(113,null,["",""])),(l()(),tt(114,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(116,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["onEvent()"])),(l()(),yr(-1,null,[" method will be executed. In order to listen for messages emitted from within above handler, the client has to attach a corresponding acknowledgment's listener: "])),(l()(),tt(119,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(120,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(121,null,["",""])),(l()(),tt(122,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple responses"])),(l()(),tt(124,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The acknowledgment is dispatched only once. Furthermore, it is not supported by native WebSockets implementation. To solve this limitation, you may return an object which consist of two properties. The "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["event"])),(l()(),yr(-1,null,[" which is a name of the emitted event and the "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" that has to be forwarded to the client. "])),(l()(),tt(132,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(133,null,[" "," "])),fr(134,2),(l()(),tt(135,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(136,49152,[["subscribeEventsT",4]],0,Wh,[],null,null),(l()(),tt(137,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(138,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(139,null,["",""])),(l()(),tt(140,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(141,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(142,null,["",""])),(l()(),tt(143,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(144,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsResponse"])),(l()(),yr(-1,null,[" interface is imported from "])),(l()(),tt(150,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(153,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to listen for the incoming response(s), the client has to apply another event listener. "])),(l()(),tt(155,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(156,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(157,null,["",""])),(l()(),tt(158,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Asynchronous responses"])),(l()(),tt(160,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each message handler can be either synchronous or "])),(l()(),tt(162,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[" ("])),(l()(),tt(165,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,["), thereby you're able to return the "])),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[". Moreover, you can return the "])),(l()(),tt(171,0,null,null,1,"a",[["href","https://github.com/reactivex/rxjs"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Rx"])),(l()(),yr(-1,null,["\xa0 "])),(l()(),tt(174,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[", which means that you can return multiple values (they will be emitted until the stream is completed). "])),(l()(),tt(177,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(178,null,[" "," "])),fr(179,2),(l()(),tt(180,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(181,49152,[["streamingT",4]],0,Wh,[],null,null),(l()(),tt(182,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(183,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(184,null,["",""])),(l()(),tt(185,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(186,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(187,null,["",""])),(l()(),tt(188,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The above message handler will respond "])),(l()(),tt(190,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["3 times"])),(l()(),yr(-1,null,[" (sequentially, with each item from the "])),(l()(),tt(193,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["response"])),(l()(),yr(-1,null,[" array). "])),(l()(),tt(196,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Lifecycle hooks"])),(l()(),tt(198,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are 3 useful lifecycle hooks. All of them have corresponding interfaces and are described in the following table: "])),(l()(),tt(200,0,null,null,28,"table",[],null,null,null,null,null)),(l()(),tt(201,0,null,null,27,"tbody",[],null,null,null,null,null)),(l()(),tt(202,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(203,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(204,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnGatewayInit"])),(l()(),tt(206,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Forces to implement the "])),(l()(),tt(208,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["afterInit()"])),(l()(),yr(-1,null,[" method. Takes library-specific server instance as an argument (and spreads the rest if required). "])),(l()(),tt(211,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(212,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(213,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnGatewayConnection"])),(l()(),tt(215,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Forces to implement the "])),(l()(),tt(217,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["handleConnection()"])),(l()(),yr(-1,null,[" method. Takes library-specific client socket instance as an argument. "])),(l()(),tt(220,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(221,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(222,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnGatewayDisconnect"])),(l()(),tt(224,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Forces to implement the "])),(l()(),tt(226,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["handleDisconnect()"])),(l()(),yr(-1,null,[" method. Takes library-specific client socket instance as an argument. "])),(l()(),tt(229,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(230,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Each lifecycle interface is exposed from "])),(l()(),tt(233,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(236,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Server"])),(l()(),tt(238,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Occasionally, you may want to have a direct access to the native, "])),(l()(),tt(240,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["library-specific"])),(l()(),yr(-1,null,[" server instance. The reference to this object is passed as an argument to the "])),(l()(),tt(243,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["afterInit()"])),(l()(),yr(-1,null,[" method ("])),(l()(),tt(246,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnGatewayInit"])),(l()(),yr(-1,null,[" interface). The second approach is to make use of "])),(l()(),tt(249,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@WebSocketServer()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(252,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(253,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(254,null,["",""])),(l()(),tt(255,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(256,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(259,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@WebSocketServer()"])),(l()(),yr(-1,null,[" decorator is imported from the "])),(l()(),tt(262,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(265,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest will automatically assign the server instance to this property when it's ready to use. "])),(l()(),tt(267,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(269,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(271,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/02-gateways"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,13,0,"/websockets/adapter")},function(l,n){var e=n.component;l(n,12,0,Et(n,13).target,Et(n,13).href),l(n,50,0,e.namespace),l(n,68,0,e.moreOptions);var u=Ou(n,75,0,l(n,76,0,Et(n,0),"events.gateway",Et(n,78).isJsActive));l(n,75,0,u),l(n,79,0,Et(n,78).isJsActive),l(n,81,0,e.subscribeEventsAck),l(n,82,0,!Et(n,78).isJsActive),l(n,84,0,e.subscribeEventsAckJs),l(n,113,0,e.clientEmit),l(n,121,0,e.ackListener);var t=Ou(n,133,0,l(n,134,0,Et(n,0),"events.gateway",Et(n,136).isJsActive));l(n,133,0,t),l(n,137,0,Et(n,136).isJsActive),l(n,139,0,e.subscribeEvents),l(n,140,0,!Et(n,136).isJsActive),l(n,142,0,e.subscribeEventsJs),l(n,157,0,e.clientListen);var r=Ou(n,178,0,l(n,179,0,Et(n,0),"events.gateway",Et(n,181).isJsActive));l(n,178,0,r),l(n,182,0,Et(n,181).isJsActive),l(n,184,0,e.streaming),l(n,185,0,!Et(n,181).isJsActive),l(n,187,0,e.streamingJs),l(n,254,0,e.webSocketServer)})}function Cg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-gateways",[],null,null,null,xg,wg)),zt(1,8437760,null,0,vg,[Pe,Gl],null,null)],null,null)}var kg=Ct("app-gateways",vg,Cg,{},{},[]),jg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UsePipes(new ValidationPipe())\n@SubscribeMessage('events')\nonEvent(client, data: any): WsResponse<any> {\n  const event = 'events';\n  return { event, data };\n}"},enumerable:!0,configurable:!0}),n}(Kh),Og=Tu({encapsulation:2,styles:[],data:{}});function Sg(l){return wr(2,[(l()(),tt(0,0,null,null,40,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Pipes"])),(l()(),tt(3,0,null,null,17,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no difference between web sockets "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["pipes"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(8,0,null,null,2,"a",[["routerLink","/pipes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,9).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(9,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["regular pipes"])),(l()(),yr(-1,null,[". The only thing you should be aware of is that instead of throwing "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", you should use the "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsException"])),(l()(),yr(-1,null,[". Besides, all pipes will be applied only to the "])),(l()(),tt(18,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" parameter. "])),(l()(),tt(21,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsException"])),(l()(),yr(-1,null,[" class is exposed from "])),(l()(),tt(28,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(31,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding pipes"])),(l()(),tt(33,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is an example that makes use of a manually instantiated "])),(l()(),tt(35,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" pipe (class-scoped works either): "])),(l()(),tt(38,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(39,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(40,null,["",""]))],function(l,n){l(n,9,0,"/pipes")},function(l,n){var e=n.component;l(n,8,0,Et(n,9).target,Et(n,9).href),l(n,40,0,e.example)})}function Pg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-pipes",[],null,null,null,Sg,Og)),zt(1,8437760,null,0,jg,[Pe,Gl],null,null)],null,null)}var Tg=Ct("app-pipes",jg,Pg,{},{},[]),Ag=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"wsException",{get:function(){return"\nthrow new WsException('Invalid credentials.');"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionResponse",{get:function(){return"\n{\n  status: 'error',\n  message: 'Invalid credentials.'\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UseFilters(new WsExceptionFilter())\n@SubscribeMessage('events')\nonEvent(client, data: any): WsResponse<any> {\n  const event = 'events';\n  return { event, data };\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritance",{get:function(){return"\nimport { Catch, ArgumentsHost } from '@nestjs/common';\nimport { BaseWsExceptionFilter } from '@nestjs/websockets';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseWsExceptionFilter {\n  catch(exception: any, host: ArgumentsHost) {\n    super.catch(exception, host);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritanceJs",{get:function(){return"\nimport { Catch } from '@nestjs/common';\nimport { BaseWsExceptionFilter } from '@nestjs/websockets';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseWsExceptionFilter {\n  catch(exception, host) {\n    super.catch(exception, host);\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),Mg=Tu({encapsulation:2,styles:[],data:{}});function _g(l){return wr(2,[(l()(),tt(0,0,null,null,83,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exception filters"])),(l()(),tt(3,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The only difference between "])),(l()(),tt(5,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,6).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(6,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["HTTP exception filter"])),(l()(),yr(-1,null,[" layer and corresponding web sockets layer is that instead of throwing "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", you should rather use "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsException"])),(l()(),yr(-1,null,[". "])),(l()(),tt(15,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(17,null,["",""])),(l()(),tt(18,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsException"])),(l()(),yr(-1,null,[" class is imported from the "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(28,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest will handle thrown exception and as a result, emits the "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["exception"])),(l()(),yr(-1,null,[" message with the following structure: "])),(l()(),tt(33,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(35,null,["",""])),(l()(),tt(36,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Filters"])),(l()(),tt(38,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(40,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["custom filters"])),(l()(),yr(-1,null,[" feature is supported as well and works equivalently. Here is an example that makes use of a manually instantiated "])),(l()(),tt(43,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" filter (class-scoped works either): "])),(l()(),tt(46,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(47,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(48,null,["",""])),(l()(),tt(49,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Inheritance"])),(l()(),tt(51,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Typically, you'll create fully customized exception filters crafted to fulfill your application requirements. There might be use-cases though when you would like to reuse an already implemented, "])),(l()(),tt(53,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["core exception filter"])),(l()(),yr(-1,null,[", and override the behavior based on certain factors. "])),(l()(),tt(56,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to delegate exception processing to the base filter, you need to extend "])),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["BaseWsExceptionFilter"])),(l()(),yr(-1,null,[" and call inherited "])),(l()(),tt(61,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catch()"])),(l()(),yr(-1,null,[" method. Besides, "])),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpServer"])),(l()(),yr(-1,null,[" reference has to be injected and passed to the "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["super()"])),(l()(),yr(-1,null,[" call. "])),(l()(),tt(70,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(71,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(72,49152,[["inheritanceT",4]],0,Wh,[],null,null),(l()(),tt(73,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(74,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(75,null,["",""])),(l()(),tt(76,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(77,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(78,null,["",""])),(l()(),tt(79,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, you should enhance above implementation with your tailored "])),(l()(),tt(81,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["business"])),(l()(),yr(-1,null,[" logic (e.g. add various conditions). "]))],function(l,n){l(n,6,0,"/exception-filters")},function(l,n){var e=n.component;l(n,5,0,Et(n,6).target,Et(n,6).href),l(n,17,0,e.wsException),l(n,35,0,e.exceptionResponse),l(n,48,0,e.example),l(n,73,0,Et(n,72).isJsActive),l(n,75,0,e.inheritance),l(n,76,0,!Et(n,72).isJsActive),l(n,78,0,e.inheritanceJs)})}function Ig(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-exception-filters",[],null,null,null,_g,Mg)),zt(1,8437760,null,0,Ag,[Pe,Gl],null,null)],null,null)}var Eg=Ct("app-exception-filters",Ag,Ig,{},{},[]),Rg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UseGuards(AuthGuard)\n@SubscribeMessage('events')\nonEvent(client, data: any): WsResponse<any> {\n  const event = 'events';\n  return { event, data };\n}"},enumerable:!0,configurable:!0}),n}(Kh),Ng=Tu({encapsulation:2,styles:[],data:{}});function qg(l){return wr(2,[(l()(),tt(0,0,null,null,37,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Guards"])),(l()(),tt(3,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no difference between web sockets "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(8,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,9).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(9,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["regular guards"])),(l()(),yr(-1,null,[". The only thing you should be aware of is that instead of throwing "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", you should use the "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsException"])),(l()(),yr(-1,null,[". "])),(l()(),tt(18,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsException"])),(l()(),yr(-1,null,[" class is exposed from "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(28,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding guards"])),(l()(),tt(30,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is an example that makes use of a "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" guard (class-scoped works either): "])),(l()(),tt(35,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(36,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(37,null,["",""]))],function(l,n){l(n,9,0,"/guards")},function(l,n){var e=n.component;l(n,8,0,Et(n,9).target,Et(n,9).href),l(n,37,0,e.example)})}function Dg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-guards",[],null,null,null,qg,Ng)),zt(1,8437760,null,0,Rg,[Pe,Gl],null,null)],null,null)}var Hg=Ct("app-guards",Rg,Dg,{},{},[]),Lg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UseInterceptors(new TransformInterceptor())\n@SubscribeMessage('events')\nonEvent(client, data: any): WsResponse<any> {\n  const event = 'events';\n  return { event, data };\n}"},enumerable:!0,configurable:!0}),n}(Kh),Fg=Tu({encapsulation:2,styles:[],data:{}});function Jg(l){return wr(2,[(l()(),tt(0,0,null,null,14,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Interceptors"])),(l()(),tt(3,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no difference between "])),(l()(),tt(5,0,null,null,2,"a",[["routerLink","/interceptors"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,6).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(6,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["regular interceptors"])),(l()(),yr(-1,null,[" and the web sockets interceptors. Here is an example that makes use of a manually instantiated "])),(l()(),tt(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" filter (class-scoped works either): "])),(l()(),tt(12,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(14,null,["",""]))],function(l,n){l(n,6,0,"/interceptors")},function(l,n){var e=n.component;l(n,5,0,Et(n,6).target,Et(n,6).href),l(n,14,0,e.example)})}function Ug(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-interceptors",[],null,null,null,Jg,Fg)),zt(1,8437760,null,0,Lg,[Pe,Gl],null,null)],null,null)}var Bg=Ct("app-interceptors",Lg,Ug,{},{},[]),Gg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"wsAdapter",{get:function(){return"\nimport * as WebSocket from 'ws';\nimport { WebSocketAdapter, MessageMappingProperties, INestApplicationContext } from '@nestjs/common';\nimport { Observable, fromEvent, empty } from 'rxjs';\nimport { mergeMap, filter, tap } from 'rxjs/operators';\n\nexport class WsAdapter implements WebSocketAdapter {\n  constructor(private readonly app: INestApplicationContext) {}\n\n  create(port: number, options: any = {}): any {\n    return new ws.Server({ port, ...options });\n  }\n\n  bindClientConnect(server, callback: (...args) => void) {\n    server.on('connection', callback);\n  }\n\n  bindMessageHandlers(\n    client: WebSocket,\n    handlers: MessageMappingProperties[],\n    process: (data: any) => Observable<any>,\n  ) {\n    fromEvent(client, 'message')\n      .pipe(\n        mergeMap(data => this.bindMessageHandler(data, handlers, process)),\n        filter(result => result),\n      )\n      .subscribe(response => client.send(JSON.stringify(response)));\n  }\n\n  bindMessageHandler(\n    buffer,\n    handlers: MessageMappingProperties[],\n    process: (data: any) => Observable<any>,\n  ): Observable<any> {\n    const message = JSON.parse(buffer.data);\n    const messageHandler = handlers.find(\n      handler => handler.message === message.event,\n    );\n    if (!messageHandler) {\n      return empty;\n    }\n    return process(messageHandler.callback(message.data));\n  }\n\n  close(server) {\n    server.close();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wsAdapterJs",{get:function(){return"\nimport * as WebSocket from 'ws';\nimport { mergeMap, filter, tap } from 'rxjs/operators';\nimport { fromEvent, empty } from 'rxjs';\n\nexport class WsAdapter {\n  constructor(app) {\n    this.app = app;\n  }\n\n  create(port, options = {}) {\n    return new ws.Server({ port, ...options });\n  }\n\n  bindClientConnect(server, callback) {\n    server.on('connection', callback);\n  }\n\n  bindMessageHandlers(client, handlers, process) {\n    fromEvent(client, 'message')\n      .pipe(\n        mergeMap(data => this.bindMessageHandler(data, handlers, process)),\n        filter(result => !!result),\n      )\n      .subscribe(response => client.send(JSON.stringify(response)));\n  }\n\n  bindMessageHandler(buffer, handlers, process) {\n    const message = JSON.parse(buffer.data);\n    const messageHandler = handlers.find(\n      handler => handler.message === message.event,\n    );\n    if (!messageHandler) {\n      return empty;\n    }\n    return process(messageHandler.callback(message.data));\n  }\n\n  close(server) {\n    server.close();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setupAdapter",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.useWebSocketAdapter(new WsAdapter(app));"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setupRedisAdapter",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.useWebSocketAdapter(new RedisIoAdapter(app));"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendIoAdapter",{get:function(){return"\nimport { IoAdapter } from '@nestjs/websockets';\nimport * as redisIoAdapter from 'socket.io-redis';\n\nconst redisAdapter = redisIoAdapter({ host: 'localhost', port: 6379 });\n\nexport class RedisIoAdapter extends IoAdapter {\n  createIOServer(port: number, options?: any): any {\n    const server = super.createIOServer(port, options);\n    server.adapter(redisAdapter);\n    return server;\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),Wg=Tu({encapsulation:2,styles:[],data:{}});function zg(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,148,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Adapters"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The WebSockets module is based on "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://github.com/socketio/socket.io"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["socket.io"])),(l()(),yr(-1,null,[" package, but you can bring your own library (or even a native implementation), by making use of "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WebSocketAdapter"])),(l()(),yr(-1,null,[" interface. This interface forces to implement few methods described in the following table: "])),(l()(),tt(12,0,null,null,31,"table",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,30,"tbody",[],null,null,null,null,null)),(l()(),tt(14,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(15,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["create"])),(l()(),tt(18,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Creates a socket instance based on passed arguments"])),(l()(),tt(20,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(21,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["bindClientConnect"])),(l()(),tt(24,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binds the client connection event"])),(l()(),tt(26,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(27,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(28,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["bindClientDisconnect"])),(l()(),tt(30,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binds the client disconnection event (optional*)"])),(l()(),tt(32,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(33,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["bindMessageHandlers"])),(l()(),tt(36,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binds the incoming message to the corresponding message handler"])),(l()(),tt(38,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(39,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["close"])),(l()(),tt(42,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Terminates a server instance"])),(l()(),tt(44,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Extend socket.io"])),(l()(),tt(46,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The socket.io package is wrapped in an "])),(l()(),tt(48,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["IoAdapter"])),(l()(),yr(-1,null,[" class. What if you would like to enhance the basic functionality of the adapter? For instance, your technical requirements require a capability to broadcast events across multiple load-balanced instances of your web service. For this, you can extend "])),(l()(),tt(51,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["IoAdapter"])),(l()(),yr(-1,null,[" and override a single method which responsibility is to instantiate new socket.io servers. But first of all, let's install the required package. "])),(l()(),tt(54,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(55,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save socket.io-redis"])),(l()(),tt(57,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the package is installed, we can create a "])),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RedisIoAdapter"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(62,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(63,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(64,null,["",""])),(l()(),tt(65,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, simply switch to your newly created Redis adapter. "])),(l()(),tt(67,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(68,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(69,null,["",""])),(l()(),tt(70,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Ws library"])),(l()(),tt(72,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Another built-in adapter is a "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsAdapter"])),(l()(),yr(-1,null,[" which in turn acts like a proxy between the framework and integrate blazing fast and thoroughly tested "])),(l()(),tt(77,0,null,null,1,"a",[["href","https://github.com/websockets/ws"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["ws"])),(l()(),yr(-1,null,[" library. This adapter is fully compatible with native browser WebSockets and is far faster than socket.io package. Unluckily, it has significantly fewer functionalities available out-of-the-box. In some cases, you may just don't necesserily need them though. "])),(l()(),tt(80,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(81,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(82,null,["",""])),(l()(),tt(83,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(84,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsAdapter"])),(l()(),yr(-1,null,[" is imported from "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[". "])),(l()(),tt(93,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Advanced (custom adapter)"])),(l()(),tt(95,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" For demonstration purposes, we are going to handwritten integrate the "])),(l()(),tt(97,0,null,null,1,"a",[["href","https://github.com/websockets/ws"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["ws"])),(l()(),yr(-1,null,[" library. As mentioned, the adapter for this library is already created and is exposed from the "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/websockets"])),(l()(),yr(-1,null,[" package as a "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsAdapter"])),(l()(),yr(-1,null,[" class. Here is how the simplified implementation could potentialy looks like: "])),(l()(),tt(106,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(107,null,[" "," "])),fr(108,2),(l()(),tt(109,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(110,49152,[["wsAdapterT",4]],0,Wh,[],null,null),(l()(),tt(111,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(112,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(113,null,["",""])),(l()(),tt(114,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(115,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(116,null,["",""])),(l()(),tt(117,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(118,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" When you want to take advantage of "])),(l()(),tt(121,0,null,null,1,"a",[["href","https://github.com/websockets/ws"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["ws"])),(l()(),yr(-1,null,[" library, use built-in "])),(l()(),tt(124,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsAdapter"])),(l()(),yr(-1,null,[" instead of creating your own one. "])),(l()(),tt(127,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we can set up a custom adapter using "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useWebSocketAdapter()"])),(l()(),yr(-1,null,[" method: "])),(l()(),tt(132,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(133,null,[" "," "])),fr(134,2),(l()(),tt(135,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(136,49152,[["setupAdapterT",4]],0,Wh,[],null,null),(l()(),tt(137,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(138,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(139,null,["",""])),(l()(),tt(140,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(142,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example that uses "])),(l()(),tt(144,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["WsAdapter"])),(l()(),yr(-1,null,[" is available "])),(l()(),tt(147,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/16-gateways-ws"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component;l(n,64,0,e.extendIoAdapter),l(n,69,0,e.setupRedisAdapter),l(n,82,0,e.setupAdapter);var u=Ou(n,107,0,l(n,108,0,Et(n,0),"ws-adapter",Et(n,110).isJsActive));l(n,107,0,u),l(n,111,0,Et(n,110).isJsActive),l(n,113,0,e.wsAdapter),l(n,114,0,!Et(n,110).isJsActive),l(n,116,0,e.wsAdapterJs);var t=Ou(n,133,0,l(n,134,0,Et(n,0),"main",Et(n,136).isJsActive));l(n,133,0,t),l(n,139,0,e.setupAdapter)})}function Vg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-adapter",[],null,null,null,zg,Wg)),zt(1,8437760,null,0,Gg,[Pe,Gl],null,null)],null,null)}var Kg=Ct("app-adapter",Gg,Vg,{},{},[]),Qg=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"bootstrap",{get:function(){return"\nimport { NestFactory } from '@nestjs/core';\nimport { Transport } from '@nestjs/microservices';\nimport { ApplicationModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.createMicroservice(ApplicationModule, {\n    transport: Transport.TCP,\n  });\n  app.listen(() => console.log('Microservice is listening'));\n}\nbootstrap();\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mathController",{get:function(){return"\nimport { Controller } from '@nestjs/common';\nimport { MessagePattern } from '@nestjs/microservices';\n\n@Controller()\nexport class MathController {\n  @MessagePattern({ cmd: 'sum' })\n  sum(data: number[]): number {\n    return (data || []).reduce((a, b) => a + b);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mathControllerJs",{get:function(){return"\nimport { Controller } from '@nestjs/common';\nimport { MessagePattern } from '@nestjs/microservices';\n\n@Controller()\nexport class MathController {\n  @MessagePattern({ cmd: 'sum' })\n  sum(data) {\n    return (data || []).reduce((a, b) => a + b);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streaming",{get:function(){return"\n@MessagePattern({ cmd: 'sum' })\nsum(data: number[]): Observable<number> {\n  return from([1, 2, 3]);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streamingJs",{get:function(){return"\n@MessagePattern({ cmd: 'sum' })\nsum(data) {\n  return from([1, 2, 3]);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncPromise",{get:function(){return"\n@MessagePattern({ cmd: 'sum' })\nasync sum(data: number[]): Promise<number> {\n  return (data || []).reduce((a, b) => a + b);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncPromiseJs",{get:function(){return"\n@MessagePattern({ cmd: 'sum' })\nasync sum(data) {\n  return (data || []).reduce((a, b) => a + b);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientDecorator",{get:function(){return"\n@Client({ transport: Transport.TCP })\nclient: ClientProxy;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sendMethod",{get:function(){return"\n@Get()\ncall(): Observable<number> {\n  const pattern = { cmd: 'sum' };\n  const payload = [1, 2, 3];\n  return this.client.send<number>(pattern, payload);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientProxy",{get:function(){return"\nconstructor() {\n  this.client = ClientProxyFactory.create({\n    transport: Transport.TCP\n  });\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connect",{get:function(){return"\nasync onModuleInit() {\n  await this.client.connect();\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sendMethodJs",{get:function(){return"\n@Get()\ncall() {\n  const pattern = { cmd: 'sum' };\n  const payload = [1, 2, 3];\n  return this.client.send(pattern, payload);\n}"},enumerable:!0,configurable:!0}),n}(Kh),$g=Tu({encapsulation:2,styles:[],data:{}});function Yg(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,287,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Basics"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The Nest microservice is a type of application that uses a different "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["transport"])),(l()(),yr(-1,null,[" layer than HTTP. "])),(l()(),tt(9,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(10,0,null,null,0,"img",[["src","/assets/Microservices_1.png"]],null,null,null,null,null)),(l()(),tt(11,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(13,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install the required package: "])),(l()(),tt(15,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save @nestjs/microservices"])),(l()(),tt(18,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(20,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In general, Nest supports a bunch of built-in transporters. They are based on "])),(l()(),tt(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["request-response"])),(l()(),yr(-1,null,[" paradigm and a whole communication logic is hidden behind an abstraction layer. Thanks to that you can easily switch between transporters without changing any line of your code. We don't support streaming platforms with log based persistance, such as "])),(l()(),tt(25,0,null,null,1,"a",[["href","https://docs.confluent.io/3.0.0/streams/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Kafka"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(28,0,null,null,1,"a",[["href","https://github.com/nats-io/node-nats-streaming"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["NATS streaming"])),(l()(),yr(-1,null,[" because they have been created to solve a different range of issues. However, you can still use them with Nest by making use of "])),(l()(),tt(31,0,null,null,2,"a",[["routerLink","/execution-context"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,32).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(32,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["execution context"])),(l()(),yr(-1,null,[" feature. "])),(l()(),tt(35,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create a microservice, we use "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestFactory"])),(l()(),yr(-1,null,[" class. By default, a microservice listens on messages via "])),(l()(),tt(43,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TCP protocol"])),(l()(),yr(-1,null,[". "])),(l()(),tt(46,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(47,null,[" "," "])),fr(48,2),(l()(),tt(49,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(50,49152,[["bootstrapT",4]],0,Wh,[],null,null),(l()(),tt(51,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(52,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(53,null,["",""])),(l()(),tt(54,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The second argument of the "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method is an options object. This object may have two members: "])),(l()(),tt(59,0,null,null,13,"table",[],null,null,null,null,null)),(l()(),tt(60,0,null,null,12,"tbody",[],null,null,null,null,null)),(l()(),tt(61,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(62,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(63,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transport"])),(l()(),tt(65,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Specifies the transporter"])),(l()(),tt(67,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(68,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(69,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["options"])),(l()(),tt(71,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["A transporter-specific options object that determines transporter behaviour"])),(l()(),tt(73,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(75,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["options"])),(l()(),yr(-1,null,[" object is different depending on chosen transporter. A "])),(l()(),tt(78,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TCP"])),(l()(),yr(-1,null,[" transporter exposes few properties described below. "])),(l()(),tt(81,0,null,null,25,"table",[],null,null,null,null,null)),(l()(),tt(82,0,null,null,24,"tbody",[],null,null,null,null,null)),(l()(),tt(83,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(84,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["host"])),(l()(),tt(87,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection hostname"])),(l()(),tt(89,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(90,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["port"])),(l()(),tt(93,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection port"])),(l()(),tt(95,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(96,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["retryAttempts"])),(l()(),tt(99,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["A total amount of connection attempts"])),(l()(),tt(101,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(102,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["retryDelay"])),(l()(),tt(105,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["A connection retrying delay (ms)"])),(l()(),tt(107,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Patterns"])),(l()(),tt(109,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A microservice recognizes messages through "])),(l()(),tt(111,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["patterns"])),(l()(),yr(-1,null,[". The pattern is a plain value, for example, a literal object, string, or a symbol. In order to create a pattern handler, we use the "])),(l()(),tt(114,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@MessagePattern()"])),(l()(),yr(-1,null,[" decorator which is imported from the "])),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(120,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(121,null,[" "," "])),fr(122,2),(l()(),tt(123,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(124,49152,[["mathControllerT",4]],0,Wh,[],null,null),(l()(),tt(125,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(126,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(127,null,["",""])),(l()(),tt(128,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(129,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(130,null,["",""])),(l()(),tt(131,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(133,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["sum()"])),(l()(),yr(-1,null,[" handler is listening to messages that fulfil the "])),(l()(),tt(136,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cmd: 'sum'"])),(l()(),yr(-1,null,[" pattern. The pattern handler takes a single argument, the "])),(l()(),tt(139,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" passed from the client. In this case, the data is an array of numbers which has to be accumulated. "])),(l()(),tt(142,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Asynchronous responses"])),(l()(),tt(144,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each pattern handler is able to respond either synchronously or "])),(l()(),tt(146,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronously"])),(l()(),yr(-1,null,[". Hence, "])),(l()(),tt(149,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" methods are supported. "])),(l()(),tt(152,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(153,null,[" "," "])),fr(154,2),(l()(),tt(155,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(156,49152,[["asyncT",4]],0,Wh,[],null,null),(l()(),tt(157,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(158,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(159,null,["",""])),(l()(),tt(160,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(161,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(162,null,["",""])),(l()(),tt(163,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Additionally, we are able to return the "])),(l()(),tt(165,0,null,null,1,"a",[["href","https://github.com/reactivex/rxjs"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Rx"])),(l()(),yr(-1,null,["\xa0"])),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[", and thus the values will be emitted until the stream is completed. "])),(l()(),tt(171,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(172,null,[" "," "])),fr(173,2),(l()(),tt(174,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(175,49152,[["streamingT",4]],0,Wh,[],null,null),(l()(),tt(176,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(177,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(178,null,["",""])),(l()(),tt(179,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(180,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(181,null,["",""])),(l()(),tt(182,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above message handler will respond "])),(l()(),tt(184,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["3 times"])),(l()(),yr(-1,null,[" (with each item from the array). "])),(l()(),tt(187,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Client"])),(l()(),tt(189,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to connect with the Nest microservice, we are using the "])),(l()(),tt(191,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" class which instance is assigned to a property through "])),(l()(),tt(194,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Client()"])),(l()(),yr(-1,null,[" decorator. This decorator takes a single argument. It is the same object as a Nest microservice options object. "])),(l()(),tt(197,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(198,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(199,null,["",""])),(l()(),tt(200,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(201,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Both "])),(l()(),tt(204,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Client()"])),(l()(),yr(-1,null,[" decorator and "])),(l()(),tt(207,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" class are imported from the "])),(l()(),tt(210,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(213,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Another solution would be to manually create the "])),(l()(),tt(215,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" instance using the "])),(l()(),tt(218,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxyFactory"])),(l()(),yr(-1,null,[" (exported from "])),(l()(),tt(221,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package). "])),(l()(),tt(224,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(225,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(226,null,["",""])),(l()(),tt(227,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(229,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" is "])),(l()(),tt(232,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["lazy"])),(l()(),yr(-1,null,[". It doesn't initiate a connection immediately. Instead, it will be established before the first microservice's call, and then reused across each subsequent call. However, if you want to delay an application's bootstrapping process and manually initialize a connection, you can use a "])),(l()(),tt(235,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["connect()"])),(l()(),yr(-1,null,[" method inside the "])),(l()(),tt(238,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnModuleInit"])),(l()(),yr(-1,null,[" lifecycle hook. "])),(l()(),tt(241,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(242,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(243,null,["",""])),(l()(),tt(244,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If the connection cannot be created, the "])),(l()(),tt(246,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["connect()"])),(l()(),yr(-1,null,[" method will reject with the corresponding error object. "])),(l()(),tt(249,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(251,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" exposes a "])),(l()(),tt(254,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["send()"])),(l()(),yr(-1,null,[" method. This method is intended to call the microservice and returns the "])),(l()(),tt(257,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[" with its response, meaning, we can subscribe to the emitted values easily. "])),(l()(),tt(260,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(261,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(262,49152,[["sendMethodT",4]],0,Wh,[],null,null),(l()(),tt(263,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(264,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(265,null,["",""])),(l()(),tt(266,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(267,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(268,null,["",""])),(l()(),tt(269,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(271,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["send()"])),(l()(),yr(-1,null,[" method takes 2 arguments, "])),(l()(),tt(274,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["pattern"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(277,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["payload"])),(l()(),yr(-1,null,[". The "])),(l()(),tt(280,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["pattern"])),(l()(),yr(-1,null,[" has to be equal to this one defined in the "])),(l()(),tt(283,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@MessagePattern()"])),(l()(),yr(-1,null,[" decorator, while "])),(l()(),tt(286,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["payload"])),(l()(),yr(-1,null,[" is a message that we want to transmit to another microservice. "]))],function(l,n){l(n,32,0,"/execution-context")},function(l,n){var e=n.component;l(n,31,0,Et(n,32).target,Et(n,32).href);var u=Ou(n,47,0,l(n,48,0,Et(n,0),"main",Et(n,50).isJsActive));l(n,47,0,u),l(n,53,0,e.bootstrap);var t=Ou(n,121,0,l(n,122,0,Et(n,0),"math.controller",Et(n,124).isJsActive));l(n,121,0,t),l(n,125,0,Et(n,124).isJsActive),l(n,127,0,e.mathController),l(n,128,0,!Et(n,124).isJsActive),l(n,130,0,e.mathControllerJs);var r=Ou(n,153,0,l(n,154,0,Et(n,0),"math.controller",Et(n,156).isJsActive));l(n,153,0,r),l(n,157,0,Et(n,156).isJsActive),l(n,159,0,e.asyncPromise),l(n,160,0,!Et(n,156).isJsActive),l(n,162,0,e.asyncPromiseJs);var o=Ou(n,172,0,l(n,173,0,Et(n,0),"math.controller",Et(n,175).isJsActive));l(n,172,0,o),l(n,176,0,Et(n,175).isJsActive),l(n,178,0,e.streaming),l(n,179,0,!Et(n,175).isJsActive),l(n,181,0,e.streamingJs),l(n,199,0,e.clientDecorator),l(n,226,0,e.clientProxy),l(n,243,0,e.connect),l(n,263,0,Et(n,262).isJsActive),l(n,265,0,e.sendMethod),l(n,266,0,!Et(n,262).isJsActive),l(n,268,0,e.sendMethodJs)})}function Xg(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-basics",[],null,null,null,Yg,$g)),zt(1,8437760,null,0,Qg,[Pe,Gl],null,null)],null,null)}var Zg=Ct("app-basics",Qg,Xg,{},{},[]),ly=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"options",{get:function(){return"\nconst app = await NestFactory.createMicroservice(ApplicationModule, {\n  transport: Transport.REDIS,\n  options: {\n    url: 'redis://localhost:6379',\n  },\n});"},enumerable:!0,configurable:!0}),n}(Kh),ny=Tu({encapsulation:2,styles:[],data:{}});function ey(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,61,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Redis"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A second built-in transporter is based on "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://redis.io/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Redis"])),(l()(),yr(-1,null,[" database. This transporter takes advantage of "])),(l()(),tt(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["publish/subscribe"])),(l()(),yr(-1,null,[" feature. "])),(l()(),tt(12,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,0,"img",[["src","/assets/Redis_1.png"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(16,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Before we start, we have to install required package:"])),(l()(),tt(18,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save redis"])),(l()(),tt(21,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(23,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to switch from TCP transport strategy to Redis "])),(l()(),tt(25,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["pub/sub"])),(l()(),yr(-1,null,[", we need to change an options object passed to the "])),(l()(),tt(28,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(31,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(32,null,[" "," "])),fr(33,2),(l()(),tt(34,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(35,49152,[["optionsT",4]],0,Wh,[],null,null),(l()(),tt(36,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(37,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(38,null,["",""])),(l()(),tt(39,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Options"])),(l()(),tt(41,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are a bunch of available options that determine a transporter behaviour. "])),(l()(),tt(43,0,null,null,19,"table",[],null,null,null,null,null)),(l()(),tt(44,0,null,null,18,"tbody",[],null,null,null,null,null)),(l()(),tt(45,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["url"])),(l()(),tt(49,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection url"])),(l()(),tt(51,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(52,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(53,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["retryAttempts"])),(l()(),tt(55,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["A total amount of connection attempts"])),(l()(),tt(57,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(58,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["retryDelay"])),(l()(),tt(61,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["A connection retrying delay (ms)"]))],null,function(l,n){var e=n.component,u=Ou(n,32,0,l(n,33,0,Et(n,0),"main",Et(n,35).isJsActive));l(n,32,0,u),l(n,38,0,e.options)})}function uy(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-redis",[],null,null,null,ey,ny)),zt(1,8437760,null,0,ly,[Pe,Gl],null,null)],null,null)}var ty=Ct("app-redis",ly,uy,{},{},[]),ry=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"options",{get:function(){return"\nconst app = await NestFactory.createMicroservice(ApplicationModule, {\n  transport: Transport.MQTT,\n  options: {\n    host: 'localhost',\n    port: 1883,\n  },\n});"},enumerable:!0,configurable:!0}),n}(Kh),oy=Tu({encapsulation:2,styles:[],data:{}});function ay(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,39,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["MQTT"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(6,0,null,null,1,"a",[["href","http://mqtt.org/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["MQTT"])),(l()(),yr(-1,null,[" is a lightweight messaging protocol, optimized for high-latency. "])),(l()(),tt(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Before we start, we have to install required package:"])),(l()(),tt(13,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save mqtt"])),(l()(),tt(16,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(18,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to switch to "])),(l()(),tt(20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["MQTT"])),(l()(),yr(-1,null,[" transporter, we need to modify an options object passed to the "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(26,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(27,null,[" "," "])),fr(28,2),(l()(),tt(29,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(30,49152,[["optionsT",4]],0,Wh,[],null,null),(l()(),tt(31,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(33,null,["",""])),(l()(),tt(34,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Options"])),(l()(),tt(36,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are a bunch of available options that determine a transporter behavior. They are well-described "])),(l()(),tt(38,0,null,null,1,"a",[["href","https://github.com/mqttjs/MQTT.js"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component,u=Ou(n,27,0,l(n,28,0,Et(n,0),"main",Et(n,30).isJsActive));l(n,27,0,u),l(n,33,0,e.options)})}function iy(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-mqtt",[],null,null,null,ay,oy)),zt(1,8437760,null,0,ry,[Pe,Gl],null,null)],null,null)}var sy=Ct("app-mqtt",ry,iy,{},{},[]),cy=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"options",{get:function(){return"\nconst app = await NestFactory.createMicroservice(ApplicationModule, {\n  transport: Transport.NATS,\n  options: {\n    url: 'nats://localhost:4222',\n  },\n});"},enumerable:!0,configurable:!0}),n}(Kh),py=Tu({encapsulation:2,styles:[],data:{}});function dy(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,45,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["NATS"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://nats.io"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["NATS"])),(l()(),yr(-1,null,[" is a simple, high performance open source messaging system. "])),(l()(),tt(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Before we start, we have to install required package:"])),(l()(),tt(13,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save nats"])),(l()(),tt(16,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(18,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to switch to "])),(l()(),tt(20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["NATS"])),(l()(),yr(-1,null,[" transporter, we need to modify an options object passed to the "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(26,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(27,null,[" "," "])),fr(28,2),(l()(),tt(29,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(30,49152,[["optionsT",4]],0,Wh,[],null,null),(l()(),tt(31,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(33,null,["",""])),(l()(),tt(34,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Options"])),(l()(),tt(36,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are a bunch of available options that determine a transporter behavior. They are well-described "])),(l()(),tt(38,0,null,null,1,"a",[["href","https://github.com/nats-io/node-nats#connect-options"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". Also, there is an additional "])),(l()(),tt(41,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["queue"])),(l()(),yr(-1,null,[" property which allows you specifying a name of the queue that your server should subscribe to (leave "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["undefined"])),(l()(),yr(-1,null,[" if you don't want use any particular queue) "]))],null,function(l,n){var e=n.component,u=Ou(n,27,0,l(n,28,0,Et(n,0),"main",Et(n,30).isJsActive));l(n,27,0,u),l(n,33,0,e.options)})}function hy(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-nats",[],null,null,null,dy,py)),zt(1,8437760,null,0,cy,[Pe,Gl],null,null)],null,null)}var fy=Ct("app-nats",cy,hy,{},{},[]),my=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"options",{get:function(){return"\nconst app = await NestFactory.createMicroservice(ApplicationModule, {\n  transport: Transport.GRPC,\n  options: {\n    package: 'hero',\n    protoPath: join(__dirname, 'hero/hero.proto'),\n  },\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroProto",{get:function(){return'\nsyntax = "proto3";\n\npackage hero;\n\nservice HeroService {\n  rpc FindOne (HeroById) returns (Hero) {}\n}\n\nmessage HeroById {\n  int32 id = 1;\n}\n\nmessage Hero {\n  int32 id = 1;\n  string name = 2;\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcHandler",{get:function(){return"\n@GrpcMethod('HeroService', 'FindOne')\nfindOne(data: HeroById, metadata: any): Hero {\n  const items = [\n    { id: 1, name: 'John' },\n    { id: 2, name: 'Doe' },\n  ];\n  return items.find(({ id }) => id === data.id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcHandlerJs",{get:function(){return"\n@GrpcMethod('HeroService', 'FindOne')\nfindOne(data, metadata) {\n  const items = [\n    { id: 1, name: 'John' },\n    { id: 2, name: 'Doe' },\n  ];\n  return items.find(({ id }) => id === data.id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcHandlerMethod",{get:function(){return"\n@GrpcMethod('HeroService')\nfindOne(data: HeroById, metadata: any): Hero {\n  const items = [\n    { id: 1, name: 'John' },\n    { id: 2, name: 'Doe' },\n  ];\n  return items.find(({ id }) => id === data.id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcHandlerMethodJs",{get:function(){return"\n@GrpcMethod('HeroService')\nfindOne(data, metadata) {\n  const items = [\n    { id: 1, name: 'John' },\n    { id: 2, name: 'Doe' },\n  ];\n  return items.find(({ id }) => id === data.id);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcHandlerClass",{get:function(){return"\n@Controller()\nexport class HeroService {\n  @GrpcMethod()\n  findOne(data: HeroById, metadata: any): Hero {\n    const items = [\n      { id: 1, name: 'John' },\n      { id: 2, name: 'Doe' },\n    ];\n    return items.find(({ id }) => id === data.id);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcHandlerClassJs",{get:function(){return"\n@Controller()\nexport class HeroService {\n  @GrpcMethod()\n  findOne(data, metadata) {\n    const items = [\n      { id: 1, name: 'John' },\n      { id: 2, name: 'Doe' },\n    ];\n    return items.find(({ id }) => id === data.id);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcClient",{get:function(){return"\n@Client({\n  transport: Transport.GRPC,\n  options: {\n    package: 'hero',\n    protoPath: join(__dirname, 'hero/hero.proto'),\n  },\n})\nprivate readonly client: ClientGrpc;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grpcClientJs",{get:function(){return"\n@Client({\n  transport: Transport.GRPC,\n  options: {\n    package: 'hero',\n    protoPath: join(__dirname, 'hero/hero.proto'),\n  },\n})\nclient;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serviceInstance",{get:function(){return"\nonModuleInit() {\n  this.heroService = this.client.getService<HeroService>('HeroService');\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serviceInstanceJs",{get:function(){return"\nonModuleInit() {\n  this.heroService = this.client.getService('HeroService');\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroService",{get:function(){return"\ninterface HeroService {\n  findOne(data: { id: number }): Observable<any>;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroController",{get:function(){return"\n@Get()\ncall(): Observable<any> {\n  return this.heroService.findOne({ id: 1 });\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroControllerJs",{get:function(){return"\n@Get()\ncall() {\n  return this.heroService.findOne({ id: 1 });\n}"},enumerable:!0,configurable:!0}),n}(Kh),gy=Tu({encapsulation:2,styles:[],data:{}});function yy(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,305,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["gRPC"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://github.com/grpc/grpc-node"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["gRPC"])),(l()(),yr(-1,null,[" is a high-performance, open-source universal RPC framework. "])),(l()(),tt(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Before we start, we have to install required package:"])),(l()(),tt(13,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save grpc @grpc/proto-loader"])),(l()(),tt(16,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Transporter"])),(l()(),tt(18,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to switch to "])),(l()(),tt(20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["gRPC"])),(l()(),yr(-1,null,[" transporter, we need to modify an options object passed to the "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(26,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(27,null,[" "," "])),fr(28,2),(l()(),tt(29,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(30,49152,[["optionsT",4]],0,Wh,[],null,null),(l()(),tt(31,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(33,null,["",""])),(l()(),tt(34,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(35,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(38,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["join()"])),(l()(),yr(-1,null,[" function is imported from "])),(l()(),tt(41,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["path"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(44,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Options"])),(l()(),tt(46,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are a bunch of available options that determine a transporter behavior. "])),(l()(),tt(48,0,null,null,42,"table",[],null,null,null,null,null)),(l()(),tt(49,0,null,null,41,"tbody",[],null,null,null,null,null)),(l()(),tt(50,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(51,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["url"])),(l()(),tt(54,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection url"])),(l()(),tt(56,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(57,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["protoPath"])),(l()(),tt(60,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Absolute (or relative to the root dir) path to the "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".proto"])),(l()(),yr(-1,null,[" file"])),(l()(),tt(65,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),tt(66,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["loader"])),(l()(),tt(69,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@grpc/proto-loader"])),(l()(),yr(-1,null,[" options. They are well-described "])),(l()(),tt(73,0,null,null,1,"a",[["href","https://github.com/grpc/grpc-node/tree/master/packages/grpc-protobufjs#usage"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["."])),(l()(),tt(76,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(77,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(78,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["package"])),(l()(),tt(80,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Protobuf package name"])),(l()(),tt(82,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(83,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["credentials"])),(l()(),tt(86,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Server credentials ("])),(l()(),tt(88,0,null,null,1,"a",[["href","https://grpc.io/grpc/node/grpc.ServerCredentials.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["read more"])),(l()(),yr(-1,null,[")"])),(l()(),tt(91,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(93,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In general, a "])),(l()(),tt(95,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["package"])),(l()(),yr(-1,null,[" property sets a "])),(l()(),tt(98,0,null,null,1,"a",[["href","https://developers.google.com/protocol-buffers/docs/proto"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["protobuf"])),(l()(),yr(-1,null,[" package name, while "])),(l()(),tt(101,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["protoPath"])),(l()(),yr(-1,null,[" is a path to the "])),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".proto"])),(l()(),yr(-1,null,[" definitions file. The "])),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["hero.proto"])),(l()(),yr(-1,null,[" file is structured using protocol buffer language. "])),(l()(),tt(110,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,[" hero.proto "])),(l()(),tt(112,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(113,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(114,null,["",""])),(l()(),tt(115,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the above example, we defined a "])),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HeroService"])),(l()(),yr(-1,null,[" that exposes a "])),(l()(),tt(120,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOne()"])),(l()(),yr(-1,null,[" gRPC handler which expects "])),(l()(),tt(123,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HeroById"])),(l()(),yr(-1,null,[" as an input and returns a "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hero"])),(l()(),yr(-1,null,[" message. In order to define a handler that fulfills this protobuf definition, we have to use a "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@GrpcMethod()"])),(l()(),yr(-1,null,[" decorator. The previously known "])),(l()(),tt(132,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@MessagePattern()"])),(l()(),yr(-1,null,[" is no longer useful. "])),(l()(),tt(135,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(136,null,[" "," "])),fr(137,2),(l()(),tt(138,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(139,49152,[["grpcHandlerT",4]],0,Wh,[],null,null),(l()(),tt(140,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(141,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(142,null,["",""])),(l()(),tt(143,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(144,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(145,null,["",""])),(l()(),tt(146,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(147,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(150,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@GrpcMethod()"])),(l()(),yr(-1,null,[" decorator is imported from "])),(l()(),tt(153,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(156,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HeroService"])),(l()(),yr(-1,null,[" is a service's name, while "])),(l()(),tt(161,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOne"])),(l()(),yr(-1,null,[" points to a "])),(l()(),tt(164,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOne()"])),(l()(),yr(-1,null,[" gRPC handler. The corresponding "])),(l()(),tt(167,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findOne()"])),(l()(),yr(-1,null,[" method takes two arguments, the "])),(l()(),tt(170,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["data"])),(l()(),yr(-1,null,[" passed from the caller and "])),(l()(),tt(173,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["metadata"])),(l()(),yr(-1,null,[" that stores gRPC request's metadata. "])),(l()(),tt(176,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Furthermore, the "])),(l()(),tt(178,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOne"])),(l()(),yr(-1,null,[" is actually redundant here. If you don't pass a second argument to the "])),(l()(),tt(181,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@GrpcMethod()"])),(l()(),yr(-1,null,[", Nest will automatically use the method name with the capitalized first letter, for example, "])),(l()(),tt(184,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findOne"])),(l()(),yr(-1,null,[" -> "])),(l()(),tt(187,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOne"])),(l()(),yr(-1,null,[". "])),(l()(),tt(190,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(191,null,[" "," "])),fr(192,2),(l()(),tt(193,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(194,49152,[["grpcHandlerMethodT",4]],0,Wh,[],null,null),(l()(),tt(195,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(196,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(197,null,["",""])),(l()(),tt(198,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(199,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(200,null,["",""])),(l()(),tt(201,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Likewise, you might not pass any argument. In this case, Nest would use a class name. "])),(l()(),tt(203,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(204,null,[" "," "])),fr(205,2),(l()(),tt(206,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(207,49152,[["grpcHandlerClassT",4]],0,Wh,[],null,null),(l()(),tt(208,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(209,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(210,null,["",""])),(l()(),tt(211,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(212,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(213,null,["",""])),(l()(),tt(214,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Client"])),(l()(),tt(216,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create a client instance, we need to make use of "])),(l()(),tt(218,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Client()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(221,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(222,null,[" "," "])),fr(223,2),(l()(),tt(224,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(225,49152,[["grpcClientT",4]],0,Wh,[],null,null),(l()(),tt(226,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(227,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(228,null,["",""])),(l()(),tt(229,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(230,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(231,null,["",""])),(l()(),tt(232,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is a small difference compared to the previous examples. Instead of the "])),(l()(),tt(234,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" class, we use the "])),(l()(),tt(237,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientGrpc"])),(l()(),yr(-1,null,[" that provides a "])),(l()(),tt(240,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getService()"])),(l()(),yr(-1,null,[" method. The "])),(l()(),tt(243,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getService()"])),(l()(),yr(-1,null,[" generic method takes service's name as an argument and returns its instance if available. "])),(l()(),tt(246,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(247,null,[" "," "])),fr(248,2),(l()(),tt(249,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(250,49152,[["serviceInstanceT",4]],0,Wh,[],null,null),(l()(),tt(251,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(252,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(253,null,["",""])),(l()(),tt(254,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(255,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(256,null,["",""])),(l()(),tt(257,0,null,null,22,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(259,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["heroService"])),(l()(),yr(-1,null,[" object exposes the same set of methods that have been defined inside "])),(l()(),tt(262,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".proto"])),(l()(),yr(-1,null,[" file. Note, all of them are "])),(l()(),tt(265,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["lowercased"])),(l()(),yr(-1,null,[" (in order to follow the natural convention). Basically, our gRPC "])),(l()(),tt(268,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HeroService"])),(l()(),yr(-1,null,[" definition contains "])),(l()(),tt(271,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOne()"])),(l()(),yr(-1,null,[" function. It means that "])),(l()(),tt(274,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["heroService"])),(l()(),yr(-1,null,[" instance will provide the "])),(l()(),tt(277,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findOne()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(280,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(281,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(282,null,["",""])),(l()(),tt(283,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All service's methods return "])),(l()(),tt(285,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[". Since Nest supports "])),(l()(),tt(288,0,null,null,1,"a",[["href","https://github.com/reactivex/rxjs"]],null,null,null,null,null)),(l()(),yr(-1,null,["RxJS"])),(l()(),yr(-1,null,[" streams and works pretty well with them, we can return them within HTTP handler as well. "])),(l()(),tt(291,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(292,null,[" "," "])),fr(293,2),(l()(),tt(294,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(295,49152,[["heroControllerT",4]],0,Wh,[],null,null),(l()(),tt(296,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(297,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(298,null,["",""])),(l()(),tt(299,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(300,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(301,null,["",""])),(l()(),tt(302,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A full working example is available "])),(l()(),tt(304,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/04-grpc"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component,u=Ou(n,27,0,l(n,28,0,Et(n,0),"main",Et(n,30).isJsActive));l(n,27,0,u),l(n,33,0,e.options),l(n,114,0,e.heroProto);var t=Ou(n,136,0,l(n,137,0,Et(n,0),"hero.controller",Et(n,139).isJsActive));l(n,136,0,t),l(n,140,0,Et(n,139).isJsActive),l(n,142,0,e.grpcHandler),l(n,143,0,!Et(n,139).isJsActive),l(n,145,0,e.grpcHandlerJs);var r=Ou(n,191,0,l(n,192,0,Et(n,0),"hero.controller",Et(n,194).isJsActive));l(n,191,0,r),l(n,195,0,Et(n,194).isJsActive),l(n,197,0,e.grpcHandlerMethod),l(n,198,0,!Et(n,194).isJsActive),l(n,200,0,e.grpcHandlerMethodJs);var o=Ou(n,204,0,l(n,205,0,Et(n,0),"hero.controller",Et(n,207).isJsActive));l(n,204,0,o),l(n,208,0,Et(n,207).isJsActive),l(n,210,0,e.grpcHandlerClass),l(n,211,0,!Et(n,207).isJsActive),l(n,213,0,e.grpcHandlerClassJs);var a=Ou(n,222,0,l(n,223,0,Et(n,0),"hero.controller",Et(n,225).isJsActive));l(n,222,0,a),l(n,226,0,Et(n,225).isJsActive),l(n,228,0,e.grpcClient),l(n,229,0,!Et(n,225).isJsActive),l(n,231,0,e.grpcClientJs);var i=Ou(n,247,0,l(n,248,0,Et(n,0),"hero.controller",Et(n,250).isJsActive));l(n,247,0,i),l(n,251,0,Et(n,250).isJsActive),l(n,253,0,e.serviceInstance),l(n,254,0,!Et(n,250).isJsActive),l(n,256,0,e.serviceInstanceJs),l(n,282,0,e.heroService);var s=Ou(n,292,0,l(n,293,0,Et(n,0),"hero.controller",Et(n,295).isJsActive));l(n,292,0,s),l(n,296,0,Et(n,295).isJsActive),l(n,298,0,e.heroController),l(n,299,0,!Et(n,295).isJsActive),l(n,301,0,e.heroControllerJs)})}function by(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-grpc",[],null,null,null,yy,gy)),zt(1,8437760,null,0,my,[Pe,Gl],null,null)],null,null)}var vy=Ct("app-grpc",my,by,{},{},[]),wy=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"options",{get:function(){return"\nconst app = await NestFactory.createMicroservice(ApplicationModule, {\n  transport: Transport.RMQ,\n  options: {\n    urls: [`amqp://localhost:5672`],\n    queue: 'my_queue',\n    queueOptions: { durable: false },\n  },\n});"},enumerable:!0,configurable:!0}),n}(Kh),xy=Tu({encapsulation:2,styles:[],data:{}});function Cy(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,70,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQ"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://www.rabbitmq.com/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQ"])),(l()(),yr(-1,null,[" is the most widely deployed open source message broker. "])),(l()(),tt(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Before we start, we have to install required packages:"])),(l()(),tt(13,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save amqplib amqp-connection-manager"])),(l()(),tt(16,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Transporter"])),(l()(),tt(18,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to switch to "])),(l()(),tt(20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQ"])),(l()(),yr(-1,null,[" transporter, we need to modify an options object passed to the "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createMicroservice()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(26,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(27,null,[" "," "])),fr(28,2),(l()(),tt(29,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(30,49152,[["optionsT",4]],0,Wh,[],null,null),(l()(),tt(31,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(33,null,["",""])),(l()(),tt(34,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Options"])),(l()(),tt(36,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are a bunch of available options that determine a transporter behavior. "])),(l()(),tt(38,0,null,null,33,"table",[],null,null,null,null,null)),(l()(),tt(39,0,null,null,32,"tbody",[],null,null,null,null,null)),(l()(),tt(40,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(41,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["urls"])),(l()(),tt(44,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection urls"])),(l()(),tt(46,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(47,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(48,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["queue"])),(l()(),tt(50,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Queue name which your server will listen to"])),(l()(),tt(52,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(53,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["prefetchCount"])),(l()(),tt(56,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Sets the prefetch count for the channel"])),(l()(),tt(58,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(59,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["isGlobalPrefetchCount"])),(l()(),tt(62,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Enables per channel prefetching"])),(l()(),tt(64,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),tt(65,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(66,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["queueOptions"])),(l()(),tt(68,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Additional queue options. They are well-described "])),(l()(),tt(70,0,null,null,1,"a",[["href","https://www.squaremobius.net/amqp.node/channel_api.html#assertQueue"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"]))],null,function(l,n){var e=n.component,u=Ou(n,27,0,l(n,28,0,Et(n,0),"main",Et(n,30).isJsActive));l(n,27,0,u),l(n,33,0,e.options)})}function ky(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-rabbitmq",[],null,null,null,Cy,xy)),zt(1,8437760,null,0,wy,[Pe,Gl],null,null)],null,null)}var jy=Ct("app-rabbitmq",wy,ky,{},{},[]),Oy=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UsePipes(new ValidationPipe())\n@MessagePattern({ cmd: 'sum' })\nsum(data: number[]): number {\n  return (data || []).reduce((a, b) => a + b);\n}"},enumerable:!0,configurable:!0}),n}(Kh),Sy=Tu({encapsulation:2,styles:[],data:{}});function Py(l){return wr(2,[(l()(),tt(0,0,null,null,37,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Pipes"])),(l()(),tt(3,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no difference between microservices "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["pipes"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(8,0,null,null,2,"a",[["routerLink","/pipes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,9).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(9,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["regular pipes"])),(l()(),yr(-1,null,[". The only thing you should be aware of is that instead of throwing "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", you should use the "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RpcException"])),(l()(),yr(-1,null,[". "])),(l()(),tt(18,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RpcException"])),(l()(),yr(-1,null,[" class is exposed from "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(28,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding pipes"])),(l()(),tt(30,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is an example that makes use of a manually instantiated "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" pipe (class-scoped works either): "])),(l()(),tt(35,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(36,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(37,null,["",""]))],function(l,n){l(n,9,0,"/pipes")},function(l,n){var e=n.component;l(n,8,0,Et(n,9).target,Et(n,9).href),l(n,37,0,e.example)})}function Ty(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-pipes",[],null,null,null,Py,Sy)),zt(1,8437760,null,0,Oy,[Pe,Gl],null,null)],null,null)}var Ay=Ct("app-pipes",Oy,Ty,{},{},[]),My=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"rpcException",{get:function(){return"\nthrow new RpcException('Invalid credentials.');"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exceptionResponse",{get:function(){return"\n{\n  status: 'error',\n  message: 'Invalid credentials.'\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rpcExceptionFilter",{get:function(){return"\nimport { Catch, RpcExceptionFilter, ArgumentsHost } from '@nestjs/common';\nimport { Observable, throwError } from 'rxjs';\nimport { RpcException } from '@nestjs/microservices';\n\n@Catch(RpcException)\nexport class ExceptionFilter implements RpcExceptionFilter<RpcException> {\n  catch(exception: RpcException, host: ArgumentsHost): Observable<any> {\n    return throwError(exception.getError());\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rpcExceptionFilterJs",{get:function(){return"\nimport { Catch, } from '@nestjs/common';\nimport { throwError } from 'rxjs';\n\n@Catch(RpcException)\nexport class ExceptionFilter {\n  catch(exception, host) {\n    return throwError(exception.getError());\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UseFilters(new ExceptionFilter())\n@MessagePattern({ cmd: 'sum' })\nsum(data: number[]): number {\n  return (data || []).reduce((a, b) => a + b);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritance",{get:function(){return"\nimport { Catch, ArgumentsHost } from '@nestjs/common';\nimport { BaseRpcExceptionFilter } from '@nestjs/microservices';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseRpcExceptionFilter {\n  catch(exception: any, host: ArgumentsHost) {\n    return super.catch(exception, host);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritanceJs",{get:function(){return"\nimport { Catch } from '@nestjs/common';\nimport { BaseRpcExceptionFilter } from '@nestjs/microservices';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseRpcExceptionFilter {\n  catch(exception, host) {\n    return super.catch(exception, host);\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),_y=Tu({encapsulation:2,styles:[],data:{}});function Iy(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,106,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exception filters"])),(l()(),tt(4,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The only difference between "])),(l()(),tt(6,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(7,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["HTTP exception filter"])),(l()(),yr(-1,null,[" layer and corresponding microservices layer is that instead of throwing "])),(l()(),tt(10,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", you should rather use "])),(l()(),tt(13,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RpcException"])),(l()(),yr(-1,null,[". "])),(l()(),tt(16,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(17,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(18,null,["",""])),(l()(),tt(19,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RpcException"])),(l()(),yr(-1,null,[" class is imported from the "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(29,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest will handle thrown exception and as a result, returns the "])),(l()(),tt(31,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["error"])),(l()(),yr(-1,null,[" object with the following structure: "])),(l()(),tt(34,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(35,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(36,null,["",""])),(l()(),tt(37,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Filters"])),(l()(),tt(39,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(41,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["exception filters"])),(l()(),yr(-1,null,[" work in the same fashion as the primary ones, with a one, small difference. The "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catch()"])),(l()(),yr(-1,null,[" method has to return an "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[". "])),(l()(),tt(50,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(51,null,[" "," "])),fr(52,2),(l()(),tt(53,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(54,49152,[["rpcExceptionFilterT",4]],0,Wh,[],null,null),(l()(),tt(55,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(56,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(57,null,["",""])),(l()(),tt(58,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(59,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(60,null,["",""])),(l()(),tt(61,0,null,null,3,"blockquote",[],null,null,null,null,null)),(l()(),tt(62,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" It is impossible to set up the microservices exception filters globally. "])),(l()(),tt(65,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is an example that makes use of a manually instantiated "])),(l()(),tt(67,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" filter (class-scoped works either): "])),(l()(),tt(70,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(71,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(72,null,["",""])),(l()(),tt(73,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Inheritance"])),(l()(),tt(75,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Typically, you'll create fully customized exception filters crafted to fulfill your application requirements. There might be use-cases though when you would like to reuse an already implemented, "])),(l()(),tt(77,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["core exception filter"])),(l()(),yr(-1,null,[", and override the behavior based on certain factors. "])),(l()(),tt(80,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to delegate exception processing to the base filter, you need to extend "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["BaseExceptionFilter"])),(l()(),yr(-1,null,[" and call inherited "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catch()"])),(l()(),yr(-1,null,[" method. Besides, "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpServer"])),(l()(),yr(-1,null,[" reference has to be injected and passed to the "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["super()"])),(l()(),yr(-1,null,[" call. "])),(l()(),tt(94,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(95,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(96,49152,[["inheritanceT",4]],0,Wh,[],null,null),(l()(),tt(97,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(98,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(99,null,["",""])),(l()(),tt(100,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(101,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(102,null,["",""])),(l()(),tt(103,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, you should enhance above implementation with your tailored "])),(l()(),tt(105,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["business"])),(l()(),yr(-1,null,[" logic (e.g. add various conditions). "]))],function(l,n){l(n,7,0,"/exception-filters")},function(l,n){var e=n.component;l(n,6,0,Et(n,7).target,Et(n,7).href),l(n,18,0,e.rpcException),l(n,36,0,e.exceptionResponse);var u=Ou(n,51,0,l(n,52,0,Et(n,0),"rpc-exception.filter",Et(n,54).isJsActive));l(n,51,0,u),l(n,55,0,Et(n,54).isJsActive),l(n,57,0,e.rpcExceptionFilter),l(n,58,0,!Et(n,54).isJsActive),l(n,60,0,e.rpcExceptionFilterJs),l(n,72,0,e.example),l(n,97,0,Et(n,96).isJsActive),l(n,99,0,e.inheritance),l(n,100,0,!Et(n,96).isJsActive),l(n,102,0,e.inheritanceJs)})}function Ey(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-exception-filters",[],null,null,null,Iy,_y)),zt(1,8437760,null,0,My,[Pe,Gl],null,null)],null,null)}var Ry=Ct("app-exception-filters",My,Ey,{},{},[]),Ny=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UseGuards(AuthGuard)\n@MessagePattern({ cmd: 'sum' })\nsum(data: number[]): number {\n  return (data || []).reduce((a, b) => a + b);\n}"},enumerable:!0,configurable:!0}),n}(Kh),qy=Tu({encapsulation:2,styles:[],data:{}});function Dy(l){return wr(2,[(l()(),tt(0,0,null,null,37,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Guards"])),(l()(),tt(3,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no difference between microservices "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["guards"])),(l()(),yr(-1,null,[" and the "])),(l()(),tt(8,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,9).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(9,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["regular guards"])),(l()(),yr(-1,null,[". The only thing you should be aware of is that instead of throwing "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpException"])),(l()(),yr(-1,null,[", you should use the "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RpcException"])),(l()(),yr(-1,null,[". "])),(l()(),tt(18,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RpcException"])),(l()(),yr(-1,null,[" class is exposed from "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/microservices"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(28,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Binding guards"])),(l()(),tt(30,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is an example that makes use of a "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" guard (class-scoped works either): "])),(l()(),tt(35,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(36,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(37,null,["",""]))],function(l,n){l(n,9,0,"/guards")},function(l,n){var e=n.component;l(n,8,0,Et(n,9).target,Et(n,9).href),l(n,37,0,e.example)})}function Hy(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-guards",[],null,null,null,Dy,qy)),zt(1,8437760,null,0,Ny,[Pe,Gl],null,null)],null,null)}var Ly=Ct("app-guards",Ny,Hy,{},{},[]),Fy=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"example",{get:function(){return"\n@UseInterceptors(new TransformInterceptor())\n@MessagePattern({ cmd: 'sum' })\nsum(data: number[]): number {\n  return (data || []).reduce((a, b) => a + b);\n}"},enumerable:!0,configurable:!0}),n}(Kh),Jy=Tu({encapsulation:2,styles:[],data:{}});function Uy(l){return wr(2,[(l()(),tt(0,0,null,null,14,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Interceptors"])),(l()(),tt(3,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There is no difference between "])),(l()(),tt(5,0,null,null,2,"a",[["routerLink","/interceptors"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,6).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(6,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["regular interceptors"])),(l()(),yr(-1,null,[" and the microservices interceptors. Here is an example that makes use of a manually instantiated "])),(l()(),tt(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["method-scoped"])),(l()(),yr(-1,null,[" guard (class-scoped works either): "])),(l()(),tt(12,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(14,null,["",""]))],function(l,n){l(n,6,0,"/interceptors")},function(l,n){var e=n.component;l(n,5,0,Et(n,6).target,Et(n,6).href),l(n,14,0,e.example)})}function By(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-interceptors",[],null,null,null,Uy,Jy)),zt(1,8437760,null,0,Fy,[Pe,Gl],null,null)],null,null)}var Gy=Ct("app-interceptors",Fy,By,{},{},[]),Wy=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"rabbitMqServer",{get:function(){return"\nimport * as amqp from 'amqplib';\nimport { Server, CustomTransportStrategy } from '@nestjs/microservices';\nimport { Observable } from 'rxjs';\n\nexport class RabbitMQServer extends Server implements CustomTransportStrategy {\n    private server: amqp.Connection = null;\n    private channel: amqp.Channel = null;\n\n    constructor(\n      private readonly host: string,\n      private readonly queue: string) {\n        super();\n      }\n\n  public async listen(callback: () => void) {\n    await this.init();\n    this.channel.consume(`${this.queue}_sub`, this.handleMessage.bind(this), {\n      noAck: true,\n    });\n  }\n\n  public close() {\n    this.channel && this.channel.close();\n    this.server && this.server.close();\n  }\n\n  private async handleMessage(message) {\n    const { content } = message;\n    const messageObj = JSON.parse(content.toString());\n\n    const handlers = this.getHandlers();\n    const pattern = JSON.stringify(messageObj.pattern);\n    if (!this.messageHandlers[pattern]) {\n        return;\n    }\n\n    const handler = this.messageHandlers[pattern];\n    const response$ = this.transformToObservable(await handler(messageObj.data)) as Observable<any>;\n    response$ && this.send(response$, (data) => this.sendMessage(data));\n  }\n\n  private sendMessage(message) {\n    const buffer = Buffer.from(JSON.stringify(message));\n    this.channel.sendToQueue(`${this.queue}_pub`, buffer);\n  }\n\n  private async init() {\n    this.server = await amqp.connect(this.host);\n    this.channel = await this.server.createChannel();\n    this.channel.assertQueue(`${this.queue}_sub`, { durable: false });\n    this.channel.assertQueue(`${this.queue}_pub`, { durable: false });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rabbitMqServerJs",{get:function(){return"\nimport * as amqp from 'amqplib';\nimport { Server } from '@nestjs/microservices';\nimport { Observable } from 'rxjs';\n\nexport class RabbitMQServer extends Server {\n    constructor(host, queue) {\n      super();\n\n      this.host = host;\n      this.queue = queue;\n      this.server = null;\n      this.channel = null;\n    }\n\n  async listen(callback) {\n    await this.init();\n    this.channel.consume(`${this.queue}_sub`, this.handleMessage.bind(this), {\n      noAck: true,\n    });\n  }\n\n  close() {\n    this.channel && this.channel.close();\n    this.server && this.server.close();\n  }\n\n  async handleMessage(message) {\n    const { content } = message;\n    const messageObj = JSON.parse(content.toString());\n\n    const handlers = this.getHandlers();\n    const pattern = JSON.stringify(messageObj.pattern);\n    if (!this.messageHandlers[pattern]) {\n        return;\n    }\n\n    const handler = this.messageHandlers[pattern];\n    const response$ = this.transformToObservable(await handler(messageObj.data));\n    response$ && this.send(response$, (data) => this.sendMessage(data));\n  }\n\n  sendMessage(message) {\n    const buffer = Buffer.from(JSON.stringify(message));\n    this.channel.sendToQueue(`${this.queue}_pub`, buffer);\n  }\n\n  async init() {\n    this.server = await amqp.connect(this.host);\n    this.channel = await this.server.createChannel();\n    this.channel.assertQueue(`${this.queue}_sub`, { durable: false });\n    this.channel.assertQueue(`${this.queue}_pub`, { durable: false });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setupServer",{get:function(){return"\nconst app = await NestFactory.createMicroservice(ApplicationModule, {\n    strategy: new RabbitMQServer('amqp://localhost', 'channel'),\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rabbitMqClient",{get:function(){return"\nimport * as amqp from 'amqplib';\nimport { ClientProxy } from '@nestjs/microservices';\n\nexport class RabbitMQClient extends ClientProxy {\n  constructor(\n    private readonly host: string,\n    private readonly queue: string) {\n      super();\n    }\n\n  protected async sendSingleMessage(messageObj, callback: (err, result, disposed?: boolean) => void) {\n    const server = await amqp.connect(this.host);\n    const channel = await server.createChannel();\n\n    const { sub, pub } = this.getQueues();\n    channel.assertQueue(sub, { durable: false });\n    channel.assertQueue(pub, { durable: false });\n\n    channel.consume(pub, (message) => this.handleMessage(message, server, callback), { noAck: true });\n    channel.sendToQueue(sub, Buffer.from(JSON.stringify(messageObj)));\n  }\n\n  private handleMessage(message, server, callback: (err, result, disposed?: boolean) => void) {\n    const { content } = message;\n    const { err, response, disposed } = JSON.parse(content.toString());\n    if (disposed) {\n        server.close();\n    }\n    callback(err, response, disposed);\n  }\n\n  private getQueues() {\n    return { pub: `${this.queue}_pub`, sub: `${this.queue}_sub` };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rabbitMqClientJs",{get:function(){return"\nimport * as amqp from 'amqplib';\nimport { ClientProxy } from '@nestjs/microservices';\n\nexport class RabbitMQClient extends ClientProxy {\n  constructor(host, queue) {\n      super();\n\n      this.host = host;\n      this.queue = queue;\n    }\n\n  async sendSingleMessage(messageObj, callback) {\n    const server = await amqp.connect(this.host);\n    const channel = await server.createChannel();\n\n    const { sub, pub } = this.getQueues();\n    channel.assertQueue(sub, { durable: false });\n    channel.assertQueue(pub, { durable: false });\n\n    channel.consume(pub, (message) => this.handleMessage(message, server, callback), { noAck: true });\n    channel.sendToQueue(sub, Buffer.from(JSON.stringify(messageObj)));\n  }\n\n  handleMessage(message, server, callback) {\n    const { content } = message;\n    const { err, response, disposed } = JSON.parse(content.toString());\n    if (disposed) {\n        server.close();\n    }\n    callback(err, response, disposed);\n  }\n\n  getQueues() {\n    return { pub: `${this.queue}_pub`, sub: `${this.queue}_sub` };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rabbitMqClientNew",{get:function(){return"\nthis.client = new RabbitMQClient('amqp://localhost', 'example');"},enumerable:!0,configurable:!0}),n}(Kh),zy=Tu({encapsulation:2,styles:[],data:{}});function Vy(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,116,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom Transport"])),(l()(),tt(4,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The Nest has a built-in transport via TCP and Redis, but other communication schemes can be implemented with "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CustomTransportStrategy"])),(l()(),yr(-1,null,[" interface. For demonstration purposes, we're going to port the "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://www.rabbitmq.com/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQ"])),(l()(),yr(-1,null,[" transport strategy using "])),(l()(),tt(12,0,null,null,1,"a",[["href","https://github.com/squaremo/amqp.node"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["ampqlib"])),(l()(),yr(-1,null,[" library. "])),(l()(),tt(15,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Server"])),(l()(),tt(17,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's start from the "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQServer"])),(l()(),yr(-1,null,[" which will match incoming messages to the right message handlers. "])),(l()(),tt(22,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(23,null,[" "," "])),fr(24,2),(l()(),tt(25,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(26,49152,[["rabbitMqServerT",4]],0,Wh,[],null,null),(l()(),tt(27,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(28,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(29,null,["",""])),(l()(),tt(30,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(31,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(32,null,["",""])),(l()(),tt(33,0,null,null,25,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CustomTransportStrategy"])),(l()(),yr(-1,null,[" forces to implement two fundamental methods - "])),(l()(),tt(38,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["listen()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(41,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["close()"])),(l()(),yr(-1,null,[". Moreover, the "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQServer"])),(l()(),yr(-1,null,[" shall extends the abstract "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Server"])),(l()(),yr(-1,null,[" class. This class supplies the core "])),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getHandlers()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(53,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["send()"])),(l()(),yr(-1,null,[" methods, and helper "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transformToObservable()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(59,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to set up the "])),(l()(),tt(61,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQServer"])),(l()(),yr(-1,null,[": "])),(l()(),tt(64,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(65,null,[" "," "])),fr(66,2),(l()(),tt(67,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(68,49152,[["setupServerT",4]],0,Wh,[],null,null),(l()(),tt(69,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(70,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(71,null,["",""])),(l()(),tt(72,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Client"])),(l()(),tt(74,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(76,0,null,null,1,"a",[["href","https://www.rabbitmq.com/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQ"])),(l()(),yr(-1,null,[" server's listening to messages. Now it's time to create a client class, which shall extends the abstract "])),(l()(),tt(79,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClientProxy"])),(l()(),yr(-1,null,[" class. To make it work, we only have to override "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["sendSingleMessage()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(85,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(86,null,[" "," "])),fr(87,2),(l()(),tt(88,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(89,49152,[["rabbitMqClientT",4]],0,Wh,[],null,null),(l()(),tt(90,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(91,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(92,null,["",""])),(l()(),tt(93,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(94,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(95,null,["",""])),(l()(),tt(96,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Earlier, the Nest was responsible for creating the instance of the client class. We've been using the "])),(l()(),tt(98,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Client()"])),(l()(),yr(-1,null,[" decorator. Now, when we've created our own solution, we can just create the "])),(l()(),tt(101,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RabbitMQClient"])),(l()(),yr(-1,null,[" instance directly, using "])),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["new"])),(l()(),yr(-1,null,[" operator. "])),(l()(),tt(107,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(108,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(109,null,["",""])),(l()(),tt(110,0,null,null,7,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(111,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" To make unit testing easy, you can provide a "])),(l()(),tt(114,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,115).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(115,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom component"])),(l()(),yr(-1,null,[" instead of creating the instance directly in the class body. "]))],function(l,n){l(n,115,0,"/fundamentals/dependency-injection")},function(l,n){var e=n.component,u=Ou(n,23,0,l(n,24,0,Et(n,0),"rabbitmq-server",Et(n,26).isJsActive));l(n,23,0,u),l(n,27,0,Et(n,26).isJsActive),l(n,29,0,e.rabbitMqServer),l(n,30,0,!Et(n,26).isJsActive),l(n,32,0,e.rabbitMqServerJs);var t=Ou(n,65,0,l(n,66,0,Et(n,0),"main",Et(n,68).isJsActive));l(n,65,0,t),l(n,71,0,e.setupServer);var r=Ou(n,86,0,l(n,87,0,Et(n,0),"rabbitmq-client",Et(n,89).isJsActive));l(n,86,0,r),l(n,90,0,Et(n,89).isJsActive),l(n,92,0,e.rabbitMqClient),l(n,93,0,!Et(n,89).isJsActive),l(n,95,0,e.rabbitMqClientJs),l(n,109,0,e.rabbitMqClientNew),l(n,114,0,Et(n,115).target,Et(n,115).href)})}function Ky(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-custom-transport",[],null,null,null,Vy,zy)),zt(1,8437760,null,0,Wy,[Pe,Gl],null,null)],null,null)}var Qy=Ct("app-custom-transport",Wy,Ky,{},{},[]),$y=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"dependencies",{get:function(){return"\n$ npm install --save typeorm mysql"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"databaseProviders",{get:function(){return"\nimport { createConnection } from 'typeorm';\n\nexport const databaseProviders = [\n  {\n    provide: 'DbConnectionToken',\n    useFactory: async () => await createConnection({\n      type: 'mysql',\n      host: 'localhost',\n      port: 3306,\n      username: 'root',\n      password: 'root',\n      database: 'test',\n      entities: [\n          __dirname + '/../**/*.entity{.ts,.js}',\n      ],\n      synchronize: true,\n    }),\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"databaseModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { databaseProviders } from './database.providers';\n\n@Module({\n  providers: [...databaseProviders],\n  exports: [...databaseProviders],\n})\nexport class DatabaseModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoEntity",{get:function(){return"\nimport { Entity, Column, PrimaryGeneratedColumn } from 'typeorm';\n\n@Entity()\nexport class Photo {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ length: 500 })\n  name: string;\n\n  @Column('text')\n  description: string;\n\n  @Column()\n  filename: string;\n\n  @Column('int')\n  views: number;\n\n  @Column()\n  isPublished: boolean;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoProviders",{get:function(){return"\nimport { Connection, Repository } from 'typeorm';\nimport { Photo } from './photo.entity';\n\nexport const photoProviders = [\n  {\n    provide: 'PhotoRepositoryToken',\n    useFactory: (connection: Connection) => connection.getRepository(Photo),\n    inject: ['DbConnectionToken'],\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoService",{get:function(){return"\nimport { Injectable, Inject } from '@nestjs/common';\nimport { Repository } from 'typeorm';\nimport { Photo } from './photo.entity';\n\n@Injectable()\nexport class PhotoService {\n  constructor(\n    @Inject('PhotoRepositoryToken')\n    private readonly photoRepository: Repository<Photo>,\n  ) {}\n\n  async findAll(): Promise<Photo[]> {\n    return await this.photoRepository.find();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from '../database/database.module';\nimport { photoProviders } from './photo.providers';\nimport { PhotoService } from './photo.service';\n\n@Module({\n  imports: [DatabaseModule],\n  providers: [\n    ...photoProviders,\n    PhotoService,\n  ],\n})\nexport class PhotoModule {}"},enumerable:!0,configurable:!0}),n}(Kh),Yy=Tu({encapsulation:2,styles:[],data:{}});function Xy(l){return wr(2,[(l()(),tt(0,0,null,null,181,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["SQL (TypeORM)"])),(l()(),tt(3,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),yr(-1,null,["This chapter applies only to TypeScript"])),(l()(),tt(5,0,null,null,16,"blockquote",[],null,null,null,null,null)),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" In this article, you'll learn how to create a "])),(l()(),tt(9,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DatabaseModule"])),(l()(),yr(-1,null,[" based on the "])),(l()(),tt(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" package from scratch using custom providers mechanism. As a consequence, this solution contains a lot of overhead that you can omit using ready to use and available out-of-the-box dedicated "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/typeorm"])),(l()(),yr(-1,null,[" package. To learn more, see "])),(l()(),tt(18,0,null,null,2,"a",[["routerLink","/techniques/sql"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,19).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(19,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(22,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"a",[["href","https://github.com/typeorm/typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" is definitely the most mature Object Relational Mapper (ORM) available in the node.js world. Since it's written in TypeScript, it works pretty well with the Nest framework. To start the adventure with this library we have to install all required dependencies: "])),(l()(),tt(26,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(27,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(28,null,["",""])),(l()(),tt(29,0,null,null,17,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The first step we need to do is to establish the connection with our database using "])),(l()(),tt(31,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createConnection()"])),(l()(),yr(-1,null,[" function imported from the "])),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["typeorm"])),(l()(),yr(-1,null,[" package. The "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createConnection()"])),(l()(),yr(-1,null,[" function returns a "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[", therefore we have to create an "])),(l()(),tt(43,0,null,null,2,"a",[["routerLink","/fundamentals/async-components"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,44).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(44,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["async provider"])),(l()(),yr(-1,null,[". "])),(l()(),tt(47,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["database.providers.ts"])),(l()(),tt(49,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(50,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(51,null,["",""])),(l()(),tt(52,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(53,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Following best practices, we declared the custom provider in the separated file which has a "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["*.providers.ts"])),(l()(),yr(-1,null,[" suffix. "])),(l()(),tt(59,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we need to export these providers to make them "])),(l()(),tt(61,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["accessible"])),(l()(),yr(-1,null,[" for the rest part of the application. "])),(l()(),tt(64,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["database.module.ts"])),(l()(),tt(66,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(67,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(68,null,["",""])),(l()(),tt(69,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can inject the "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" object using "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator. Each class that would depend on the "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" async provider will wait until a "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[" is resolved. "])),(l()(),tt(83,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Repository pattern"])),(l()(),tt(85,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(87,0,null,null,1,"a",[["href","https://github.com/typeorm/typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" supports the repository design pattern, thus each entity has its own Repository. These repositories can be obtained from the database connection. "])),(l()(),tt(90,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But firstly, we need at least one entity. We are going to reuse the "])),(l()(),tt(92,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Photo"])),(l()(),yr(-1,null,[" entity from the offical documentation. "])),(l()(),tt(95,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["photo/photo.entity.ts"])),(l()(),tt(97,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(98,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(99,null,["",""])),(l()(),tt(100,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(102,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Photo"])),(l()(),yr(-1,null,[" entity belongs to the "])),(l()(),tt(105,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["photo"])),(l()(),yr(-1,null,[" directory. This directory represents the "])),(l()(),tt(108,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoModule"])),(l()(),yr(-1,null,[". Now, let's create a "])),(l()(),tt(111,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Repository"])),(l()(),yr(-1,null,[" provider: "])),(l()(),tt(114,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["photo.providers.ts"])),(l()(),tt(116,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(117,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(118,null,["",""])),(l()(),tt(119,0,null,null,15,"blockquote",[],null,null,null,null,null)),(l()(),tt(120,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In the real-world applications you should avoid "])),(l()(),tt(123,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["magic strings"])),(l()(),yr(-1,null,[". Both "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoRepositoryToken"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DbConnectionToken"])),(l()(),yr(-1,null,[" should be kept in the separated "])),(l()(),tt(132,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constants.ts"])),(l()(),yr(-1,null,[" file. "])),(l()(),tt(135,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can inject the "])),(l()(),tt(137,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoRepository"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(140,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoService"])),(l()(),yr(-1,null,[" using the "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(146,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["photo.service.ts"])),(l()(),tt(148,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(149,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(150,null,["",""])),(l()(),tt(151,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The database connection is "])),(l()(),tt(153,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[", but Nest makes this process completely invisible for the end-user. The "])),(l()(),tt(156,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoRepository"])),(l()(),yr(-1,null,[" is waiting for the db connection, and the "])),(l()(),tt(159,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoService"])),(l()(),yr(-1,null,[" is delayed until repository is ready to use. The entire application can start when each class is instantiated. "])),(l()(),tt(162,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is a final "])),(l()(),tt(164,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(167,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["photo.module.ts"])),(l()(),tt(169,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(170,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(171,null,["",""])),(l()(),tt(172,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(173,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Don't forget to import the "])),(l()(),tt(176,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoModule"])),(l()(),yr(-1,null,[" into the root "])),(l()(),tt(179,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,19,0,"/techniques/sql"),l(n,44,0,"/fundamentals/async-components")},function(l,n){var e=n.component;l(n,18,0,Et(n,19).target,Et(n,19).href),l(n,28,0,e.dependencies),l(n,43,0,Et(n,44).target,Et(n,44).href),l(n,51,0,e.databaseProviders),l(n,68,0,e.databaseModule),l(n,99,0,e.photoEntity),l(n,118,0,e.photoProviders),l(n,150,0,e.photoService),l(n,171,0,e.photoModule)})}function Zy(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-sql-typeorm",[],null,null,null,Xy,Yy)),zt(1,8437760,null,0,$y,[Pe,Gl],null,null)],null,null)}var lb=Ct("app-sql-typeorm",$y,Zy,{},{},[]),nb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"dependencies",{get:function(){return"\n$ npm install --save mongoose\n$ npm install --save-dev @types/mongoose"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dependenciesJs",{get:function(){return"\n$ npm install --save mongoose"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"databaseProviders",{get:function(){return"\nimport * as mongoose from 'mongoose';\n\nexport const databaseProviders = [\n  {\n    provide: 'DbConnectionToken',\n    useFactory: async (): Promise<typeof mongoose> =>\n      await mongoose.connect('mongodb://localhost/nest'),\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"databaseModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { databaseProviders } from './database.providers';\n\n@Module({\n  providers: [...databaseProviders],\n  exports: [...databaseProviders],\n})\nexport class DatabaseModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catSchema",{get:function(){return"\nimport * as mongoose from 'mongoose';\n\nexport const CatSchema = new mongoose.Schema({\n  name: String,\n  age: Number,\n  breed: String,\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsProviders",{get:function(){return"\nimport { Connection } from 'mongoose';\nimport { CatSchema } from './schemas/cat.schema';\n\nexport const catsProviders = [\n  {\n    provide: 'CatModelToken',\n    useFactory: (connection: Connection) => connection.model('Cat', CatSchema),\n    inject: ['DbConnectionToken'],\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsProvidersJs",{get:function(){return"\nimport { CatSchema } from './schemas/cat.schema';\n\nexport const catsProviders = [\n  {\n    provide: 'CatModelToken',\n    useFactory: (connection) => connection.model('Cat', CatSchema),\n    inject: ['DbConnectionToken'],\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsService",{get:function(){return"\nimport { Model } from 'mongoose';\nimport { Injectable, Inject } from '@nestjs/common';\nimport { Cat } from './interfaces/cat.interface';\nimport { CreateCatDto } from './dto/create-cat.dto';\n\n@Injectable()\nexport class CatsService {\n  constructor(\n    @Inject('CatModelToken')\n    private readonly catModel: Model<Cat>,\n  ) {}\n\n  async create(createCatDto: CreateCatDto): Promise<Cat> {\n    const createdCat = new this.catModel(createCatDto);\n    return await createdCat.save();\n  }\n\n  async findAll(): Promise<Cat[]> {\n    return await this.catModel.find().exec();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsServiceJs",{get:function(){return"\nimport { Injectable, Dependencies } from '@nestjs/common';\n\n@Injectable()\n@Dependencies('CatModelToken')\nexport class CatsService {\n  constructor(catModel) {\n    this.catModel = catModel;\n  }\n\n  async create(createCatDto) {\n    const createdCat = new this.catModel(createCatDto);\n    return await createdCat.save();\n  }\n\n  async findAll() {\n    return await this.catModel.find().exec();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\nimport { catsProviders } from './cats.providers';\nimport { DatabaseModule } from '../database/database.module';\n\n@Module({\n  imports: [DatabaseModule],\n  controllers: [CatsController],\n  providers: [\n    CatsService,\n    ...catsProviders,\n  ],\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catInterface",{get:function(){return"\nimport { Document } from 'mongoose';\n\nexport interface Cat extends Document {\n  readonly name: string;\n  readonly age: number;\n  readonly breed: string;\n}"},enumerable:!0,configurable:!0}),n}(Kh),eb=Tu({encapsulation:2,styles:[],data:{}});function ub(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,222,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongoDB (Mongoose)"])),(l()(),tt(4,0,null,null,16,"blockquote",[],null,null,null,null,null)),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" In this article, you'll learn how to create a "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DatabaseModule"])),(l()(),yr(-1,null,[" based on the "])),(l()(),tt(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Mongoose"])),(l()(),yr(-1,null,[" package from scratch using custom components. As a consequence, this solution contains a lot of overhead that you can omit using ready to use and available out-of-the-box dedicated "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/mongoose"])),(l()(),yr(-1,null,[" package. To learn more, see "])),(l()(),tt(17,0,null,null,2,"a",[["routerLink","/techniques/mongodb"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,18).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(18,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(21,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),tt(22,0,null,null,1,"a",[["href","http://mongoosejs.com"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Mongoose"])),(l()(),yr(-1,null,[" is the most popular "])),(l()(),tt(25,0,null,null,1,"a",[["href","https://www.mongodb.org/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["MongoDB"])),(l()(),yr(-1,null,[" object modeling tool. To start the adventure with this library we have to install all required dependencies: "])),(l()(),tt(28,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(29,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(30,49152,[["dependenciesT",4]],0,Wh,[],null,null),(l()(),tt(31,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(32,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(33,null,["",""])),(l()(),tt(34,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(35,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(36,null,["",""])),(l()(),tt(37,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The first step we need to do is to establish the connection with our database using "])),(l()(),tt(39,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["connect()"])),(l()(),yr(-1,null,[" function. The "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["connect()"])),(l()(),yr(-1,null,[" function returns a "])),(l()(),tt(45,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[", therefore we have to create an "])),(l()(),tt(48,0,null,null,2,"a",[["routerLink","/fundamentals/async-components"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,49).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(49,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["async provider"])),(l()(),yr(-1,null,[". "])),(l()(),tt(52,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(53,null,[" "," "])),fr(54,2),(l()(),tt(55,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(56,49152,[["databaseProvidersT",4]],0,Wh,[],null,null),(l()(),tt(57,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(58,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(59,null,["",""])),(l()(),tt(60,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(61,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Following best practices, we declared the custom provider in the separated file which has a "])),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["*.providers.ts"])),(l()(),yr(-1,null,[" suffix. "])),(l()(),tt(67,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we need to export these providers to make them "])),(l()(),tt(69,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["accessible"])),(l()(),yr(-1,null,[" for the rest part of the application. "])),(l()(),tt(72,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(73,null,[" "," "])),fr(74,2),(l()(),tt(75,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(76,49152,[["databaseModuleT",4]],0,Wh,[],null,null),(l()(),tt(77,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(78,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(79,null,["",""])),(l()(),tt(80,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can inject the "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" object using "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator. Each class that would depend on the "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" async provider will wait until a "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[" is resolved. "])),(l()(),tt(94,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model injection"])),(l()(),tt(96,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" With Mongoose, everything is derived from a "])),(l()(),tt(98,0,null,null,1,"a",[["href","http://mongoosejs.com/docs/guide.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Schema"])),(l()(),yr(-1,null,[". Let's define the "])),(l()(),tt(101,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatSchema"])),(l()(),yr(-1,null,[": "])),(l()(),tt(104,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(105,null,[" "," "])),fr(106,2),(l()(),tt(107,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(108,49152,[["catSchemaT",4]],0,Wh,[],null,null),(l()(),tt(109,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(110,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(111,null,["",""])),(l()(),tt(112,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(114,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsSchema"])),(l()(),yr(-1,null,[" belongs to the "])),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,[" directory. This directory represents the "])),(l()(),tt(120,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(123,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now it's time to create a "])),(l()(),tt(125,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model"])),(l()(),yr(-1,null,[" provider: "])),(l()(),tt(128,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(129,null,[" "," "])),fr(130,2),(l()(),tt(131,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(132,49152,[["catsProvidersT",4]],0,Wh,[],null,null),(l()(),tt(133,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(134,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(135,null,["",""])),(l()(),tt(136,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(137,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(138,null,["",""])),(l()(),tt(139,0,null,null,15,"blockquote",[],null,null,null,null,null)),(l()(),tt(140,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In the real-world applications you should avoid "])),(l()(),tt(143,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["magic strings"])),(l()(),yr(-1,null,[". Both "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatModelToken"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(149,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DbConnectionToken"])),(l()(),yr(-1,null,[" should be kept in the separated "])),(l()(),tt(152,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constants.ts"])),(l()(),yr(-1,null,[" file. "])),(l()(),tt(155,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can inject the "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatModelToken"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" using the "])),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(166,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(167,null,[" "," "])),fr(168,2),(l()(),tt(169,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(170,49152,[["catsServiceT",4]],0,Wh,[],null,null),(l()(),tt(171,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(172,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(173,null,["",""])),(l()(),tt(174,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(175,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(176,null,["",""])),(l()(),tt(177,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In the above example we have used the "])),(l()(),tt(179,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Cat"])),(l()(),yr(-1,null,[" interface. This interface extends the "])),(l()(),tt(182,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Document"])),(l()(),yr(-1,null,[" from the mongoose package: "])),(l()(),tt(185,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cat.interface.ts"])),(l()(),tt(187,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(188,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(189,null,["",""])),(l()(),tt(190,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The database connection is "])),(l()(),tt(192,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[", but Nest makes this process completely invisible for the end-user. The "])),(l()(),tt(195,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatModel"])),(l()(),yr(-1,null,[" class is waiting for the db connection, and the "])),(l()(),tt(198,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" is delayed until model is ready to use. The entire application can start when each class is instantiated. "])),(l()(),tt(201,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is a final "])),(l()(),tt(203,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(206,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(207,null,[" "," "])),fr(208,2),(l()(),tt(209,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(210,49152,[["catsModuleT",4]],0,Wh,[],null,null),(l()(),tt(211,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(212,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(213,null,["",""])),(l()(),tt(214,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(215,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Don't forget to import the "])),(l()(),tt(218,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[" into the root "])),(l()(),tt(221,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,18,0,"/techniques/mongodb"),l(n,49,0,"/fundamentals/async-components")},function(l,n){var e=n.component;l(n,17,0,Et(n,18).target,Et(n,18).href),l(n,31,0,Et(n,30).isJsActive),l(n,33,0,e.dependencies),l(n,34,0,!Et(n,30).isJsActive),l(n,36,0,e.dependenciesJs),l(n,48,0,Et(n,49).target,Et(n,49).href);var u=Ou(n,53,0,l(n,54,0,Et(n,0),"database.providers",Et(n,56).isJsActive));l(n,53,0,u),l(n,59,0,e.databaseProviders);var t=Ou(n,73,0,l(n,74,0,Et(n,0),"database.module",Et(n,76).isJsActive));l(n,73,0,t),l(n,79,0,e.databaseModule);var r=Ou(n,105,0,l(n,106,0,Et(n,0),"cats/schemas/cat.schema",Et(n,108).isJsActive));l(n,105,0,r),l(n,111,0,e.catSchema);var o=Ou(n,129,0,l(n,130,0,Et(n,0),"cats.providers",Et(n,132).isJsActive));l(n,129,0,o),l(n,133,0,Et(n,132).isJsActive),l(n,135,0,e.catsProviders),l(n,136,0,!Et(n,132).isJsActive),l(n,138,0,e.catsProvidersJs);var a=Ou(n,167,0,l(n,168,0,Et(n,0),"cats.service",Et(n,170).isJsActive));l(n,167,0,a),l(n,171,0,Et(n,170).isJsActive),l(n,173,0,e.catsService),l(n,174,0,!Et(n,170).isJsActive),l(n,176,0,e.catsServiceJs),l(n,189,0,e.catInterface);var i=Ou(n,207,0,l(n,208,0,Et(n,0),"cats.module",Et(n,210).isJsActive));l(n,207,0,i),l(n,213,0,e.catsModule)})}function tb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-mongodb",[],null,null,null,ub,eb)),zt(1,8437760,null,0,nb,[Pe,Gl],null,null)],null,null)}var rb=Ct("app-mongodb",nb,tb,{},{},[]),ob=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"dependencies",{get:function(){return"\n$ npm install --save passport passport-jwt jsonwebtoken"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authService",{get:function(){return"\nimport * as jwt from 'jsonwebtoken';\nimport { Component } from '@nestjs/common';\n\n@Component()\nexport class AuthService {\n  async createToken() {\n    const expiresIn = 60 * 60, secretOrKey = 'secret';\n    const user = { email: 'thisis@example.com' };\n    const token = jwt.sign(user, secretOrKey, { expiresIn });\n    return {\n      expires_in: expiresIn,\n      access_token: token,\n    };\n  }\n\n  async validateUser(signedUser): Promise<boolean> {\n    // put some validation logic here\n    // for example query user by id / email / username\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authServiceJs",{get:function(){return"\nimport * as jwt from 'jsonwebtoken';\nimport { Component } from '@nestjs/common';\n\n@Component()\nexport class AuthService {\n  async createToken() {\n    const expiresIn = 60 * 60, secretOrKey = 'secret';\n    const user = { email: 'thisis@example.com' };\n    const token = jwt.sign(user, secretOrKey, { expiresIn });\n    return {\n      expires_in: expiresIn,\n      access_token: token,\n    };\n  }\n\n  async validateUser(signedUser) {\n    // put some validation logic here\n    // for example query user by id / email / username\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"jwtStrategy",{get:function(){return"\nimport * as passport from 'passport';\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { Component, Inject, UnauthorizedException } from '@nestjs/common';\nimport { AuthService } from '../auth.service';\n\n@Component()\nexport class JwtStrategy extends Strategy {\n  constructor(private readonly authService: AuthService) {\n    super(\n      {\n        jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n        passReqToCallback: true,\n        secretOrKey: 'secret',\n      },\n      async (req, payload, next) => await this.verify(req, payload, next)\n    );\n    passport.use(this);\n  }\n\n  public async verify(req, payload, done) {\n    const isValid = await this.authService.validateUser(payload);\n    if (!isValid) {\n      return done(new UnauthorizedException(), false);\n    }\n    done(null, payload);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"jwtStrategyJs",{get:function(){return"\nimport * as passport from 'passport';\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { Component, Dependencies } from '@nestjs/common';\nimport { AuthService } from '../auth.service';\n\n@Component()\n@Dependencies(AuthService)\nexport class JwtStrategy extends Strategy {\n  constructor(authService) {\n    super(\n      {\n        jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n        passReqToCallback: true,\n        secretOrKey: 'secret',\n      },\n      async (req, payload, next) => await this.verify(req, payload, next)\n    );\n    this.authService = authService;\n    passport.use(this);\n  }\n\n  async verify(req, payload, done) {\n    const isValid = await this.authService.validateUser(payload);\n    if (!isValid) {\n      return done('Unauthorized', false);\n    }\n    done(null, payload);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authModule",{get:function(){return"\nimport * as passport from 'passport';\nimport {\n  Module,\n  NestModule,\n  MiddlewareConsumer,\n  RequestMethod,\n} from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { JwtStrategy } from './passport/jwt.strategy';\nimport { AuthController } from './auth.controller';\n\n@Module({\n  components: [AuthService, JwtStrategy],\n  controllers: [AuthController],\n})\nexport class AuthModule implements NestModule {\n  public configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(passport.authenticate('jwt', { session: false }))\n      .forRoutes({ path: '/auth/authorized', method: RequestMethod.ALL });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authModuleJs",{get:function(){return"\nimport * as passport from 'passport';\nimport { Module, RequestMethod } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { JwtStrategy } from './passport/jwt.strategy';\nimport { AuthController } from './auth.controller';\n\n@Module({\n  components: [AuthService, JwtStrategy],\n  controllers: [AuthController],\n})\nexport class AuthModule {\n  public configure(consumer) {\n    consumer\n      .apply(passport.authenticate('jwt', { session: false }))\n      .forRoutes({ path: '/auth/authorized', method: RequestMethod.ALL });\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),ab=Tu({encapsulation:2,styles:[],data:{}});function ib(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,119,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Authentication (Passport)"])),(l()(),tt(4,0,null,null,9,"p",[],null,null,null,null,null)),(l()(),tt(5,0,null,null,1,"a",[["href","https://github.com/jaredhanson/passport"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Passport"])),(l()(),yr(-1,null,[" is the most popular authentication library, probably well-known by almost every node.js developer in the world, and successively used in many production applications. It's really simple to integrate this tool with "])),(l()(),tt(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Nest"])),(l()(),yr(-1,null,[" framework. For demonstration purposes, I'll set up the "])),(l()(),tt(11,0,null,null,1,"a",[["href","https://github.com/themikenicholson/passport-jwt"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["passport-jwt"])),(l()(),yr(-1,null,[" strategy. "])),(l()(),tt(14,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To start the adventure with this library we have to install all of the required dependencies: "])),(l()(),tt(16,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(17,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(18,null,["",""])),(l()(),tt(19,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we're gonna create the "])),(l()(),tt(21,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[". This class will contain 2 methods, "])),(l()(),tt(24,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["(1)"])),(l()(),yr(-1,null,[" to create a token using fake user, and "])),(l()(),tt(27,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["(2)"])),(l()(),yr(-1,null,[" to validate the signed user from the decoded JWT (hardcoded "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,["). "])),(l()(),tt(33,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(34,null,[" "," "])),fr(35,2),(l()(),tt(36,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(37,49152,[["authServiceT",4]],0,Wh,[],null,null),(l()(),tt(38,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(39,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(40,null,["",""])),(l()(),tt(41,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(42,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(43,null,["",""])),(l()(),tt(44,0,null,null,10,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(45,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" In a best-case scenario the "])),(l()(),tt(48,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["jwt"])),(l()(),yr(-1,null,[" object and token configuration (secret key and expiration time) should be provided as a "])),(l()(),tt(51,0,null,null,2,"a",[["routerLink","/fundamentals/dependency-injection"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,52).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(52,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom components"])),(l()(),yr(-1,null,[" and injected through constructor. "])),(l()(),tt(55,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Passport uses the concept of strategies to authenticate requests. In this chapter, we're gonna extend the strategy provided by the "])),(l()(),tt(57,0,null,null,1,"a",[["href","https://github.com/themikenicholson/passport-jwt"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["passport-jwt"])),(l()(),yr(-1,null,[" package, the "])),(l()(),tt(60,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtStrategy"])),(l()(),yr(-1,null,[": "])),(l()(),tt(63,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(64,null,[" "," "])),fr(65,2),(l()(),tt(66,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(67,49152,[["jwtStrategyT",4]],0,Wh,[],null,null),(l()(),tt(68,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(69,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(70,null,["",""])),(l()(),tt(71,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(72,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(73,null,["",""])),(l()(),tt(74,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(76,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtStrategy"])),(l()(),yr(-1,null,[" uses "])),(l()(),tt(79,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[" to validate the payload (signed user). When the payload is valid, the request may be handled by the route handler. Otherwise, the user would receive "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["401 Unauthorized"])),(l()(),yr(-1,null,[" response. "])),(l()(),tt(85,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to create an "])),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(90,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(91,null,[" "," "])),fr(92,2),(l()(),tt(93,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(94,49152,[["authModuleT",4]],0,Wh,[],null,null),(l()(),tt(95,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(96,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(97,null,["",""])),(l()(),tt(98,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(99,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(100,null,["",""])),(l()(),tt(101,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The trick's to provide a "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtStrategy"])),(l()(),yr(-1,null,[" as a component, and set up the strategy immediately after instance creation (inside the "])),(l()(),tt(106,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constructor"])),(l()(),yr(-1,null,["). Also, we're binding the "])),(l()(),tt(109,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,110).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(110,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["functional middleware"])),(l()(),yr(-1,null,[" to the single "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["/auth/authorized"])),(l()(),yr(-1,null,[" route (just for testing purposes). It's everything. "])),(l()(),tt(116,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The full source code's available "])),(l()(),tt(118,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/08-passport"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,52,0,"/fundamentals/dependency-injection"),l(n,110,0,"/")},function(l,n){var e=n.component;l(n,18,0,e.dependencies);var u=Ou(n,34,0,l(n,35,0,Et(n,0),"auth.service",Et(n,37).isJsActive));l(n,34,0,u),l(n,38,0,Et(n,37).isJsActive),l(n,40,0,e.authService),l(n,41,0,!Et(n,37).isJsActive),l(n,43,0,e.authServiceJs),l(n,51,0,Et(n,52).target,Et(n,52).href);var t=Ou(n,64,0,l(n,65,0,Et(n,0),"jwt.strategy",Et(n,67).isJsActive));l(n,64,0,t),l(n,68,0,Et(n,67).isJsActive),l(n,70,0,e.jwtStrategy),l(n,71,0,!Et(n,67).isJsActive),l(n,73,0,e.jwtStrategyJs);var r=Ou(n,91,0,l(n,92,0,Et(n,0),"auth.module",Et(n,94).isJsActive));l(n,91,0,r),l(n,95,0,Et(n,94).isJsActive),l(n,97,0,e.authModule),l(n,98,0,!Et(n,94).isJsActive),l(n,100,0,e.authModuleJs),l(n,109,0,Et(n,110).target,Et(n,110).href)})}function sb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-passport",[],null,null,null,ib,ab)),zt(1,8437760,null,0,ob,[Pe,Gl],null,null)],null,null)}var cb=Ct("app-passport",ob,sb,{},{},[]),pb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"dependencies",{get:function(){return"\n$ npm install --save @nestjs/passport passport passport-http-bearer"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authService",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { UsersService } from '../users/users.service';\n\n@Injectable()\nexport class AuthService {\n  constructor(private readonly usersService: UsersService) {}\n\n  async validateUser(token: string): Promise<any> {\n    // Validate if token passed along with HTTP request\n    // is associated with any registered account in the database\n    return await this.usersService.findOneByToken(token);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authServiceJs",{get:function(){return"\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { UsersService } from '../users/users.service';\n\n@Injectable()\n@Dependencies(UsersService)\nexport class AuthService {\n  constructor(usersService) {\n    this.usersService = usersService;\n  }\n\n  async validateUser(token) {\n    // Validate if token passed along with HTTP request\n    // is associated with any registered account in the database\n    return await this.usersService.findOneByToken(token);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpStrategy",{get:function(){return"\nimport { Strategy } from 'passport-http-bearer';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class HttpStrategy extends PassportStrategy(Strategy) {\n  constructor(private readonly authService: AuthService) {\n    super();\n  }\n\n  async validate(token: string) {\n    const user = await this.authService.validateUser(token);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return user;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpStrategyJs",{get:function(){return"\nimport { Strategy } from 'passport-http-bearer';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, Dependencies, UnauthorizedException } from '@nestjs/common';\nimport { AuthService } from './auth.service';\n\n@Injectable()\n@Dependencies(AuthService)\nexport class HttpStrategy extends PassportStrategy(Strategy) {\n  constructor(authService) {\n    super();\n    this.authService = authService;\n  }\n\n  async validate(token) {\n    const user = await this.authService.validateUser(token);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return user;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"jwtStrategy",{get:function(){return"\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { AuthService } from './auth.service';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { JwtPayload } from './interfaces/jwt-payload.interface';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(private readonly authService: AuthService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: 'secretKey',\n    });\n  }\n\n  async validate(payload: JwtPayload) {\n    const user = await this.authService.validateUser(payload);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return user;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"jwtStrategyJs",{get:function(){return"\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { AuthService } from './auth.service';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { Injectable, Dependencies, UnauthorizedException } from '@nestjs/common';\n\n@Injectable()\n@Dependencies(AuthService)\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(authService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      secretOrKey: 'secretKey',\n    });\n    this.authService = authService;\n  }\n\n  async validate(payload, done) {\n    const user = await this.authService.validateUser(payload);\n    if (!user) {\n      return done(new UnauthorizedException(), false);\n    }\n    done(null, user);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { HttpStrategy } from './http.strategy';\nimport { UsersModule } from '../users/users.module';\n\n@Module({\n  imports: [UsersModule],\n  providers: [AuthService, HttpStrategy],\n})\nexport class AuthModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authModuleJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { HttpStrategy } from './http.strategy';\nimport { UsersModule } from '../users/users.module';\n\n@Module({\n  imports: [UsersModule],\n  providers: [AuthService, HttpStrategy],\n})\nexport class AuthModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useGuards",{get:function(){return"\n@Get('users')\n@UseGuards(AuthGuard('bearer'))\nfindAll() {\n  return [];\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useGuardsDefault",{get:function(){return"\n@Get('users')\n@UseGuards(AuthGuard())\nfindAll() {\n  return [];\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useGuardsJwt",{get:function(){return"\n@Get('users')\n@UseGuards(AuthGuard())\nfindAll() {\n  return [];\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"passportModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { HttpStrategy } from './http.strategy';\nimport { UsersModule } from '../users/users.module';\nimport { PassportModule } from '@nestjs/passport';\n\n@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'bearer' }),\n    UsersModule,\n  ],\n  providers: [AuthService, HttpStrategy],\n})\nexport class AuthModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"passportModuleJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { HttpStrategy } from './http.strategy';\nimport { UsersModule } from '../users/users.module';\nimport { PassportModule } from '@nestjs/passport';\n\n@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'bearer' }),\n    UsersModule,\n  ],\n  providers: [AuthService, HttpStrategy],\n})\nexport class AuthModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userObject",{get:function(){return"\nPassportModule.register({ property: 'profile' })"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"passportOptions",{get:function(){return"\nPassportModule.register({ session: true })"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authServiceJwt",{get:function(){return"\nimport { JwtService } from '@nestjs/jwt';\nimport { Injectable } from '@nestjs/common';\nimport { UsersService } from '../users/users.service';\nimport { JwtPayload } from './interfaces/jwt-payload.interface';\n\n@Injectable()\nexport class AuthService {\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly jwtService: JwtService,\n  ) {}\n\n  async signIn(): Promise<string> {\n    // In the real-world app you shouldn't expose this method publicly\n    // instead, return a token once you verify user credentials\n    const user: JwtPayload = { email: 'user@email.com' };\n    return this.jwtService.sign(user);\n  }\n\n  async validateUser(payload: JwtPayload): Promise<any> {\n    return await this.usersService.findOneByEmail(payload.email);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authServiceJwtJs",{get:function(){return"\nimport { JwtService } from '@nestjs/jwt';\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { UsersService } from '../users/users.service';\nimport { JwtPayload } from './interfaces/jwt-payload.interface';\n\n@Injectable()\n@Dependencies(UsersService, JwtService)\nexport class AuthService {\n  constructor(usersService, jwtService) {\n    this.usersService = usersService;\n    this.jwtService = jwtService;\n  }\n\n  async signIn() {\n    // In the real-world app you shouldn't expose this method publicly\n    // instead, return a token once you verify user credentials\n    const user = { email: 'user@email.com' };\n    return this.jwtService.sign(user);\n  }\n\n  async validateUser(payload) {\n    return await this.usersService.findOneByEmail(payload.email);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authModuleJwt",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\nimport { AuthService } from './auth.service';\nimport { JwtStrategy } from './jwt.strategy';\nimport { UsersModule } from '../users/users.module';\nimport { PassportModule } from '@nestjs/passport';\n\n@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'jwt' }),\n    JwtModule.register({\n      secretOrPrivateKey: 'secretKey',\n      signOptions: {\n        expiresIn: 3600,\n      },\n    }),\n    UsersModule,\n  ],\n  providers: [AuthService, JwtStrategy],\n})\nexport class AuthModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"authModuleJwtJs",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\nimport { AuthService } from './auth.service';\nimport { JwtStrategy } from './jwt.strategy';\nimport { UsersModule } from '../users/users.module';\nimport { PassportModule } from '@nestjs/passport';\n\n@Module({\n  imports: [\n    PassportModule.register({ defaultStrategy: 'jwt' }),\n    JwtModule.register({\n      secretOrPrivateKey: 'secretKey',\n      signOptions: {\n        expiresIn: 3600,\n      },\n    }),\n    UsersModule,\n  ],\n  providers: [AuthService, JwtStrategy],\n})\nexport class AuthModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multipleStrategies",{get:function(){return"\nexport class JwtStrategy extends PassportStrategy(Strategy, 'jwt')"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritance",{get:function(){return"\nimport {\n  ExecutionContext,\n  Injectable,\n  UnauthorizedException,\n} from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\n\n@Injectable()\nexport class JwtAuthGuard extends AuthGuard('jwt') {\n  canActivate(context: ExecutionContext) {\n    // Add your custom authentication logic here\n    // for example, call super.logIn(request) to establish a session.\n    return super.canActivate(context);\n  }\n\n  handleRequest(err, user, info) {\n    if (err || !user) {\n      throw err || new UnauthorizedException();\n    }\n    return user;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphQl",{get:function(){return"\n@Injectable()\nexport class GqlAuthGuard extends AuthGuard('jwt') {\n  getRequest(context: ExecutionContext) {\n    const ctx = GqlExecutionContext.create(context);\n    return ctx.getContext().req;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"requestInContext",{get:function(){return"\nGraphQLModule.forRoot({\n  context: ({ req }) => ({ req }),\n})"},enumerable:!0,configurable:!0}),n}(Kh),db=Tu({encapsulation:2,styles:[],data:{}});function hb(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,428,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Authentication"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Authentication is an "])),(l()(),tt(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["essential"])),(l()(),yr(-1,null,[" part of most existing applications. There are a lot of different approaches, strategies, and ways to handle user authorization. What we eventually decide to use depends on the particular application requirements and is strongly associated with their needs. "])),(l()(),tt(9,0,null,null,12,"p",[],null,null,null,null,null)),(l()(),tt(10,0,null,null,1,"a",[["href","https://github.com/jaredhanson/passport"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Passport"])),(l()(),yr(-1,null,[" is the most popular node.js authentication library, well-known by community and successively used in many production applications. It's really simple to integrate this tool with "])),(l()(),tt(13,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Nest"])),(l()(),yr(-1,null,[" framework using dedicated passport utilities. For demonstration purposes, we'll set up both "])),(l()(),tt(16,0,null,null,1,"a",[["href","https://github.com/jaredhanson/passport-http-bearer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["passport-http-bearer"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(19,0,null,null,1,"a",[["href","https://github.com/themikenicholson/passport-jwt"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["passport-jwt"])),(l()(),yr(-1,null,[" strategy. "])),(l()(),tt(22,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(24,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to start the adventure with this library, we have to install a few fundamental packages. Additionally, we'll start by implementing the bearer strategy, and thus we need to install "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["passport-http-bearer"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(29,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(30,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(31,null,["",""])),(l()(),tt(32,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Bearer strategy"])),(l()(),tt(34,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As has been said already, firstly, we'll implement "])),(l()(),tt(36,0,null,null,1,"a",[["href","https://github.com/jaredhanson/passport-http-bearer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["passport-http-bearer"])),(l()(),yr(-1,null,[" library. Bearer tokens are typically used protect API endpoints, and are often issued using OAuth 2.0. The HTTP Bearer authentication strategy authenticates users using a bearer token. "])),(l()(),tt(39,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's start by creating the "])),(l()(),tt(41,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[" class that will expose a single method, "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["validateUser()"])),(l()(),yr(-1,null,[" which responsibility is to query user using provided bearer "])),(l()(),tt(47,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["token"])),(l()(),yr(-1,null,[". "])),(l()(),tt(50,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(51,null,[" "," "])),fr(52,2),(l()(),tt(53,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(54,49152,[["authServiceT",4]],0,Wh,[],null,null),(l()(),tt(55,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(56,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(57,null,["",""])),(l()(),tt(58,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(59,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(60,null,["",""])),(l()(),tt(61,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(63,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["validateUser()"])),(l()(),yr(-1,null,[" method takes "])),(l()(),tt(66,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["token"])),(l()(),yr(-1,null,[" as an argument. This token is extracted from "])),(l()(),tt(69,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Authorization"])),(l()(),yr(-1,null,[" header that has been passed along with HTTP request. The "])),(l()(),tt(72,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findOneByToken()"])),(l()(),yr(-1,null,[" method's responsibility is to validate if passed token truly exists and is associated with any registered account in the database. "])),(l()(),tt(75,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[" class is done, we have to create a corresponding "])),(l()(),tt(80,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["strategy"])),(l()(),yr(-1,null,[" that passport will use to authenticate requests. "])),(l()(),tt(83,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(84,null,[" "," "])),fr(85,2),(l()(),tt(86,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(87,49152,[["httpStrategyT",4]],0,Wh,[],null,null),(l()(),tt(88,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(89,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(90,null,["",""])),(l()(),tt(91,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(92,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(93,null,["",""])),(l()(),tt(94,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(96,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpStrategy"])),(l()(),yr(-1,null,[" uses "])),(l()(),tt(99,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[" to validate the token. When the token is valid, passport allows further request processing. Otherwise, the user receives "])),(l()(),tt(102,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["401 Unauthorized"])),(l()(),yr(-1,null,[" response. "])),(l()(),tt(105,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, we can create the "])),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(110,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(111,null,[" "," "])),fr(112,2),(l()(),tt(113,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(114,49152,[["authModuleT",4]],0,Wh,[],null,null),(l()(),tt(115,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(116,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(117,null,["",""])),(l()(),tt(118,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(119,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(120,null,["",""])),(l()(),tt(121,0,null,null,12,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(122,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In order to make use of "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsersService"])),(l()(),yr(-1,null,[", the "])),(l()(),tt(128,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthModule"])),(l()(),yr(-1,null,[" imports "])),(l()(),tt(131,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsersModule"])),(l()(),yr(-1,null,[". The internal implementation is unimportant here and heavily depends on your technical project requirements (e.g. database). "])),(l()(),tt(134,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, you can simply use the "])),(l()(),tt(136,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthGuard"])),(l()(),yr(-1,null,[" wherever you want to enable the authentication. "])),(l()(),tt(139,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(140,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(141,null,["",""])),(l()(),tt(142,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(144,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@AuthGuard()"])),(l()(),yr(-1,null,[" is imported from "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/passport"])),(l()(),yr(-1,null,[" package. Also, "])),(l()(),tt(150,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["bearer"])),(l()(),yr(-1,null,[" is a name of the strategy that passport will make use of. Let us check if endpoint is effectively secured. To ensure that everything work correctly, we'll perform a GET request to the "])),(l()(),tt(153,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["users"])),(l()(),yr(-1,null,[" resource without setting a valid token. "])),(l()(),tt(156,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(157,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ curl localhost:3000/users"])),(l()(),tt(159,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Application should respond with "])),(l()(),tt(161,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["401 Unauthorized"])),(l()(),yr(-1,null,[" status code and following response body: "])),(l()(),tt(164,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(165,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,['\n"statusCode": 401,\n"error": "Unauthorized"'])),(l()(),tt(167,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If you create a valid token beforehand and pass it along with the HTTP request, the application will respectively identify a user, attach its object to the request, and allow further request processing. "])),(l()(),tt(169,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(170,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,['\n$ curl localhost:3000/users -H "Authorization: Bearer TOKEN"'])),(l()(),tt(172,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Default strategy"])),(l()(),tt(174,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To determine default passport behavior, you can register the "])),(l()(),tt(176,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PassportModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(179,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(180,null,[" "," "])),fr(181,2),(l()(),tt(182,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(183,49152,[["passportModuleT",4]],0,Wh,[],null,null),(l()(),tt(184,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(185,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(186,null,["",""])),(l()(),tt(187,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(188,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(189,null,["",""])),(l()(),tt(190,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once you set "])),(l()(),tt(192,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["defaultStrategy"])),(l()(),yr(-1,null,[", you no longer need to manually pass the strategy name in the "])),(l()(),tt(195,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@AuthGuard()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(198,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(199,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(200,null,["",""])),(l()(),tt(201,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["User object"])),(l()(),tt(203,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When request is validated correctly, the user entity will be attached to the request object and accessible through "])),(l()(),tt(205,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["user"])),(l()(),yr(-1,null,[" property (e.g. "])),(l()(),tt(208,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req.user"])),(l()(),yr(-1,null,["). To change the property name, set "])),(l()(),tt(211,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["property"])),(l()(),yr(-1,null,[" of the options object. "])),(l()(),tt(214,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(215,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(216,null,["",""])),(l()(),tt(217,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Customize passport"])),(l()(),tt(219,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Depending on the strategy that is being used, passport takes a bunch of properties that shape the library behavior. Use "])),(l()(),tt(221,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["register()"])),(l()(),yr(-1,null,[" method to pass down options object directly to the passport instance. "])),(l()(),tt(224,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(225,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(226,null,["",""])),(l()(),tt(227,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Inheritance"])),(l()(),tt(229,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In most cases, "])),(l()(),tt(231,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthGuard"])),(l()(),yr(-1,null,[" will be sufficient. However, in order to adjust either default error handling or authentication logic, you can extend the class and override methods within a subclass. "])),(l()(),tt(234,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(235,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(236,null,["",""])),(l()(),tt(237,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["JWT strategy"])),(l()(),tt(239,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A second described approach is to authenticate endpoints using a "])),(l()(),tt(241,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["JSON web token"])),(l()(),yr(-1,null,[" (JWT). To implement a JWT-based authentication flow, we need to install required packages. "])),(l()(),tt(244,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(245,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install --save @nestjs/jwt passport-jwt"])),(l()(),tt(247,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation process is done, we can focus on "])),(l()(),tt(249,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[" class. We need to switch from the token validation to a payload-based validation logic as well as provide a way to create a JWT token for the particular user which then could be used to authenticate the incoming request. "])),(l()(),tt(252,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(253,null,[" "," "])),fr(254,2),(l()(),tt(255,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(256,49152,[["authServiceJwtT",4]],0,Wh,[],null,null),(l()(),tt(257,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(258,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(259,null,["",""])),(l()(),tt(260,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(261,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(262,null,["",""])),(l()(),tt(263,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(264,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(267,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtPayload"])),(l()(),yr(-1,null,[" is an interface with a single property, an "])),(l()(),tt(270,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["email"])),(l()(),yr(-1,null,[", and represents decoded JWT token. "])),(l()(),tt(273,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to simplify an example, we created a fake user. The second step is to create a corresponding "])),(l()(),tt(275,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtStrategy"])),(l()(),yr(-1,null,[". "])),(l()(),tt(278,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(279,null,[" "," "])),fr(280,2),(l()(),tt(281,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(282,49152,[["jwtStrategyT",4]],0,Wh,[],null,null),(l()(),tt(283,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(284,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(285,null,["",""])),(l()(),tt(286,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(287,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(288,null,["",""])),(l()(),tt(289,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(291,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtStrategy"])),(l()(),yr(-1,null,[" uses "])),(l()(),tt(294,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthService"])),(l()(),yr(-1,null,[" to validate the decoded payload. When the payload is valid (user exists), passport allows further request processing. Otherwise, the user receives "])),(l()(),tt(297,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["401 (Unauthorized)"])),(l()(),yr(-1,null,[" response. "])),(l()(),tt(300,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, we can move to the "])),(l()(),tt(302,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(305,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(306,null,[" "," "])),fr(307,2),(l()(),tt(308,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(309,49152,[["authModuleJwtT",4]],0,Wh,[],null,null),(l()(),tt(310,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(311,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(312,null,["",""])),(l()(),tt(313,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(314,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(315,null,["",""])),(l()(),tt(316,0,null,null,18,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(317,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" In order to make use of "])),(l()(),tt(320,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsersService"])),(l()(),yr(-1,null,[", the "])),(l()(),tt(323,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthModule"])),(l()(),yr(-1,null,[" imports "])),(l()(),tt(326,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsersModule"])),(l()(),yr(-1,null,[". The internal implementation is unimportant here. Besides, "])),(l()(),tt(329,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtModule"])),(l()(),yr(-1,null,[" has been registered statically. To switch to asynchronous configuration, read more "])),(l()(),tt(332,0,null,null,1,"a",[["href","https://github.com/nestjs/passport"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(335,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Both expiration time and "])),(l()(),tt(337,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["secretKey"])),(l()(),yr(-1,null,[" are hardcoded (in a real-world application you should rather consider using environment variables). "])),(l()(),tt(340,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, you can simply use the "])),(l()(),tt(342,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthGuard"])),(l()(),yr(-1,null,[" wherever you want to enable the authentication. "])),(l()(),tt(345,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(346,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(347,null,["",""])),(l()(),tt(348,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let us check if endpoint is effectively secured. To ensure that everything work correctly, we'll perform a GET request to the "])),(l()(),tt(350,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["users"])),(l()(),yr(-1,null,[" resource without setting a valid token. "])),(l()(),tt(353,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(354,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ curl localhost:3000/users"])),(l()(),tt(356,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Application should respond with "])),(l()(),tt(358,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["401 Unauthorized"])),(l()(),yr(-1,null,[" status code and following response body: "])),(l()(),tt(361,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(362,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,['\n"statusCode": 401,\n"error": "Unauthorized"'])),(l()(),tt(364,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If you create a valid token beforehand and pass it along with the HTTP request, the application will respectively identify a user, attach its object to the request, and allow further request processing. "])),(l()(),tt(366,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(367,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,['\n$ curl localhost:3000/users -H "Authorization: Bearer TOKEN"'])),(l()(),tt(369,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(371,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A full working example is available "])),(l()(),tt(373,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/19-auth"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(376,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple strategies"])),(l()(),tt(378,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Usually, you'll end up with single strategy reused across the whole application. However, there might be cases when you'd prefer to use different strategies for different scopes. In the case of multiple strategies, pass the second argument to the "])),(l()(),tt(380,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PassportStrategy"])),(l()(),yr(-1,null,[" function. Generally, this argument is a name of the strategy. "])),(l()(),tt(383,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(384,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(385,null,["",""])),(l()(),tt(386,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In above example, the "])),(l()(),tt(388,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["jwt"])),(l()(),yr(-1,null,[" becomes the name of the "])),(l()(),tt(391,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["JwtStrategy"])),(l()(),yr(-1,null,[". Afterward, you can use "])),(l()(),tt(394,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@AuthGuard('jwt')"])),(l()(),yr(-1,null,[", just the same as before. "])),(l()(),tt(397,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQL"])),(l()(),tt(399,0,null,null,14,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to use "])),(l()(),tt(401,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthGuard"])),(l()(),yr(-1,null,[" together with "])),(l()(),tt(404,0,null,null,2,"a",[["routerLink","/graphql/quick-start"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,405).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(405,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["GraphQL"])),(l()(),yr(-1,null,[", you have to extend the built-in "])),(l()(),tt(408,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthGuard"])),(l()(),yr(-1,null,[" class and override "])),(l()(),tt(411,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getRequest()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(414,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(415,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(416,null,["",""])),(l()(),tt(417,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We assumed that "])),(l()(),tt(419,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req"])),(l()(),yr(-1,null,[" (request) has been passed as a part of the context value. We have to set this behavior in the module settings. "])),(l()(),tt(422,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(423,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(424,null,["",""])),(l()(),tt(425,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And now, context value will have "])),(l()(),tt(427,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["req"])),(l()(),yr(-1,null,[" property. "]))],function(l,n){l(n,405,0,"/graphql/quick-start")},function(l,n){var e=n.component;l(n,31,0,e.dependencies);var u=Ou(n,51,0,l(n,52,0,Et(n,0),"auth.service",Et(n,54).isJsActive));l(n,51,0,u),l(n,55,0,Et(n,54).isJsActive),l(n,57,0,e.authService),l(n,58,0,!Et(n,54).isJsActive),l(n,60,0,e.authServiceJs);var t=Ou(n,84,0,l(n,85,0,Et(n,0),"http.strategy",Et(n,87).isJsActive));l(n,84,0,t),l(n,88,0,Et(n,87).isJsActive),l(n,90,0,e.httpStrategy),l(n,91,0,!Et(n,87).isJsActive),l(n,93,0,e.httpStrategyJs);var r=Ou(n,111,0,l(n,112,0,Et(n,0),"auth.module",Et(n,114).isJsActive));l(n,111,0,r),l(n,115,0,Et(n,114).isJsActive),l(n,117,0,e.authModule),l(n,118,0,!Et(n,114).isJsActive),l(n,120,0,e.authModuleJs),l(n,141,0,e.useGuards);var o=Ou(n,180,0,l(n,181,0,Et(n,0),"auth.module",Et(n,183).isJsActive));l(n,180,0,o),l(n,184,0,Et(n,183).isJsActive),l(n,186,0,e.passportModule),l(n,187,0,!Et(n,183).isJsActive),l(n,189,0,e.passportModuleJs),l(n,200,0,e.useGuardsDefault),l(n,216,0,e.userObject),l(n,226,0,e.passportOptions),l(n,236,0,e.inheritance);var a=Ou(n,253,0,l(n,254,0,Et(n,0),"auth.service",Et(n,256).isJsActive));l(n,253,0,a),l(n,257,0,Et(n,256).isJsActive),l(n,259,0,e.authServiceJwt),l(n,260,0,!Et(n,256).isJsActive),l(n,262,0,e.authServiceJwtJs);var i=Ou(n,279,0,l(n,280,0,Et(n,0),"jwt.strategy",Et(n,282).isJsActive));l(n,279,0,i),l(n,283,0,Et(n,282).isJsActive),l(n,285,0,e.jwtStrategy),l(n,286,0,!Et(n,282).isJsActive),l(n,288,0,e.jwtStrategyJs);var s=Ou(n,306,0,l(n,307,0,Et(n,0),"auth.module",Et(n,309).isJsActive));l(n,306,0,s),l(n,310,0,Et(n,309).isJsActive),l(n,312,0,e.authModuleJwt),l(n,313,0,!Et(n,309).isJsActive),l(n,315,0,e.authModuleJwtJs),l(n,347,0,e.useGuardsJwt),l(n,385,0,e.multipleStrategies),l(n,404,0,Et(n,405).target,Et(n,405).href),l(n,416,0,e.graphQl),l(n,424,0,e.requestInContext)})}function fb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-authentication",[],null,null,null,hb,db)),zt(1,8437760,null,0,pb,[Pe,Gl],null,null)],null,null)}var mb=Ct("app-authentication",pb,fb,{},{},[]),gb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"dependencies",{get:function(){return"\n  $ npm install --save sequelize sequelize-typescript mysql2\n  $ npm install --save-dev @types/sequelize"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"databaseProviders",{get:function(){return"\nimport { Sequelize } from 'sequelize-typescript';\nimport { Cat } from '../cats/cat.entity';\n\nexport const databaseProviders = [\n  {\n    provide: 'SequelizeToken',\n    useFactory: async () => {\n      const sequelize = new Sequelize({\n        dialect: 'mysql',\n        host: 'localhost',\n        port: 3306,\n        username: 'root',\n        password: 'password',\n        database: 'nest',\n      });\n      sequelize.addModels([Cat]);\n      await sequelize.sync();\n      return sequelize;\n    },\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"databaseModule",{get:function(){return"\n  import { Module } from '@nestjs/common';\n  import { databaseProviders } from './database.providers';\n\n  @Module({\n    providers: [...databaseProviders],\n    exports: [...databaseProviders],\n  })\n  export class DatabaseModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catEntity",{get:function(){return"\nimport { Table, Column, Model } from 'sequelize-typescript';\n\n@Table\nexport class Cat extends Model<Cat> {\n  @Column\n  name: string;\n\n  @Column\n  age: number;\n\n  @Column\n  breed: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsProviders",{get:function(){return"\nimport { Cat } from './cat.entity';\n\nexport const catsProviders = [\n  {\n    provide: 'CatsRepository',\n    useValue: Cat,\n  },\n];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsService",{get:function(){return"\nimport { Component, Inject } from '@nestjs/common';\nimport { CreateCatDto } from './dto/create-cat.dto';\nimport { Cat } from './cat.entity';\n\n@Component()\nexport class CatsService {\n  constructor(\n    @Inject('CatsRepository') private readonly catsRepository: typeof Cat) {}\n\n  async findAll(): Promise<Cat[]> {\n    return await this.catsRepository.findAll<Cat>();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\nimport { catsProviders } from './cats.providers';\nimport { DatabaseModule } from '../database/database.module';\n\n@Module({\n  imports: [DatabaseModule],\n  controllers: [CatsController],\n  providers: [\n    CatsService,\n    ...catsProviders,\n  ],\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),n}(Kh),yb=Tu({encapsulation:2,styles:[],data:{}});function bb(l){return wr(2,[(l()(),tt(0,0,null,null,163,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["SQL (Sequelize)"])),(l()(),tt(3,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),yr(-1,null,["This chapter applies only to TypeScript"])),(l()(),tt(5,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),tt(6,0,null,null,1,"a",[["href","https://github.com/sequelize/sequelize"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Sequelize"])),(l()(),yr(-1,null,[" is a popular Object Relational Mapper (ORM) written in a vanilla JavaScript, but there is a "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://github.com/RobinBuschmann/sequelize-typescript"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["sequelize-typescript"])),(l()(),yr(-1,null,[" TypeScript wrapper which provides a set of decorators and other extras for the base sequelize. To start the adventure with this library we have to install the following dependencies: "])),(l()(),tt(12,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(14,null,["",""])),(l()(),tt(15,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The first step we need to do is create a "])),(l()(),tt(17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Sequelize"])),(l()(),yr(-1,null,[" instance with an options object passed into the constructor. Also, we need to add all models (the alternative is to use "])),(l()(),tt(20,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["modelPaths"])),(l()(),yr(-1,null,[" property) and "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["sync()"])),(l()(),yr(-1,null,[" our database tables. "])),(l()(),tt(26,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["database.providers.ts"])),(l()(),tt(28,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(29,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(30,null,["",""])),(l()(),tt(31,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Following best practices, we declared the custom provider in the separated file which has a "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["*.providers.ts"])),(l()(),yr(-1,null,[" suffix. "])),(l()(),tt(38,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we need to export these providers to make them "])),(l()(),tt(40,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["accessible"])),(l()(),yr(-1,null,[" for the rest part of the application. "])),(l()(),tt(43,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["database.module.ts"])),(l()(),tt(45,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(47,null,["",""])),(l()(),tt(48,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can inject the "])),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Sequelize"])),(l()(),yr(-1,null,[" object using "])),(l()(),tt(53,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator. Each class that would depend on the "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Sequelize"])),(l()(),yr(-1,null,[" async provider will wait until a "])),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[" is resolved. "])),(l()(),tt(62,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model injection"])),(l()(),tt(64,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In "])),(l()(),tt(66,0,null,null,1,"a",[["href","https://github.com/sequelize/sequelize"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Sequelize"])),(l()(),yr(-1,null,[" the "])),(l()(),tt(69,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model"])),(l()(),yr(-1,null,[" defines a table in the database. Instances of this class represent a database row. Firstly, we need at least one entity: "])),(l()(),tt(72,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats/cat.entity.ts"])),(l()(),tt(74,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(75,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(76,null,["",""])),(l()(),tt(77,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(79,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Cat"])),(l()(),yr(-1,null,[" entity belongs to the "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,[" directory. This directory represents the "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[". Now it's time to create a "])),(l()(),tt(88,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Repository"])),(l()(),yr(-1,null,[" component: "])),(l()(),tt(91,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.providers.ts"])),(l()(),tt(93,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(94,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(95,null,["",""])),(l()(),tt(96,0,null,null,15,"blockquote",[],null,null,null,null,null)),(l()(),tt(97,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In the real-world applications you should avoid "])),(l()(),tt(100,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["magic strings"])),(l()(),yr(-1,null,[". Both "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsRepository"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(106,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SequelizeToken"])),(l()(),yr(-1,null,[" should be kept in the separated "])),(l()(),tt(109,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["constants.ts"])),(l()(),yr(-1,null,[" file. "])),(l()(),tt(112,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In Sequelize, we use static methods to manipulate the data, and thus we created an "])),(l()(),tt(114,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["alias"])),(l()(),yr(-1,null,[" here. "])),(l()(),tt(117,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can inject the "])),(l()(),tt(119,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsRepository"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(122,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" using the "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Inject()"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(128,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.service.ts"])),(l()(),tt(130,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(131,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(132,null,["",""])),(l()(),tt(133,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The database connection is "])),(l()(),tt(135,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronous"])),(l()(),yr(-1,null,[", but Nest makes this process completely invisible for the end-user. The "])),(l()(),tt(138,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsRepository"])),(l()(),yr(-1,null,[" provider is waiting for the db connection, and the "])),(l()(),tt(141,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" is delayed until repository is ready to use. The entire application can start when each class is instantiated. "])),(l()(),tt(144,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here is a final "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(149,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["cats.module.ts"])),(l()(),tt(151,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(152,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(153,null,["",""])),(l()(),tt(154,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(155,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Don't forget to import the "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[" into the root "])),(l()(),tt(161,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component;l(n,14,0,e.dependencies),l(n,30,0,e.databaseProviders),l(n,47,0,e.databaseModule),l(n,76,0,e.catEntity),l(n,95,0,e.catsProviders),l(n,132,0,e.catsService),l(n,153,0,e.catsModule)})}function vb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-sql-sequelize",[],null,null,null,bb,yb)),zt(1,8437760,null,0,gb,[Pe,Gl],null,null)],null,null)}var wb=Ct("app-sql-sequelize",gb,vb,{},{},[]),xb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"heroGameService",{get:function(){return"\n@Injectable()\nexport class HeroesGameService {\n  constructor(private readonly commandBus: CommandBus) {}\n\n  async killDragon(heroId: string, killDragonDto: KillDragonDto) {\n    return await this.commandBus.execute(\n      new KillDragonCommand(heroId, killDragonDto.dragonId)\n    );\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroGameServiceJs",{get:function(){return"\n@Injectable()\n@Dependencies(CommandBus)\nexport class HeroesGameService {\n  constructor(commandBus) {\n    this.commandBus = commandBus;\n  }\n\n  async killDragon(heroId, killDragonDto) {\n    return await this.commandBus.execute(\n      new KillDragonCommand(heroId, killDragonDto.dragonId)\n    );\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"killDragonCommand",{get:function(){return"\nexport class KillDragonCommand implements ICommand {\n  constructor(\n    public readonly heroId: string,\n    public readonly dragonId: string,\n  ) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"killDragonCommandJs",{get:function(){return"\nexport class KillDragonCommand {\n  constructor(heroId, dragonId) {\n    this.heroId = heroId;\n    this.dragonId = dragonId;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"killDragonHandler",{get:function(){return"\n@CommandHandler(KillDragonCommand)\nexport class KillDragonHandler implements ICommandHandler<KillDragonCommand> {\n  constructor(private readonly repository: HeroRepository) {}\n\n  async execute(command: KillDragonCommand, resolve: (value?) => void) {\n    const { heroId, dragonId } = command;\n    const hero = this.repository.findOneById(+heroId);\n\n    hero.killEnemy(dragonId);\n    await this.repository.persist(hero);\n    resolve();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"killDragonHandlerJs",{get:function(){return"\n@CommandHandler(KillDragonCommand)\n@Dependencies(HeroRepository)\nexport class KillDragonHandler {\n  constructor(repository) {\n    this.repository = repository;\n  }\n\n  async execute(command, resolve) {\n    const { heroId, dragonId } = command;\n    const hero = this.repository.findOneById(+heroId);\n\n    hero.killEnemy(dragonId);\n    await this.repository.persist(hero);\n    resolve();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"killedDragonEvent",{get:function(){return"\nexport class HeroKilledDragonEvent implements IEvent {\n  constructor(\n    public readonly heroId: string,\n    public readonly dragonId: string) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"killedDragonEventJs",{get:function(){return"\nexport class HeroKilledDragonEvent {\n  constructor(heroId, dragonId) {\n    this.heroId = heroId;\n    this.dragonId = dragonId;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroModel",{get:function(){return"\nexport class Hero extends AggregateRoot {\n  constructor(private readonly id: string) {\n    super();\n  }\n\n  killEnemy(enemyId: string) {\n    // logic\n    this.apply(new HeroKilledDragonEvent(this.id, enemyId));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heroModelJs",{get:function(){return"\nexport class Hero extends AggregateRoot {\n  constructor(id) {\n    super();\n    this.id = id;\n  }\n\n  killEnemy(enemyId) {\n    // logic\n    this.apply(new HeroKilledDragonEvent(this.id, enemyId));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"merged",{get:function(){return"\n@CommandHandler(KillDragonCommand)\nexport class KillDragonHandler implements ICommandHandler<KillDragonCommand> {\n  constructor(\n    private readonly repository: HeroRepository,\n    private readonly publisher: EventPublisher,\n  ) {}\n\n  async execute(command: KillDragonCommand, resolve: (value?) => void) {\n    const { heroId, dragonId } = command;\n    const hero = this.publisher.mergeObjectContext(\n      await this.repository.findOneById(+heroId),\n    );\n    hero.killEnemy(dragonId);\n    hero.commit();\n    resolve();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mergedJs",{get:function(){return"\n@CommandHandler(KillDragonCommand)\n@Dependencies(HeroRepository, EventPublisher)\nexport class KillDragonHandler {\n  constructor(repository, publisher) {\n    this.repository = repository;\n    this.publisher = publisher;\n  }\n\n  async execute(command, resolve) {\n    const { heroId, dragonId } = command;\n    const hero = this.publisher.mergeObjectContext(\n      await this.repository.findOneById(+heroId),\n    );\n    hero.killEnemy(dragonId);\n    hero.commit();\n    resolve();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mergedType",{get:function(){return"\nconst HeroModel = this.publisher.mergeContext(Hero);\nnew HeroModel('id');"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eventHandler",{get:function(){return"\n@EventsHandler(HeroKilledDragonEvent)\nexport class HeroKilledDragonHandler implements IEventHandler<HeroKilledDragonEvent> {\n  constructor(private readonly repository: HeroRepository) {}\n\n  handle(event: HeroKilledDragonEvent) {\n    // logic\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eventHandlerJs",{get:function(){return"\n@EventsHandler(HeroKilledDragonEvent)\n@Dependencies(HeroRepository)\nexport class HeroKilledDragonHandler {\n  constructor(repository) {\n    this.repository = repository;\n  }\n\n  handle(event) {\n    // logic\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"saga",{get:function(){return"\n@Component()\nexport class HeroesGameSagas {\n  dragonKilled = (events$: EventObservable<any>): Observable<ICommand> => {\n    return events$.ofType(HeroKilledDragonEvent)\n      .map((event) => new DropAncientItemCommand(event.heroId, fakeItemID));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sagaJs",{get:function(){return"\n@Injectable()\nexport class HeroesGameSagas {\n  dragonKilled = (events$) => {\n    return events$.ofType(HeroKilledDragonEvent)\n      .map((event) => new DropAncientItemCommand(event.heroId, fakeItemID));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setup",{get:function(){return"\nexport const CommandHandlers = [KillDragonHandler, DropAncientItemHandler];\nexport const EventHandlers =  [HeroKilledDragonHandler, HeroFoundItemHandler];\n\n@Module({\n  imports: [CQRSModule],\n  controllers: [HeroesGameController],\n  providers: [\n    HeroesGameService,\n    HeroesGameSagas,\n    ...CommandHandlers,\n    ...EventHandlers,\n    HeroRepository,\n  ]\n})\nexport class HeroesGameModule implements OnModuleInit {\n  constructor(\n    private readonly moduleRef: ModuleRef,\n    private readonly command$: CommandBus,\n    private readonly event$: EventBus,\n    private readonly heroesGameSagas: HeroesGameSagas,\n  ) {}\n\n  onModuleInit() {\n    this.command$.setModuleRef(this.moduleRef);\n    this.event$.setModuleRef(this.moduleRef);\n\n    this.event$.register(EventHandlers);\n    this.command$.register(CommandHandlers);\n    this.event$.combineSagas([\n      this.heroesGameSagas.dragonKilled,\n    ]);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setupJs",{get:function(){return"\nexport const CommandHandlers = [KillDragonHandler, DropAncientItemHandler];\nexport const EventHandlers =  [HeroKilledDragonHandler, HeroFoundItemHandler];\n\n@Module({\n  imports: [CQRSModule],\n  controllers: [HeroesGameController],\n  providers: [\n    HeroesGameService,\n    HeroesGameSagas,\n    ...CommandHandlers,\n    ...EventHandlers,\n    HeroRepository,\n  ]\n})\n@Dependencies(ModuleRef, CommandBus, EventBus, HeroesGameSagas)\nexport class HeroesGameModule {\n  constructor(moduleRef, command$, event$, heroesGameSagas) {\n    this.moduleRef = moduleRef;\n    this.command$ = command$;\n    this.event$ = event$;\n    this.heroesGameSagas = heroesGameSagas;\n  }\n\n  onModuleInit() {\n    this.command$.setModuleRef(this.moduleRef);\n    this.event$.setModuleRef(this.moduleRef);\n\n    this.event$.register(EventHandlers);\n    this.command$.register(CommandHandlers);\n    this.event$.combineSagas([\n        this.heroesGameSagas.dragonKilled,\n    ]);\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),Cb=Tu({encapsulation:2,styles:[],data:{}});function kb(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,273,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Command query responsibility segregation"])),(l()(),tt(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The flow of the simplest "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/Create,_read,_update_and_delete"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["CRUD"])),(l()(),yr(-1,null,[" applications can be described using the following steps: "])),(l()(),tt(9,0,null,null,13,"ol",[],null,null,null,null,null)),(l()(),tt(10,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Controllers layer handle "])),(l()(),tt(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["HTTP requests"])),(l()(),yr(-1,null,[" and delegate tasks to the services."])),(l()(),tt(15,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Services layer is the place where the most of the business logic is being done."])),(l()(),tt(17,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Services"])),(l()(),yr(-1,null,[" uses Repositories / DAOs to change / persist entities."])),(l()(),tt(21,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Entities are our models - just containers for the values, with setters and getters."])),(l()(),tt(23,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In most cases, there's no reason to make small and medium-sized applications more complicated. But sometimes it's not enough and when our needs become "])),(l()(),tt(25,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["more sophisticated"])),(l()(),yr(-1,null,[" we want to have scalable systems with straightforward data flow. "])),(l()(),tt(28,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" That's why Nest provides a lightweight "])),(l()(),tt(30,0,null,null,1,"a",[["href","https://github.com/nestjs/cqrs"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["CQRS module"])),(l()(),yr(-1,null,[" which components are well-described below. "])),(l()(),tt(33,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Commands"])),(l()(),tt(35,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to make the application easier to understand, each change has to be preceded by a "])),(l()(),tt(37,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Command"])),(l()(),yr(-1,null,[". When any command is dispatched, the application has to react on it. Commands could be dispatched from the services and consumed in corresponding "])),(l()(),tt(40,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Command Handlers"])),(l()(),yr(-1,null,[". "])),(l()(),tt(43,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(44,null,[" "," "])),fr(45,2),(l()(),tt(46,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(47,49152,[["heroGameServiceT",4]],0,Wh,[],null,null),(l()(),tt(48,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(49,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(50,null,["",""])),(l()(),tt(51,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(52,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(53,null,["",""])),(l()(),tt(54,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Here's a sample service that dispatches "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["KillDragonCommand"])),(l()(),yr(-1,null,[". Let's see how the command looks like: "])),(l()(),tt(59,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(60,null,[" "," "])),fr(61,2),(l()(),tt(62,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(63,49152,[["killDragonCommandT",4]],0,Wh,[],null,null),(l()(),tt(64,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(65,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(66,null,["",""])),(l()(),tt(67,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(68,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(69,null,["",""])),(l()(),tt(70,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(72,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommandBus"])),(l()(),yr(-1,null,[" is a commands "])),(l()(),tt(75,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["stream"])),(l()(),yr(-1,null,[". It delegates commands to the equivalent handlers. Each Command has to have corresponding "])),(l()(),tt(78,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Command Handler"])),(l()(),yr(-1,null,[": "])),(l()(),tt(81,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(82,null,[" "," "])),fr(83,2),(l()(),tt(84,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(85,49152,[["killDragonHandlerT",4]],0,Wh,[],null,null),(l()(),tt(86,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(87,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(88,null,["",""])),(l()(),tt(89,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(90,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(91,null,["",""])),(l()(),tt(92,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now every application state change is a result of the "])),(l()(),tt(94,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Command"])),(l()(),yr(-1,null,[" occurrence. The logic is encapsulated in handlers. If we want we can simply add logging here or even more, we can persist our commands in the database (e.g. for the diagnostics purposes). "])),(l()(),tt(97,0,null,null,0,"p",[],null,null,null,null,null)),(l()(),tt(98,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Why do we need "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["resolve()"])),(l()(),yr(-1,null,[" function? Sometimes we might want to return a message from handler to the service. Also, we can just call this function at the beginning of the "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["execute()"])),(l()(),yr(-1,null,[" method, therefore the application would first turn back into the service and return a response to the client and then "])),(l()(),tt(106,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronously"])),(l()(),yr(-1,null,[" come back here to process the dispatched command. "])),(l()(),tt(109,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Events"])),(l()(),tt(111,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Since we have encapsulated commands in handlers, we prevent interaction between them - the application structure'is still not flexible, not "])),(l()(),tt(113,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["reactive"])),(l()(),yr(-1,null,[". The solution is to use "])),(l()(),tt(116,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["events"])),(l()(),yr(-1,null,[". "])),(l()(),tt(119,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(120,null,[" "," "])),fr(121,2),(l()(),tt(122,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(123,49152,[["killedDragonEventT",4]],0,Wh,[],null,null),(l()(),tt(124,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(125,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(126,null,["",""])),(l()(),tt(127,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(128,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(129,null,["",""])),(l()(),tt(130,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Events are asynchronous. They are dispatched by "])),(l()(),tt(132,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["models"])),(l()(),yr(-1,null,[". Models have to extend the "])),(l()(),tt(135,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AggregateRoot"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(138,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(139,null,[" "," "])),fr(140,2),(l()(),tt(141,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(142,49152,[["heroModelT",4]],0,Wh,[],null,null),(l()(),tt(143,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(144,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(145,null,["",""])),(l()(),tt(146,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(147,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(148,null,["",""])),(l()(),tt(149,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(151,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["apply()"])),(l()(),yr(-1,null,[" method does not dispatch events yet because there's no relationship between model and the "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["EventPublisher"])),(l()(),yr(-1,null,[" class. How to tell the model about the publisher? We need to use a publisher "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mergeObjectContext()"])),(l()(),yr(-1,null,[" method inside our command handler. "])),(l()(),tt(160,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(161,null,[" "," "])),fr(162,2),(l()(),tt(163,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(164,49152,[["mergedT",4]],0,Wh,[],null,null),(l()(),tt(165,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(166,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(167,null,["",""])),(l()(),tt(168,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(169,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(170,null,["",""])),(l()(),tt(171,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now everything works as expected. Notice that we need to "])),(l()(),tt(173,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["commit()"])),(l()(),yr(-1,null,[" events since they're not dispatched immediately. Of course, an object doesn't have to exist already. We can easily merge type context also: "])),(l()(),tt(176,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(177,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(178,null,["",""])),(l()(),tt(179,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" That's it. A model has an ability to publish events now. We have to handle them. "])),(l()(),tt(181,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each event can have a lot of "])),(l()(),tt(183,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Event Handlers"])),(l()(),yr(-1,null,[". They don't have to know about each other. "])),(l()(),tt(186,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(187,null,[" "," "])),fr(188,2),(l()(),tt(189,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(190,49152,[["eventHandlerT",4]],0,Wh,[],null,null),(l()(),tt(191,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(192,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(193,null,["",""])),(l()(),tt(194,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(195,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(196,null,["",""])),(l()(),tt(197,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can move the "])),(l()(),tt(199,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["write logic"])),(l()(),yr(-1,null,[" into the event handlers. "])),(l()(),tt(202,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Sagas"])),(l()(),tt(204,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This type of "])),(l()(),tt(206,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Event-Driven Architecture"])),(l()(),yr(-1,null,[" improves application "])),(l()(),tt(209,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["reactiveness and scalability"])),(l()(),yr(-1,null,[". Now, when we have events, we can simply react to them in various manners. The "])),(l()(),tt(212,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Sagas"])),(l()(),yr(-1,null,[" are the last building block from the architecture point of view. "])),(l()(),tt(215,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The sagas are an incredibly powerful feature. Single saga may listen for 1..* events. It can combine, merge, filter [...] events streams. "])),(l()(),tt(217,0,null,null,1,"a",[["href","https://github.com/ReactiveX/rxjs"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["RxJS"])),(l()(),yr(-1,null,[" library is the place where the magic comes from. In simple words, each saga has to return an Observable which contains a command. This command is dispatched "])),(l()(),tt(220,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["asynchronously"])),(l()(),yr(-1,null,[". "])),(l()(),tt(223,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(224,null,[" "," "])),fr(225,2),(l()(),tt(226,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(227,49152,[["sagaT",4]],0,Wh,[],null,null),(l()(),tt(228,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(229,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(230,null,["",""])),(l()(),tt(231,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(232,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(233,null,["",""])),(l()(),tt(234,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We declared a rule that when any hero kills the dragon - it should obtain the ancient item. Then the "])),(l()(),tt(236,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DropAncientItemCommand"])),(l()(),yr(-1,null,[" will be dispatched and processed by the appropriate handler. "])),(l()(),tt(239,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Setup"])),(l()(),tt(241,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last thing which we have to take care of is to set up the whole mechanism. "])),(l()(),tt(243,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(244,null,[" "," "])),fr(245,2),(l()(),tt(246,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(247,49152,[["setupT",4]],0,Wh,[],null,null),(l()(),tt(248,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(249,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(250,null,["",""])),(l()(),tt(251,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(252,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(253,null,["",""])),(l()(),tt(254,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Summary"])),(l()(),tt(256,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Both "])),(l()(),tt(258,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CommandBus"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(261,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["EventBus"])),(l()(),yr(-1,null,[" are "])),(l()(),tt(264,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observables"])),(l()(),yr(-1,null,[". It means that you can easily subscribe to the whole stream and enrich your application with "])),(l()(),tt(267,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Event Sourcing"])),(l()(),yr(-1,null,[". "])),(l()(),tt(270,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(272,0,null,null,1,"a",[["href","https://github.com/kamilmysliwiec/nest-cqrs-example"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component,u=Ou(n,44,0,l(n,45,0,Et(n,0),"heroes-game.service",Et(n,47).isJsActive));l(n,44,0,u),l(n,48,0,Et(n,47).isJsActive),l(n,50,0,e.heroGameService),l(n,51,0,!Et(n,47).isJsActive),l(n,53,0,e.heroGameServiceJs);var t=Ou(n,60,0,l(n,61,0,Et(n,0),"kill-dragon.command",Et(n,63).isJsActive));l(n,60,0,t),l(n,64,0,Et(n,63).isJsActive),l(n,66,0,e.killDragonCommand),l(n,67,0,!Et(n,63).isJsActive),l(n,69,0,e.killDragonCommandJs);var r=Ou(n,82,0,l(n,83,0,Et(n,0),"kill-dragon.handler",Et(n,85).isJsActive));l(n,82,0,r),l(n,86,0,Et(n,85).isJsActive),l(n,88,0,e.killDragonHandler),l(n,89,0,!Et(n,85).isJsActive),l(n,91,0,e.killDragonHandlerJs);var o=Ou(n,120,0,l(n,121,0,Et(n,0),"hero-killed-dragon.event",Et(n,123).isJsActive));l(n,120,0,o),l(n,124,0,Et(n,123).isJsActive),l(n,126,0,e.killedDragonEvent),l(n,127,0,!Et(n,123).isJsActive),l(n,129,0,e.killedDragonEventJs);var a=Ou(n,139,0,l(n,140,0,Et(n,0),"hero.model",Et(n,142).isJsActive));l(n,139,0,a),l(n,143,0,Et(n,142).isJsActive),l(n,145,0,e.heroModel),l(n,146,0,!Et(n,142).isJsActive),l(n,148,0,e.heroModelJs);var i=Ou(n,161,0,l(n,162,0,Et(n,0),"kill-dragon.handler",Et(n,164).isJsActive));l(n,161,0,i),l(n,165,0,Et(n,164).isJsActive),l(n,167,0,e.merged),l(n,168,0,!Et(n,164).isJsActive),l(n,170,0,e.mergedJs),l(n,178,0,e.mergedType);var s=Ou(n,187,0,l(n,188,0,Et(n,0),"hero-killed-dragon.handler",Et(n,190).isJsActive));l(n,187,0,s),l(n,191,0,Et(n,190).isJsActive),l(n,193,0,e.eventHandler),l(n,194,0,!Et(n,190).isJsActive),l(n,196,0,e.eventHandlerJs);var c=Ou(n,224,0,l(n,225,0,Et(n,0),"heroes-game.saga",Et(n,227).isJsActive));l(n,224,0,c),l(n,228,0,Et(n,227).isJsActive),l(n,230,0,e.saga),l(n,231,0,!Et(n,227).isJsActive),l(n,233,0,e.sagaJs);var p=Ou(n,244,0,l(n,245,0,Et(n,0),"heroes-game.module",Et(n,247).isJsActive));l(n,244,0,p),l(n,248,0,Et(n,247).isJsActive),l(n,250,0,e.setup),l(n,251,0,!Et(n,247).isJsActive),l(n,253,0,e.setupJs)})}function jb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-cqrs",[],null,null,null,kb,Cb)),zt(1,8437760,null,0,xb,[Pe,Gl],null,null)],null,null)}var Ob=Ct("app-cqrs",xb,jb,{},{},[]),Sb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"bootstrapFile",{get:function(){return"\nimport { NestFactory } from '@nestjs/core';\nimport { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';\nimport { ApplicationModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n\n  const options = new DocumentBuilder()\n    .setTitle('Cats example')\n    .setDescription('The cats API description')\n    .setVersion('1.0')\n    .addTag('cats')\n    .build();\n  const document = SwaggerModule.createDocument(app, options);\n  SwaggerModule.setup('api', app, document);\n\n  await app.listen(3001);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"secondaryBootstrapFile",{get:function(){return"\nimport { NestFactory } from '@nestjs/core';\nimport { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';\nimport { ApplicationModule } from './app.module';\n\n// imports CatsModule and DogsModule;\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n\n  /**\n   * createDocument(application, configurationOptions, extraOptions);\n   *\n   * createDocument method takes in an optional 3rd argument \"extraOptions\"\n   * which is an object with \"include\" property where you can pass an Array\n   * of Modules that you want to include in that Swagger Specification\n   * E.g: CatsModule and DogsModule will have two separate Swagger Specifications which\n   * will be exposed on two different SwaggerUI with two different endpoints.\n   */\n\n  const options = new DocumentBuilder()\n    .setTitle('Cats example')\n    .setDescription('The cats API description')\n    .setVersion('1.0')\n    .addTag('cats')\n    .build();\n  const catDocument = SwaggerModule.createDocument(app, options, { include: [CatsModule] });\n  SwaggerModule.setup('api/cats', app, catDocument);\n\n  const secondOptions = new DocumentBuilder()\n    .setTitle('Dogs example')\n    .setDescription('The dogs API description')\n    .setVersion('1.0')\n    .addTag('dogs')\n    .build();\n  const dogDocument = SwaggerModule.createDocument(app, secondOptions, { include: [DogsModule] });\n  SwaggerModule.setup('api/dogs', app, dogDocument);\n\n  await app.listen(3001);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"postHandler",{get:function(){return"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"postHandlerJs",{get:function(){return"\n@Post()\n@Bind(Body())\n@ApiImplicitBody({ name: 'CreateCatDto', type: CreateCatDto })\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatDto",{get:function(){return"\nimport { ApiModelProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiModelProperty()\n  readonly name: string;\n\n  @ApiModelProperty()\n  readonly age: number;\n\n  @ApiModelProperty()\n  readonly breed: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatDtoJs",{get:function(){return"\nimport { ApiModelProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiModelProperty({ type: String })\n  readonly name;\n\n  @ApiModelProperty({ type: Number })\n  readonly age;\n\n  @ApiModelProperty({ type: String })\n  readonly breed;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"apiModelProperty",{get:function(){return"\nexport declare const ApiModelProperty: (metadata?: {\n  description?: string;\n  required?: boolean;\n  type?: any;\n  isArray?: boolean;\n  collectionFormat?: string;\n  default?: any;\n  enum?: SwaggerEnumType;\n  format?: string;\n  multipleOf?: number;\n  maximum?: number;\n  exclusiveMaximum?: number;\n  minimum?: number;\n  exclusiveMinimum?: number;\n  maxLength?: number;\n  minLength?: number;\n  pattern?: string;\n  maxItems?: number;\n  minItems?: number;\n  uniqueItems?: boolean;\n  maxProperties?: number;\n  minProperties?: number;\n  readOnly?: boolean;\n  xml?: any;\n  example?: any;\n}) => PropertyDecorator;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"apiModelPropertyOptional",{get:function(){return"\n@ApiModelProperty({ required: false })"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"arrayProperty",{get:function(){return"\n@ApiModelProperty({ type: [String] })\nreadonly names: string[];"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useTags",{get:function(){return"\n@ApiUseTags('cats')\n@Controller('cats')\nexport class CatsController {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"response",{get:function(){return"\n@Post()\n@ApiResponse({ status: 201, description: 'The record has been successfully created.'})\n@ApiResponse({ status: 403, description: 'Forbidden.'})\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customResponse",{get:function(){return"\n@Post()\n@ApiCreatedResponse({ description: 'The record has been successfully created.'})\n@ApiForbiddenResponse({ description: 'Forbidden.'})\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bearerAuth",{get:function(){return"\n@ApiUseTags('cats')\n@ApiBearerAuth()\n@Controller('cats')\nexport class CatsController {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fileUpload",{get:function(){return"\n@UseInterceptors(FileInterceptor('file'))\n@ApiConsumes('multipart/form-data')\n@ApiImplicitFile({ name: 'file', required: true, description: 'List of cats' })\nuploadFile(@UploadedFile() file) {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"apiImplicitQuery",{get:function(){return"\nexport const ApiImplicitQuery = (metadata: {\n  name: string;\n  description?: string;\n  required?: boolean;\n  type?: 'String' | 'Number' | 'Boolean' | any;\n  isArray?: boolean;\n  enum?: SwaggerEnumType;\n  collectionFormat?: 'csv' | 'ssv' | 'tsv' | 'pipes' | 'multi';\n}): MethodDecorator"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enumImplicitQuery",{get:function(){return"\n@ApiImplicitQuery({ name: 'role', enum: ['Admin', 'Moderator', 'User'] })\nasync filterByRole(@Query('role') role: UserRole = UserRole.User) {\n  // role returns: UserRole.Admin, UserRole.Moderator OR UserRole.User\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enumProperty",{get:function(){return"\n@ApiModelProperty({ enum: ['Admin', 'Moderator', 'User']})\nrole: UserRole;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userRoleEnum",{get:function(){return"\nexport enum UserRole {\n  Admin = 'Admin',\n  Moderator = 'Moderator',\n  User = 'User'\n}"},enumerable:!0,configurable:!0}),n}(Kh),Pb=Tu({encapsulation:2,styles:[],data:{}});function Tb(l){return wr(2,[(l()(),tt(0,0,null,null,574,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["OpenAPI (Swagger)"])),(l()(),tt(3,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),yr(-1,null,["This chapter applies only to TypeScript"])),(l()(),tt(5,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(7,0,null,null,1,"a",[["href","https://swagger.io/specification/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["OpenAPI"])),(l()(),yr(-1,null,[" (Swagger) specification is a powerful definition format to describe RESTful APIs. Nest provides a dedicated "])),(l()(),tt(10,0,null,null,1,"a",[["href","https://github.com/nestjs/swagger"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["module"])),(l()(),yr(-1,null,[" to work with it. "])),(l()(),tt(13,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly you have to install the module: "])),(l()(),tt(17,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install --save @nestjs/swagger"])),(l()(),tt(20,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Bootstrap"])),(l()(),tt(22,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation process is done, open your bootstrap file (mostly "])),(l()(),tt(24,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),yr(-1,null,[") and initialize the Swagger using "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[" class: "])),(l()(),tt(30,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(31,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(32,null,["",""])),(l()(),tt(33,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DocumentBuilder"])),(l()(),yr(-1,null,[" is a helper class that helps to structure a base document for the "])),(l()(),tt(38,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[". It contains several methods that allow setting such properties like title, description, version, and so on. "])),(l()(),tt(41,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create a full document (with defined HTTP routes) we use the "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createDocument()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[" class. This method takes two arguments, the application instance and the base Swagger options respectively. "])),(l()(),tt(49,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to call "])),(l()(),tt(51,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["setup()"])),(l()(),yr(-1,null,[". It accepts sequentially "])),(l()(),tt(54,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["(1)"])),(l()(),yr(-1,null,[" path to mount the Swagger, "])),(l()(),tt(57,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["(2)"])),(l()(),yr(-1,null,[" application instance, and "])),(l()(),tt(60,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["(3)"])),(l()(),yr(-1,null,[" the document that describes the Nest application. "])),(l()(),tt(63,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now you can run the following command to start the HTTP server: "])),(l()(),tt(65,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(66,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm run start"])),(l()(),tt(68,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" While the application is running, open your browser and navigate to "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/api"])),(l()(),yr(-1,null,[". You should see similar page: "])),(l()(),tt(73,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,0,"img",[["src","/assets/swagger1.png"]],null,null,null,null,null)),(l()(),tt(75,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[" automatically reflects all of your endpoints. In the background, it's making use of "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["swagger-ui-express"])),(l()(),yr(-1,null,[" and creates a live documentation. "])),(l()(),tt(83,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Body, query, path parameters"])),(l()(),tt(85,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" During the examination of the defined controllers, the "])),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[" is looking for all used "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Body()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(93,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query()"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(96,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Param()"])),(l()(),yr(-1,null,[" decorators in the route handlers. Thanks to them, the valid document can be created. "])),(l()(),tt(99,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Moreover, the module creates the "])),(l()(),tt(101,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["models definitions"])),(l()(),yr(-1,null,[" by taking advantage of the "])),(l()(),tt(104,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["reflection"])),(l()(),yr(-1,null,[". Take a look at the following code: "])),(l()(),tt(107,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(108,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(109,null,["",""])),(l()(),tt(110,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(111,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" To implicitly set the body definition you can use the "])),(l()(),tt(114,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitBody()"])),(l()(),yr(-1,null,[" decorator ("])),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/swagger"])),(l()(),yr(-1,null,[" package). "])),(l()(),tt(120,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Based on the "])),(l()(),tt(122,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[", the module definition will be created: "])),(l()(),tt(125,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(126,0,null,null,0,"img",[["src","/assets/swagger-dto.png"]],null,null,null,null,null)),(l()(),tt(127,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As you can see, the definition's empty although the class has few declared properties. In order to make the class properties accessible to the "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[", we have to mark all of them with "])),(l()(),tt(132,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiModelProperty()"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(135,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(136,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(137,null,["",""])),(l()(),tt(138,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's open the browser and verify the generated "])),(l()(),tt(140,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[" model: "])),(l()(),tt(143,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(144,0,null,null,0,"img",[["src","/assets/swagger-dto2.png"]],null,null,null,null,null)),(l()(),tt(145,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiModelProperty()"])),(l()(),yr(-1,null,[" decorator accepts options object: "])),(l()(),tt(150,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(151,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(152,null,["",""])),(l()(),tt(153,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(154,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" There's an "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiModelPropertyOptional()"])),(l()(),yr(-1,null,[" shortcut decorator which helps to avoid continuous typing "])),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(161,null,["",""])),(l()(),yr(-1,null,[". "])),(l()(),tt(163,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Thanks to that we can simply set the "])),(l()(),tt(165,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["default"])),(l()(),yr(-1,null,[" value, determine whether the property is required or explicitly set the type. "])),(l()(),tt(168,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple specifications"])),(l()(),tt(170,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Swagger module also provides a way to support multiple specifications. In other words, you can serve different documentations with different "])),(l()(),tt(172,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerUI"])),(l()(),yr(-1,null,[" on different endpoints. "])),(l()(),tt(175,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to allow "])),(l()(),tt(177,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[" to support multi-spec, your application must be written with modular approach. The "])),(l()(),tt(180,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createDocument()"])),(l()(),yr(-1,null,[" method takes in a 3rd argument: "])),(l()(),tt(183,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["extraOptions"])),(l()(),yr(-1,null,[" which is an object where a property "])),(l()(),tt(186,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["include"])),(l()(),yr(-1,null,[" expects an array of modules. "])),(l()(),tt(189,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You can setup Multiple Specifications support as shown below: "])),(l()(),tt(191,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(192,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(193,null,["",""])),(l()(),tt(194,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now you can start your server with the following command: "])),(l()(),tt(196,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(197,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm run start"])),(l()(),tt(199,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Navigate to "])),(l()(),tt(201,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/api/cats"])),(l()(),yr(-1,null,[" to see SwaggerUI for your Cats: "])),(l()(),tt(204,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(205,0,null,null,0,"img",[["src","/assets/swagger-cats.png"]],null,null,null,null,null)),(l()(),tt(206,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" While "])),(l()(),tt(208,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/api/docs"])),(l()(),yr(-1,null,[" will expose a SwaggerUI for your Dogs: "])),(l()(),tt(211,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(212,0,null,null,0,"img",[["src","/assets/swagger-dogs.png"]],null,null,null,null,null)),(l()(),tt(213,0,null,null,21,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(214,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" You have to construct a "])),(l()(),tt(217,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerOptions"])),(l()(),yr(-1,null,[" with "])),(l()(),tt(220,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DocumentBuilder"])),(l()(),yr(-1,null,[", run "])),(l()(),tt(223,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createDocument()"])),(l()(),yr(-1,null,[" against newly constructed "])),(l()(),tt(226,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["options"])),(l()(),yr(-1,null,[' then immediately "serve" it with '])),(l()(),tt(229,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["setup()"])),(l()(),yr(-1,null,[" before you can start working on a second "])),(l()(),tt(232,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerOptions"])),(l()(),yr(-1,null,[" for a second Swagger Specification. This specific order is to prevent Swagger configurations being overriden by different options. "])),(l()(),tt(235,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Working with enums"])),(l()(),tt(237,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To be able for "])),(l()(),tt(239,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["SwaggerModule"])),(l()(),yr(-1,null,[" to identify an "])),(l()(),tt(242,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Enum"])),(l()(),yr(-1,null,[", we have to manually set the "])),(l()(),tt(245,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["enum"])),(l()(),yr(-1,null,[" property on "])),(l()(),tt(248,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiModelProperty"])),(l()(),yr(-1,null,[" with an array of values.. "])),(l()(),tt(251,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(252,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(253,null,["",""])),(l()(),tt(254,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),tt(255,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UserRole"])),(l()(),yr(-1,null,[" enum can be defined as following snippet: "])),(l()(),tt(258,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(259,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(260,null,["",""])),(l()(),tt(261,0,null,null,8,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(262,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Note"])),(l()(),yr(-1,null,[" The above usage can only be applied to a "])),(l()(),tt(265,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["property"])),(l()(),yr(-1,null,[" as part of a "])),(l()(),tt(268,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["model definition."])),(l()(),tt(270,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Enums can be used by itself with the "])),(l()(),tt(272,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Query()"])),(l()(),yr(-1,null,[" parameter decorator in combination with the "])),(l()(),tt(275,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitQuery()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(278,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(279,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(280,null,["",""])),(l()(),tt(281,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(282,0,null,null,0,"img",[["src","/assets/enum_query.gif"]],null,null,null,null,null)),(l()(),tt(283,0,null,null,10,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(284,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),tt(286,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["enum"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(289,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["isArray"])),(l()(),yr(-1,null,[" can also be used in combination in "])),(l()(),tt(292,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitQuery()"])),(l()(),tt(294,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" With "])),(l()(),tt(296,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["isArray"])),(l()(),yr(-1,null,[" set to "])),(l()(),tt(299,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[", the "])),(l()(),tt(302,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["enum"])),(l()(),yr(-1,null,[" now can be selected as a "])),(l()(),tt(305,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["multi-select"])),(l()(),yr(-1,null,[": "])),(l()(),tt(308,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(309,0,null,null,0,"img",[["src","/assets/enum_query_array.gif"]],null,null,null,null,null)),(l()(),tt(310,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Working with arrays"])),(l()(),tt(312,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We have to manually indicate a type when the property is actually an array: "])),(l()(),tt(314,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(315,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(316,null,["",""])),(l()(),tt(317,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Simply put your type as the first element of an array (as shown above) or set an "])),(l()(),tt(319,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["isArray"])),(l()(),yr(-1,null,[" property to "])),(l()(),tt(322,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[". "])),(l()(),tt(325,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Tags"])),(l()(),tt(327,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" At the beginning, we created a "])),(l()(),tt(329,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,[" tag (by making use of "])),(l()(),tt(332,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DocumentBuilder"])),(l()(),yr(-1,null,["). In order to attach the controller to the specified tag, we need to use "])),(l()(),tt(335,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiUseTags(...tags)"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(338,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(339,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(340,null,["",""])),(l()(),tt(341,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Responses"])),(l()(),tt(343,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To define a custom HTTP response, we use "])),(l()(),tt(345,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiResponse()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(348,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(349,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(350,null,["",""])),(l()(),tt(351,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Same as common HTTP exceptions defined in "])),(l()(),tt(353,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,354).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(354,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["Exception Filters"])),(l()(),yr(-1,null,[" section, Nest also provides a set of usable "])),(l()(),tt(357,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["API responses"])),(l()(),yr(-1,null,[" that inherits from the core "])),(l()(),tt(360,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiResponse"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(363,0,null,null,57,"ul",[],null,null,null,null,null)),(l()(),tt(364,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(365,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiOkResponse()"])),(l()(),tt(367,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(368,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiCreatedResponse()"])),(l()(),tt(370,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(371,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiBadRequestResponse()"])),(l()(),tt(373,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(374,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiUnauthorizedResponse()"])),(l()(),tt(376,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(377,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiNotFoundResponse()"])),(l()(),tt(379,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(380,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiForbiddenResponse()"])),(l()(),tt(382,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(383,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiMethodNotAllowedResponse()"])),(l()(),tt(385,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(386,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiNotAcceptableResponse()"])),(l()(),tt(388,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(389,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiRequestTimeoutResponse()"])),(l()(),tt(391,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(392,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiConflictResponse()"])),(l()(),tt(394,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(395,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiGoneResponse()"])),(l()(),tt(397,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(398,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiPayloadTooLargeResponse()"])),(l()(),tt(400,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(401,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiUnsupportedMediaTypeResponse()"])),(l()(),tt(403,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(404,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiUnprocessableEntityResponse()"])),(l()(),tt(406,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(407,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiInternalServerErrorResponse()"])),(l()(),tt(409,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(410,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiNotImplementedResponse()"])),(l()(),tt(412,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(413,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiBadGatewayResponse()"])),(l()(),tt(415,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(416,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiServiceUnavailableResponse()"])),(l()(),tt(418,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),tt(419,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiGatewayTimeoutResponse()"])),(l()(),tt(421,0,null,null,9,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In addition to the available HTTP exceptions, Nest provides short-hand decorators for: "])),(l()(),tt(423,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpStatus.OK"])),(l()(),yr(-1,null,[", "])),(l()(),tt(426,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpStatus.CREATED"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(429,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpStatus.METHOD_NOT_ALLOWED"])),(l()(),tt(431,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(432,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(433,null,["",""])),(l()(),tt(434,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Authentication"])),(l()(),tt(436,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You can enable the bearer authorization using "])),(l()(),tt(438,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["addBearerAuth()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(441,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["DocumentBuilder"])),(l()(),yr(-1,null,[" class. Then to restrict the chosen route or entire controller, use "])),(l()(),tt(444,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiBearerAuth()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(447,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(448,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(449,null,["",""])),(l()(),tt(450,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" That's how the OpenAPI documentation should look like now: "])),(l()(),tt(452,0,null,null,1,"figure",[],null,null,null,null,null)),(l()(),tt(453,0,null,null,0,"img",[["src","/assets/swagger-auth.gif"]],null,null,null,null,null)),(l()(),tt(454,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["File upload"])),(l()(),tt(456,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["You can enable file upload for a specific method with the "])),(l()(),tt(458,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitFile"])),(l()(),yr(-1,null,[" decorator together with "])),(l()(),tt(461,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiConsumes()"])),(l()(),yr(-1,null,[". Here's a full example using "])),(l()(),tt(464,0,null,null,2,"a",[["routerLink","/techniques/file-upload"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,465).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(465,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["File Upload"])),(l()(),yr(-1,null,[" technique:"])),(l()(),tt(468,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(469,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(470,null,["",""])),(l()(),tt(471,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Decorators"])),(l()(),tt(473,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All of the available OpenAPI decorators has an "])),(l()(),tt(475,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Api"])),(l()(),yr(-1,null,[" prefix to be clearly distinguishable from the core decorators. Below is a full list of the exported decorators with a defined use-level (where might be applied). "])),(l()(),tt(478,0,null,null,91,"table",[],null,null,null,null,null)),(l()(),tt(479,0,null,null,90,"tbody",[],null,null,null,null,null)),(l()(),tt(480,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(481,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(482,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiOperation()"])),(l()(),tt(484,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(486,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(487,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(488,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiResponse()"])),(l()(),tt(490,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method / Controller"])),(l()(),tt(492,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(493,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(494,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiProduces()"])),(l()(),tt(496,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method / Controller"])),(l()(),tt(498,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(499,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(500,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiConsumes()"])),(l()(),tt(502,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method / Controller"])),(l()(),tt(504,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(505,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(506,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiBearerAuth()"])),(l()(),tt(508,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method / Controller"])),(l()(),tt(510,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(511,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(512,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiOAuth2Auth()"])),(l()(),tt(514,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method / Controller"])),(l()(),tt(516,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(517,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(518,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitBody()"])),(l()(),tt(520,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(522,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(523,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(524,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitParam()"])),(l()(),tt(526,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(528,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(529,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(530,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitQuery()"])),(l()(),tt(532,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(534,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(535,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(536,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitHeader()"])),(l()(),tt(538,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(540,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(541,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(542,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiImplicitFile()"])),(l()(),tt(544,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(546,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(547,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(548,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiExcludeEndpoint()"])),(l()(),tt(550,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method"])),(l()(),tt(552,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(553,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(554,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiUseTags()"])),(l()(),tt(556,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Method / Controller"])),(l()(),tt(558,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(559,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(560,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiModelProperty()"])),(l()(),tt(562,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model"])),(l()(),tt(564,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),tt(565,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(566,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@ApiModelPropertyOptional()"])),(l()(),tt(568,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model"])),(l()(),tt(570,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(572,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/11-swagger"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,354,0,"/exception-filters"),l(n,465,0,"/techniques/file-upload")},function(l,n){var e=n.component;l(n,32,0,e.bootstrapFile),l(n,109,0,e.postHandler),l(n,137,0,e.createCatDto),l(n,152,0,e.apiModelProperty),l(n,161,0,e.apiModelPropertyOptional),l(n,193,0,e.secondaryBootstrapFile),l(n,253,0,e.enumProperty),l(n,260,0,e.userRoleEnum),l(n,280,0,e.enumImplicitQuery),l(n,316,0,e.arrayProperty),l(n,340,0,e.useTags),l(n,350,0,e.response),l(n,353,0,Et(n,354).target,Et(n,354).href),l(n,433,0,e.customResponse),l(n,449,0,e.bearerAuth),l(n,464,0,Et(n,465).target,Et(n,465).href),l(n,470,0,e.fileUpload)})}function Ab(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-swagger",[],null,null,null,Tb,Pb)),zt(1,8437760,null,0,Sb,[Pe,Gl],null,null)],null,null)}var Mb=Ct("app-swagger",Sb,Ab,{},{},[]),_b=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"dependencies",{get:function(){return"\n$ npm install --save prisma-binding"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"prismaYaml",{get:function(){return"\nendpoint: https://us1.prisma.sh/nest-f6ec12/prisma/dev\ndatamodel: datamodel.graphql"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"datamodelGraphql",{get:function(){return"\ntype User {\n  id: ID! @unique\n  name: String!\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"installGraphCli",{get:function(){return"\n$ npm install -g graphql-cli"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphqlconfigYml",{get:function(){return"\nprojects:\n  database:\n    schemaPath: src/prisma/prisma-types.graphql\n    extensions:\n      endpoints:\n        default: https://us1.prisma.sh/nest-f6ec12/prisma/dev\n      codegen:\n        - generator: prisma-binding\n          language: typescript\n          output:\n            binding: src/prisma/prisma.binding.ts"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"prismaService",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\nimport { Prisma } from './prisma.binding';\n\n@Injectable()\nexport class PrismaService extends Prisma {\n  constructor() {\n    super({\n      endpoint: 'https://us1.prisma.sh/nest-f6ec12/prisma/dev',\n      debug: false,\n    });\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"prismaModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { PrismaService } from './prisma.service';\n\n@Module({\n  providers: [PrismaService],\n  exports: [PrismaService],\n})\nexport class PrismaModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"usersModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { UsersResolver } from './users.resolver';\nimport { PrismaModule } from '../prisma/prisma.module';\n\n@Module({\n  imports: [PrismaModule],\n  providers: [UsersResolver],\n})\nexport class UsersModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"usersResolver",{get:function(){return"\nimport { Query, Resolver, Args, Info } from '@nestjs/graphql';\nimport { PrismaService } from '../prisma/prisma.service';\nimport { User } from '../graphql.schema';\n\n@Resolver()\nexport class UsersResolver {\n  constructor(private readonly prisma: PrismaService) {}\n\n  @Query('users')\n  async getUsers(@Args() args, @Info() info): Promise<User[]> {\n    return await this.prisma.query.users(args, info);\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),Ib=Tu({encapsulation:2,styles:[],data:{}});function Eb(l){return wr(2,[(l()(),tt(0,0,null,null,183,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Prisma"])),(l()(),tt(3,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),tt(4,0,null,null,1,"a",[["href","https://www.prisma.io/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Prisma"])),(l()(),yr(-1,null,[" turns your database into a GraphQL API and enables the use of GraphQL as a universal query language for all databases. Instead of writing SQL or using a NoSQL API, you can query your database with GraphQL. In this chapter we won't go into details about Prisma, so head over to their website and have a look what "])),(l()(),tt(7,0,null,null,1,"a",[["href","https://www.prisma.io/features/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["features"])),(l()(),yr(-1,null,[" are available. "])),(l()(),tt(10,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In this article, you'll learn how to integrate "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Prisma"])),(l()(),yr(-1,null,[" into the Nest framework. We assume that you are already familiar with the GraphQL concepts and the "])),(l()(),tt(17,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/graphql"])),(l()(),yr(-1,null,[" module. "])),(l()(),tt(20,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dependencies"])),(l()(),tt(22,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install the required packages: "])),(l()(),tt(24,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(25,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(26,null,["",""])),(l()(),tt(27,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Setup Prisma"])),(l()(),tt(29,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["While working with Prisma you can either host your own instance or use the "])),(l()(),tt(31,0,null,null,1,"a",[["href","https://www.prisma.io/cloud/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Prisma Cloud"])),(l()(),yr(-1,null,[". In this introduction we are going to use the demo server provided by Prisma. "])),(l()(),tt(34,0,null,null,13,"ol",[],null,null,null,null,null)),(l()(),tt(35,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Install the Prisma CLI "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["npm install -g prisma"])),(l()(),tt(39,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Create a new service "])),(l()(),tt(41,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["prisma init"])),(l()(),yr(-1,null,[", choose the demo server and follow the instructions"])),(l()(),tt(44,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["Deploy your service "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["prisma deploy"])),(l()(),tt(48,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["If you find yourself in trouble jump over to their "])),(l()(),tt(50,0,null,null,1,"a",[["href","https://www.prisma.io/docs/quickstart/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Quick Start "])),(l()(),yr(-1,null,[" section for further details. Eventually you should see two new files in your project directory."])),(l()(),tt(53,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["prisma.yaml"])),(l()(),tt(55,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(56,0,null,null,1,"code",[["class","language-yaml"]],null,null,null,null,null)),(l()(),yr(57,null,["",""])),(l()(),tt(58,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" and automatically created data model. "])),(l()(),tt(60,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["datamodel.graphql"])),(l()(),tt(62,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(63,0,null,null,1,"code",[["class","language-graphql"]],null,null,null,null,null)),(l()(),yr(64,null,["",""])),(l()(),tt(65,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(66,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In the real-world applications you will create more complex data models. For more information about data modeling in Prisma click "])),(l()(),tt(69,0,null,null,1,"a",[["href","https://www.prisma.io/features/data-modeling/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(72,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" By typing "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["prisma playground"])),(l()(),yr(-1,null,[" you can open the Prisma GraphQL playground. Feel free to send queries and mutations. "])),(l()(),tt(77,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Create the client"])),(l()(),tt(79,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["There are a couple of ways to integrate a GraphQL API. We are going to use "])),(l()(),tt(81,0,null,null,1,"a",[["href","https://www.npmjs.com/package/graphql-cli"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["GraphQL CLI"])),(l()(),yr(-1,null,[", a command line tool for common GraphQL development workflows. To install the GraphQL CLI use the following command:"])),(l()(),tt(84,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(85,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(86,null,["",""])),(l()(),tt(87,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Next, create your .graphqlconfig in the root directory of the your Nest application:"])),(l()(),tt(89,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(90,0,null,null,1,"code",[["class","language-shell"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ touch .graphqlconfig.yml"])),(l()(),tt(92,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Put the following content into it:"])),(l()(),tt(94,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(95,0,null,null,1,"code",[["class","language-yaml"]],null,null,null,null,null)),(l()(),yr(96,null,["",""])),(l()(),tt(97,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["To download your Prisma GraphQL schema to "])),(l()(),tt(99,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["src/prisma/prisma-types.graphql"])),(l()(),yr(-1,null,[" and create your Prisma client under "])),(l()(),tt(102,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["src/prisma/prisma.binding.graphql"])),(l()(),yr(-1,null,[", run the following commands in your terminal:"])),(l()(),tt(105,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(106,0,null,null,1,"code",[["class","language-shell"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ graphql get-schema --project database\n$ graphql codegen --project database"])),(l()(),tt(108,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Integration"])),(l()(),tt(110,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Almost done. Now, let's create a module for our Prisma integration."])),(l()(),tt(112,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["prisma.service"])),(l()(),tt(114,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(115,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(116,null,["",""])),(l()(),tt(117,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once "])),(l()(),tt(119,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PrismaService"])),(l()(),yr(-1,null,[" is ready, we need to create a correspoding module. "])),(l()(),tt(122,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["prisma.module"])),(l()(),tt(124,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(125,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(126,null,["",""])),(l()(),tt(127,0,null,null,15,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(128,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" To create new modules and services in no time we can make use of the "])),(l()(),tt(131,0,null,null,2,"a",[["routerLink","/cli/overview"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,132).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(132,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["Nest CLI"])),(l()(),yr(-1,null,[". To create a "])),(l()(),tt(135,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PrismaModule"])),(l()(),yr(-1,null,[" type "])),(l()(),tt(138,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["nest g module prisma"])),(l()(),yr(-1,null,[" and for the service "])),(l()(),tt(141,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["nest g service prisma/prisma"])),(l()(),tt(143,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Usage"])),(l()(),tt(145,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["To use your new service we are going to import the "])),(l()(),tt(147,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PrismaModule"])),(l()(),yr(-1,null,[" and inject the "])),(l()(),tt(150,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PrismaService"])),(l()(),yr(-1,null,[" into "])),(l()(),tt(153,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsersResolver"])),(l()(),yr(-1,null,["."])),(l()(),tt(156,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["src/users/users.module"])),(l()(),tt(158,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(159,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(160,null,["",""])),(l()(),tt(161,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Importing "])),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PrismaModule"])),(l()(),yr(-1,null,[" makes exported "])),(l()(),tt(166,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PrismaService"])),(l()(),yr(-1,null,[" available in "])),(l()(),tt(169,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["UsersModule"])),(l()(),yr(-1,null,[" context. "])),(l()(),tt(172,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["src/users/users.resolver"])),(l()(),tt(174,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(175,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(176,null,["",""])),(l()(),tt(177,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(179,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A slightly modified example is available "])),(l()(),tt(181,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/22-graphql-prisma"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,132,0,"/cli/overview")},function(l,n){var e=n.component;l(n,26,0,e.dependencies),l(n,57,0,e.prismaYaml),l(n,64,0,e.datamodelGraphql),l(n,86,0,e.installGraphCli),l(n,96,0,e.graphqlconfigYml),l(n,116,0,e.prismaService),l(n,126,0,e.prismaModule),l(n,131,0,Et(n,132).target,Et(n,132).href),l(n,160,0,e.usersModule),l(n,176,0,e.usersResolver)})}function Rb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-prisma",[],null,null,null,Eb,Ib)),zt(1,8437760,null,0,_b,[Pe,Gl],null,null)],null,null)}var Nb=Ct("app-prisma",_b,Rb,{},{},[]),qb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"main",{get:function(){return"\nimport { NestFactory } from '@nestjs/core';\nimport { join } from 'path';\nimport { ApplicationModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n\n  app.useStaticAssets(join(__dirname, '..', 'public'));\n  app.setBaseViewsDir(join(__dirname, '..', 'views'));\n  app.setViewEngine('hbs');\n\n  await app.listen(3000);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return'\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <title>App</title>\n</head>\n<body>\n  {{ message }}\n</body>\n</html>'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return"\nimport { Get, Controller, Render } from '@nestjs/common';\n\n@Controller()\nexport class AppController {\n  @Get()\n  @Render('index')\n  root() {\n    return { message: 'Hello world!' };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rootJs",{get:function(){return"\nimport { Get, Controller, Render } from '@nestjs/common';\n\n@Controller()\nexport class AppController {\n  @Get()\n  @Render('index')\n  root() {\n    return { message: 'Hello world!' };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rootFastify",{get:function(){return"\nimport { Get, Controller, Render } from '@nestjs/common';\n\n@Controller()\nexport class AppController {\n  @Get()\n  @Render('index.hbs')\n  root() {\n    return { message: 'Hello world!' };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mainFastify",{get:function(){return"\nimport { NestFactory, FastifyAdapter } from '@nestjs/core';\nimport { ApplicationModule } from './app.module';\nimport { join } from 'path';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule, new FastifyAdapter());\n  app.useStaticAssets({\n    root: join(__dirname, '..', public'),\n    prefix: '/public/',\n  });\n  app.setViewEngine({\n    engine: {\n      handlebars: require('handlebars'),\n    },\n    templates: join(__dirname, '..', 'views'),\n  });\n  await app.listen(3000);\n}\nbootstrap();\n"},enumerable:!0,configurable:!0}),n}(Kh),Db=Tu({encapsulation:2,styles:[],data:{}});function Hb(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,166,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model-View-Controller"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest, by default, makes use of "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://github.com/expressjs/express"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["express"])),(l()(),yr(-1,null,[" library under the hood. Hence, every tutorial about MVC (Model-View-Controller) pattern in express concerns Nest as well. Firstly, let's scaffold a simple Nest application using "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://github.com/nestjs/nest-cli"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["CLI"])),(l()(),yr(-1,null,[" tool: "])),(l()(),tt(12,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i -g @nestjs/cli\n$ nest new project"])),(l()(),tt(15,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create a MVC app, we have to install a "])),(l()(),tt(17,0,null,null,1,"a",[["href","http://expressjs.com/en/guide/using-template-engines.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["template engine"])),(l()(),yr(-1,null,[": "])),(l()(),tt(20,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(21,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install --save hbs"])),(l()(),tt(23,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We decided to use a "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["hbs"])),(l()(),yr(-1,null,[" engine, though, you can use whatever fits your requirements. Once the installation process is completed, we need to configure the express instance using following code: "])),(l()(),tt(28,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(29,null,[" "," "])),fr(30,2),(l()(),tt(31,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(32,49152,[["mainT",4]],0,Wh,[],null,null),(l()(),tt(33,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(35,null,["",""])),(l()(),tt(36,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We told "])),(l()(),tt(38,0,null,null,1,"a",[["href","https://github.com/expressjs/express"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["express"])),(l()(),yr(-1,null,[" that the "])),(l()(),tt(41,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["public"])),(l()(),yr(-1,null,[" directory will be used for storing static assets, "])),(l()(),tt(44,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["views"])),(l()(),yr(-1,null,[" will contain templates, and a "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["hbs"])),(l()(),yr(-1,null,[" template engine should be used to render an HTML output. "])),(l()(),tt(50,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now, let's create a "])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["views"])),(l()(),yr(-1,null,[" directory and "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["index.hbs"])),(l()(),yr(-1,null,[" template inside it. In the template, we are gonna print a "])),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["message"])),(l()(),yr(-1,null,[" passed from the controller: "])),(l()(),tt(61,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["index.hbs"])),(l()(),tt(63,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(64,0,null,null,1,"code",[["class","language-html"]],null,null,null,null,null)),(l()(),yr(65,null,["",""])),(l()(),tt(66,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, open the "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["app.controller"])),(l()(),yr(-1,null,[" file and replace the "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["root()"])),(l()(),yr(-1,null,[" method with the following code: "])),(l()(),tt(74,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(75,null,[" "," "])),fr(76,2),(l()(),tt(77,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(78,49152,[["rootT",4]],0,Wh,[],null,null),(l()(),tt(79,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(80,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(81,null,["",""])),(l()(),tt(82,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(83,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(84,null,["",""])),(l()(),tt(85,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(86,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" In fact, when Nest detects "])),(l()(),tt(89,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Res()"])),(l()(),yr(-1,null,[" decorator, it injects library-specific "])),(l()(),tt(92,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["response"])),(l()(),yr(-1,null,[" object. Learn more about its abilities "])),(l()(),tt(95,0,null,null,1,"a",[["href","http://expressjs.com/en/api.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(98,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" While the application is running, open your browser and navigate to "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/"])),(l()(),yr(-1,null,[". You should see the "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hello world!"])),(l()(),yr(-1,null,[" message. "])),(l()(),tt(106,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(108,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(110,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/15-mvc"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(113,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Fastify"])),(l()(),tt(115,0,null,null,8,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" As mentioned in this "])),(l()(),tt(117,0,null,null,2,"a",[["routerLink","/techniques/http-performance"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,118).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(118,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["chapter"])),(l()(),yr(-1,null,[", we are able to use any compatible HTTP provider together with Nest. One of them is a "])),(l()(),tt(121,0,null,null,1,"a",[["href","https://github.com/fastify/fastify"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["fastify"])),(l()(),yr(-1,null,[" library. In order to create a MVC application with fastify, we have to install following packages: "])),(l()(),tt(124,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(125,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save fastify point-of-view handlebars"])),(l()(),tt(127,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The next steps cover almost the same stuff as in case of express library (with small differences). Once the installation process is completed, we need to open "])),(l()(),tt(129,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),yr(-1,null,[" file and update its contents: "])),(l()(),tt(132,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(133,null,[" "," "])),fr(134,2),(l()(),tt(135,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(136,49152,[["mainT",4]],0,Wh,[],null,null),(l()(),tt(137,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(138,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(139,null,["",""])),(l()(),tt(140,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The API is different a little but the idea that sits behind those methods calls remains the same. Also, we have to ensure that the template name passed into the "])),(l()(),tt(142,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Render()"])),(l()(),yr(-1,null,[" decorators include a file extension. "])),(l()(),tt(145,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(146,null,[" "," "])),fr(147,2),(l()(),tt(148,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(149,49152,[["rootFastifyT",4]],0,Wh,[],null,null),(l()(),tt(150,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(151,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(152,null,["",""])),(l()(),tt(153,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" While the application is running, open your browser and navigate to "])),(l()(),tt(155,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["http://localhost:3000/"])),(l()(),yr(-1,null,[". You should see the "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hello world!"])),(l()(),yr(-1,null,[" message. "])),(l()(),tt(161,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(163,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(165,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/17-mvc-fastify"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,118,0,"/techniques/http-performance")},function(l,n){var e=n.component,u=Ou(n,29,0,l(n,30,0,Et(n,0),"main",Et(n,136).isJsActive));l(n,29,0,u),l(n,35,0,e.main),l(n,65,0,e.index);var t=Ou(n,75,0,l(n,76,0,Et(n,0),"app.controller",Et(n,78).isJsActive));l(n,75,0,t),l(n,79,0,Et(n,78).isJsActive),l(n,81,0,e.root),l(n,82,0,!Et(n,78).isJsActive),l(n,84,0,e.rootJs),l(n,117,0,Et(n,118).target,Et(n,118).href);var r=Ou(n,133,0,l(n,134,0,Et(n,0),"main",Et(n,136).isJsActive));l(n,133,0,r),l(n,139,0,e.mainFastify);var o=Ou(n,146,0,l(n,147,0,Et(n,0),"app.controller",Et(n,149).isJsActive));l(n,146,0,o),l(n,152,0,e.rootFastify)})}function Lb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-mvc",[],null,null,null,Hb,Db)),zt(1,8437760,null,0,qb,[Pe,Gl],null,null)],null,null)}var Fb=Ct("app-mvc",qb,Lb,{},{},[]),Jb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"userEntity",{get:function(){return"\nimport { Exclude } from 'class-transformer';\n\nexport class UserEntity {\n  id: number;\n  firstName: string;\n  lastName: string;\n\n  @Exclude()\n  password: string;\n\n  constructor(partial: Partial<UserEntity>) {\n    Object.assign(this, partial);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"returnUserEntity",{get:function(){return"\n@UseInterceptors(ClassSerializerInterceptor)\n@Get()\nfindOne(): UserEntity {\n  return new UserEntity({\n    id: 1,\n    firstName: 'Kamil',\n    lastName: 'Mysliwiec',\n    password: 'password',\n  });\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"response",{get:function(){return'\n{\n  "id": 1,\n  "firstName": "Kamil",\n  "lastName": "Mysliwiec"\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expose",{get:function(){return"\n@Expose()\nget fullName(): string {\n  return `${this.firstName} ${this.lastName}`;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"transform",{get:function(){return"\n@Transform(role => role.name)\nrole: RoleEntity;"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serializeOptions",{get:function(){return"\n@SerializeOptions({\n  excludePrefixes: ['_'],\n})\n@Get()\nfindOne(): UserEntity {\n  return {};\n}"},enumerable:!0,configurable:!0}),n}(Kh),Ub=Tu({encapsulation:2,styles:[],data:{}});function Bb(l){return wr(2,[(l()(),tt(0,0,null,null,121,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Serialization"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Serializers provides clean abstraction layer towards "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["data manipulation"])),(l()(),yr(-1,null,[" before sending the actual response. For instance, sensitive data like user's password should be always excluded from the eventual response. Furthermore, certain properties might require additional transformation, let's say, we don't want to send the whole database entity. Instead, we would like to pick only "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["id"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(11,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["name"])),(l()(),yr(-1,null,[". The rest should be automatically stripped. Unluckily, manually mapping all entities may bring a lot of confusedness. "])),(l()(),tt(14,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(16,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to provide a straightforward way to carry out these operations, Nest comes with the "])),(l()(),tt(18,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClassSerializerInterceptor"])),(l()(),yr(-1,null,[" class. It uses "])),(l()(),tt(21,0,null,null,1,"a",[["href","https://github.com/typestack/class-transformer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["class-transformer"])),(l()(),yr(-1,null,[" package to provide a declarative and extensible way of transforming objects. Basically, the "])),(l()(),tt(24,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClassSerializerInterceptor"])),(l()(),yr(-1,null,[" takes the value returned from the method and call "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["classToPlain()"])),(l()(),yr(-1,null,[" function from "])),(l()(),tt(30,0,null,null,1,"a",[["href","https://github.com/typestack/class-transformer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["class-transformer"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(33,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Exclude properties"])),(l()(),tt(35,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's assume that we want to automatically exclude a "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["password"])),(l()(),yr(-1,null,[" property from the following entity: "])),(l()(),tt(40,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(41,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(42,null,["",""])),(l()(),tt(43,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, return the instance of this class directly from the controller's method. "])),(l()(),tt(45,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(47,null,["",""])),(l()(),tt(48,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(49,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ClassSerializerInterceptor"])),(l()(),yr(-1,null,[" is imported from "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(58,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now, when you call this endpoint, you'll receive a following response: "])),(l()(),tt(60,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(61,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(62,null,["",""])),(l()(),tt(63,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Expose properties"])),(l()(),tt(65,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If you want to expose earlier precalculated property, simply use "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Expose()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(70,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(71,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(72,null,["",""])),(l()(),tt(73,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Transform"])),(l()(),tt(75,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You can perform additional data transformation using "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Transform()"])),(l()(),yr(-1,null,[" decorator. For example, you want to pick a name of the "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["RoleEntity"])),(l()(),yr(-1,null,[" instead of returning the whole object. "])),(l()(),tt(83,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(84,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(85,null,["",""])),(l()(),tt(86,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Pass options"])),(l()(),tt(88,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The transform options may vary depending on the certain factors. In order to override default settings, use "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@SerializeOptions()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(93,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(94,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(95,null,["",""])),(l()(),tt(96,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(97,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@SerializeOptions()"])),(l()(),yr(-1,null,[" decorator is imported from "])),(l()(),tt(103,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(106,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" These opions will be passed as a second argument of the "])),(l()(),tt(108,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["classToPlain()"])),(l()(),yr(-1,null,[" function. "])),(l()(),tt(111,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Websockets & Microservices"])),(l()(),tt(113,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All these guidelines cornern both WebSockets as well as microservices, regardless of transport method that is being used. "])),(l()(),tt(115,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Learn more"])),(l()(),tt(117,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to read more about available decorators, options, visit this "])),(l()(),tt(119,0,null,null,1,"a",[["href","https://github.com/typestack/class-transformer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["page"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component;l(n,42,0,e.userEntity),l(n,47,0,e.returnUserEntity),l(n,62,0,e.response),l(n,72,0,e.expose),l(n,85,0,e.transform),l(n,95,0,e.serializeOptions)})}function Gb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-serialization",[],null,null,null,Bb,Ub)),zt(1,8437760,null,0,Jb,[Pe,Gl],null,null)],null,null)}var Wb=Ct("app-serialization",Jb,Gb,{},{},[]),zb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"inMemoryCache",{get:function(){return"\nimport { CacheModule, Module } from '@nestjs/common';\nimport { AppController } from './app.controller';\n\n@Module({\n  imports: [CacheModule.register()],\n  controllers: [AppController],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"appController",{get:function(){return"\n@Controller()\n@UseInterceptors(CacheInterceptor)\nexport class AppController {\n  @Get()\n  findAll(): string[] {\n    return [];\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"globalCache",{get:function(){return"\nimport { CacheModule, Module, CacheInterceptor } from '@nestjs/common';\nimport { AppController } from './app.controller';\nimport { APP_INTERCEPTOR } from '@nestjs/core';\n\n@Module({\n  imports: [CacheModule.register()],\n  controllers: [AppController],\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: CacheInterceptor,\n    },\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"websockets",{get:function(){return"\n@CacheKey('events')\n@UseInterceptors(CacheInterceptor)\n@SubscribeMessage('events')\nonEvent(client, data): Observable<string[]> {\n  return [];\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customizeCache",{get:function(){return"\nCacheModule.register({\n  ttl: 5, // seconds\n  max: 10, // maximum number of items in cache\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"redisStore",{get:function(){return"\nimport * as redisStore from 'cache-manager-redis-store';\nimport { CacheModule, Module } from '@nestjs/common';\nimport { AppController } from './app.controller';\n\n@Module({\n  imports: [CacheModule.register({\n    store: redisStore,\n    host: 'localhost',\n    port: 6379,\n  })],\n  controllers: [AppController],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trackBy",{get:function(){return"\n@Injectable()\nclass HttpCacheInterceptor extends CacheInterceptor {\n  trackBy(context: ExecutionContext): string | undefined {\n    return 'key';\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfiguration",{get:function(){return"\nCacheModule.forRootAsync({\n  useFactory: () => ({\n    ttl: 5,\n  }),\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationFactoryAsync",{get:function(){return"\nCacheModule.forRootAsync({\n  imports: [ConfigModule],\n  useFactory: async (configService: ConfigService) => ({\n    ttl: configService.getString('CACHE_TTL'),\n  }),\n  inject: [ConfigService],\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClass",{get:function(){return"\nCacheModule.forRootAsync({\n  useClass: CacheConfigService,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClassBody",{get:function(){return"\n@Injectable()\nclass CacheConfigService implements CacheOptionsFactory {\n  createCacheOptions(): CacheModuleOptions {\n    return {\n      ttl: 5,\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationExisting",{get:function(){return"\nCacheModule.forRootAsync({\n  imports: [ConfigModule],\n  useExisting: ConfigService,\n})"},enumerable:!0,configurable:!0}),n}(Kh),Vb=Tu({encapsulation:2,styles:[],data:{}});function Kb(l){return wr(2,[(l()(),tt(0,0,null,null,203,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Caching"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Cache is a great and simple "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["technique"])),(l()(),yr(-1,null,[" that helps in improving your app's performance. It acts as a temporary data store, which accessing is really performant. "])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(10,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We need to install the required package at first: "])),(l()(),tt(12,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["$ npm install --save cache-manager"])),(l()(),tt(15,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["In-memory cache"])),(l()(),tt(17,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest provides a unified API for various cache storages. The built-in one is an in-memory data store. However, you can easily switch to a more comprehensive solution, like Redis. In order to enable caching, firstly import "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheModule"])),(l()(),yr(-1,null,[" and call its "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["register()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(25,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(26,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(27,null,["",""])),(l()(),tt(28,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then just tie "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheInterceptor"])),(l()(),yr(-1,null,[" somewhere. "])),(l()(),tt(33,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(34,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(35,null,["",""])),(l()(),tt(36,0,null,null,6,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(37,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" Only "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["GET"])),(l()(),yr(-1,null,[" endpoints are cached. "])),(l()(),tt(43,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Global cache"])),(l()(),tt(45,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To reduce an amount of the required boilerplate, you can bind "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheInterceptor"])),(l()(),yr(-1,null,[" to each existing endpoint at once. "])),(l()(),tt(50,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(51,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(52,null,["",""])),(l()(),tt(53,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["WebSockets & Microservices"])),(l()(),tt(55,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, you can effortlessly apply "])),(l()(),tt(57,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheInterceptor"])),(l()(),yr(-1,null,[" to WebSocket subscribers as well as Microservice's patterns (regardless of transport method that is being used). "])),(l()(),tt(60,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(61,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(62,null,["",""])),(l()(),tt(63,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(64,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@CacheKey()"])),(l()(),yr(-1,null,[" decorator is imported from "])),(l()(),tt(70,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(73,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" However, the additional "])),(l()(),tt(75,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@CacheKey()"])),(l()(),yr(-1,null,[" decorator is required in order to specify a key used to subsequently store and retrieve cached data. Besides, please note that you "])),(l()(),tt(78,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["shouldn't cache everything"])),(l()(),yr(-1,null,[". Actions which responsibility is to perform some business operations rather than simply querying the data should never be cached. "])),(l()(),tt(81,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Customize caching"])),(l()(),tt(83,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All cached data have its own expiration time (TTL). To customize default values, pass options object to the "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["register()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(88,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(89,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(90,null,["",""])),(l()(),tt(91,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Different stores"])),(l()(),tt(93,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We take advantage of "])),(l()(),tt(95,0,null,null,1,"a",[["href","https://github.com/BryanDonovan/node-cache-manager"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["cache-manager"])),(l()(),yr(-1,null,[" under the hood. This package supports a wide-range of useful stores, for example, "])),(l()(),tt(98,0,null,null,1,"a",[["href","https://github.com/dabroek/node-cache-manager-redis-store"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Redis"])),(l()(),yr(-1,null,[" store (full list "])),(l()(),tt(101,0,null,null,1,"a",[["href","https://github.com/BryanDonovan/node-cache-manager#store-engines"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,["). To set up the Redis store, simple pass the package together with correspoding options to the "])),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["register()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(107,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(108,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(109,null,["",""])),(l()(),tt(110,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Adjust tracking"])),(l()(),tt(112,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" By default, Nest uses request URL (in HTTP app) or cache key (in websockets and microservices) set through "])),(l()(),tt(114,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@CacheKey()"])),(l()(),yr(-1,null,[" decorator to associate cache records with your endpoints. Nevertheless, sometimes you might want to set up tracking based on different factors, for example, using HTTP headers (e.g. "])),(l()(),tt(117,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Authorization"])),(l()(),yr(-1,null,[" to properly identify "])),(l()(),tt(120,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["profile"])),(l()(),yr(-1,null,[" endpoints). "])),(l()(),tt(123,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to achieve that, create a subclass of "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheInterceptor"])),(l()(),yr(-1,null,[" and override "])),(l()(),tt(128,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["trackBy()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(131,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(132,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(133,null,["",""])),(l()(),tt(134,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Async configuration"])),(l()(),tt(136,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Quite often you might want to asynchronously pass your module options instead of passing them beforehand. In such case, use "])),(l()(),tt(138,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["registerAsync()"])),(l()(),yr(-1,null,[" method, that provides a couple of various ways to deal with async data. "])),(l()(),tt(141,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" First possible approach is to use a factory function: "])),(l()(),tt(143,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(144,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(145,null,["",""])),(l()(),tt(146,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, our factory behaves like every other one (might be "])),(l()(),tt(148,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" and is able to inject dependencies through "])),(l()(),tt(151,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,["). "])),(l()(),tt(154,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(155,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(156,null,["",""])),(l()(),tt(157,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alternatively, you are able to use class instead of a factory. "])),(l()(),tt(159,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(160,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(161,null,["",""])),(l()(),tt(162,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above construction will instantiate "])),(l()(),tt(164,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(167,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheModule"])),(l()(),yr(-1,null,[" and will leverage it to create options object. The "])),(l()(),tt(170,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheConfigService"])),(l()(),yr(-1,null,[" has to implement "])),(l()(),tt(173,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheOptionsFactory"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(176,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(177,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(178,null,["",""])),(l()(),tt(179,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to prevent the creation of "])),(l()(),tt(181,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(184,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheModule"])),(l()(),yr(-1,null,[" and use a provider imported from a different module, you can use the "])),(l()(),tt(187,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useExisting"])),(l()(),yr(-1,null,[" syntax. "])),(l()(),tt(190,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(191,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(192,null,["",""])),(l()(),tt(193,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It works the same as "])),(l()(),tt(195,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" with one critical difference - "])),(l()(),tt(198,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CacheModule"])),(l()(),yr(-1,null,[" will lookup imported modules to reuse already created "])),(l()(),tt(201,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[", instead of instantiating it on its own. "]))],null,function(l,n){var e=n.component;l(n,27,0,e.inMemoryCache),l(n,35,0,e.appController),l(n,52,0,e.globalCache),l(n,62,0,e.websockets),l(n,90,0,e.customizeCache),l(n,109,0,e.redisStore),l(n,133,0,e.trackBy),l(n,145,0,e.asyncConfiguration),l(n,156,0,e.asyncConfigurationFactoryAsync),l(n,161,0,e.asyncConfigurationClass),l(n,178,0,e.asyncConfigurationClassBody),l(n,192,0,e.asyncConfigurationExisting)})}function Qb(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-caching",[],null,null,null,Kb,Vb)),zt(1,8437760,null,0,zb,[Pe,Gl],null,null)],null,null)}var $b=Ct("app-caching",zb,Qb,{},{},[]),Yb=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"autoValidation",{get:function(){return"\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  app.useGlobalPipes(new ValidationPipe());\n  await app.listen(3000);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createEndpoint",{get:function(){return"\n@Post()\ncreate(@Body() createUserDto: CreateUserDto) {\n  return 'This action adds a new user';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCatDto",{get:function(){return"\nimport { IsEmail, IsNotEmpty } from 'class-validator';\n\nexport class CreateUserDto {\n  @IsEmail()\n  email: string;\n\n  @IsNotEmpty()\n  password: string;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"badRequest",{get:function(){return'\n{\n  "statusCode": 400,\n  "error": "Bad Request",\n  "message": [\n      {\n          "target": {},\n          "property": "email",\n          "children": [],\n          "constraints": {\n              "isEmail": "email must be an email"\n          }\n      }\n  ]\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"findOneEndpoint",{get:function(){return"\n@Get(':id')\nfindOne(@Param() params: FindOneParams) {\n  return 'This action returns a user';\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"findOneParams",{get:function(){return"\nimport { IsNumberString } from 'class-validator';\n\nexport class FindOneParams {\n  @IsNumberString()\n  id: number;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disableErrors",{get:function(){return"\napp.useGlobalPipes(new ValidationPipe({\n  disableErrorMessages: true,\n}));"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strippingProperties",{get:function(){return"\napp.useGlobalPipes(new ValidationPipe({\n  whitelist: true,\n}));"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"transforming",{get:function(){return"\napp.useGlobalPipes(new ValidationPipe({\n  transform: true,\n}));"},enumerable:!0,configurable:!0}),n}(Kh),Xb=Tu({encapsulation:2,styles:[],data:{}});function Zb(l){return wr(2,[(l()(),tt(0,0,null,null,143,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Validation"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The validation is an essential functionality of any existing web application. To automatically validate incoming requests, we leverage "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://github.com/typestack/class-validator"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["class-validator"])),(l()(),yr(-1,null,[" package which built-in "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" makes use of underneath. The "])),(l()(),tt(11,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" provides a convenient method to validate incoming client payloads with a variety of powerful validation rules. "])),(l()(),tt(14,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(16,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In "])),(l()(),tt(18,0,null,null,2,"a",[["routerLink","/pipes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,19).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(19,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["Pipes"])),(l()(),yr(-1,null,[" chapter, we went through the process of building a simplified validation pipe. To better understand what we're doing under the hood, we heavily recommend to read this article. Here, we'll mainly focus on the real use-cases instead. "])),(l()(),tt(22,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Auto-validation"])),(l()(),tt(24,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" For the sake of this tutorial, we'll bind "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" to the whole application, thus, all endpoints will be automatically protected from the incorrect data. "])),(l()(),tt(29,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(30,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(31,null,["",""])),(l()(),tt(32,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To test our pipe, let's create a basic endpoint. "])),(l()(),tt(34,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(35,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(36,null,["",""])),(l()(),tt(37,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, add a few validation rules in our "])),(l()(),tt(39,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CreateCatDto"])),(l()(),yr(-1,null,[". "])),(l()(),tt(42,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(44,null,["",""])),(l()(),tt(45,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now, when someone requests our endpoint with an invalid "])),(l()(),tt(47,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["email"])),(l()(),yr(-1,null,[", the application would respond with a "])),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["400 Bad Request"])),(l()(),yr(-1,null,[" code and the following response body. "])),(l()(),tt(53,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(54,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(55,null,["",""])),(l()(),tt(56,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, the response body is not a sole use-case for the"])),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[". Imagine, that we would like to accept "])),(l()(),tt(61,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[":id"])),(l()(),yr(-1,null,[" in the endpoint path. Only numbers shall be valid though. This is pretty simple as well. "])),(l()(),tt(64,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(65,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(66,null,["",""])),(l()(),tt(67,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And "])),(l()(),tt(69,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FindOneParams"])),(l()(),yr(-1,null,[" looks like below. "])),(l()(),tt(72,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(73,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(74,null,["",""])),(l()(),tt(75,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Disable detailed errors"])),(l()(),tt(77,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Error messages help a lot in order to comprehend what was wrong with the data sent through the network. However, in some production environments, you might want to disable detailed errors. "])),(l()(),tt(79,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(81,null,["",""])),(l()(),tt(82,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now, error messages won't be populated to the end user. "])),(l()(),tt(84,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Stripping properties"])),(l()(),tt(86,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Quite frequently, we would like only predefined (whitelisted) properties to be passed on. For instance, if we expect "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["email"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["password"])),(l()(),yr(-1,null,[" properties, when someone sends "])),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["age"])),(l()(),yr(-1,null,[", this property should be stripped and not available in the DTO. To enable such behavior, set "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["whitelist"])),(l()(),yr(-1,null,[" to "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[". "])),(l()(),tt(103,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(104,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(105,null,["",""])),(l()(),tt(106,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This setting will enable auto-stripping of non-whitelisted (without any decorator on top of them) properties. However, if you want to stop the request processing entirely, and return an error response to the user, use "])),(l()(),tt(108,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forbidNonWhitelisted"])),(l()(),yr(-1,null,[" instead. "])),(l()(),tt(111,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Auto payload transforming"])),(l()(),tt(113,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(115,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ValidationPipe"])),(l()(),yr(-1,null,[" doesn't automatically transform your payloads to the corresponding DTO classes. If you take a look at either "])),(l()(),tt(118,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createCatDto"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(121,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["findOneParams"])),(l()(),yr(-1,null,[" in your controller methods, you will notice that they're not actual instances of these classes. To enable auto-transformation, set "])),(l()(),tt(124,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["transform"])),(l()(),yr(-1,null,[" to "])),(l()(),tt(127,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),yr(-1,null,[". "])),(l()(),tt(130,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(131,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(132,null,["",""])),(l()(),tt(133,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Websockets & Microservices"])),(l()(),tt(135,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All these guidelines cornern both WebSockets as well as microservices, regardless of transport method that is being used. "])),(l()(),tt(137,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Learn more"])),(l()(),tt(139,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to read more about custom validators, error messages, and available decorators, visit this "])),(l()(),tt(141,0,null,null,1,"a",[["href","https://github.com/typestack/class-validator"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["page"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,19,0,"/pipes")},function(l,n){var e=n.component;l(n,18,0,Et(n,19).target,Et(n,19).href),l(n,31,0,e.autoValidation),l(n,36,0,e.createEndpoint),l(n,44,0,e.createCatDto),l(n,55,0,e.badRequest),l(n,66,0,e.findOneEndpoint),l(n,74,0,e.findOneParams),l(n,81,0,e.disableErrors),l(n,105,0,e.strippingProperties),l(n,132,0,e.transforming)})}function lv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-validation",[],null,null,null,Zb,Xb)),zt(1,8437760,null,0,Yb,[Pe,Gl],null,null)],null,null)}var nv=Ct("app-validation",Yb,lv,{},{},[]),ev=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"importTypeOrm",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\n\n@Module({\n  imports: [\n    TypeOrmModule.forRoot({\n      type: 'mysql',\n      host: 'localhost',\n      port: 3306,\n      username: 'root',\n      password: 'root',\n      database: 'test',\n      entities: [__dirname + '/**/*.entity{.ts,.js}'],\n      synchronize: true,\n    }),\n  ],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ormconfig",{get:function(){return'\n{\n  "type": "mysql",\n  "host": "localhost",\n  "port": 3306,\n  "username": "root",\n  "password": "root",\n  "database": "test",\n  "entities": ["src/**/**.entity{.ts,.js}"],\n  "synchronize": true\n}'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"importTypeOrmEmpty",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\n\n@Module({\n  imports: [TypeOrmModule.forRoot()],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoEntity",{get:function(){return"\nimport { Entity, Column, PrimaryGeneratedColumn } from 'typeorm';\n\n@Entity()\nexport class Photo {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ length: 500 })\n  name: string;\n\n  @Column('text')\n  description: string;\n\n  @Column()\n  filename: string;\n\n  @Column('int')\n  views: number;\n\n  @Column()\n  isPublished: boolean;\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"importConnectionInstance",{get:function(){return"\nimport { Connection } from 'typeorm';\n\n@Module({\n  imports: [TypeOrmModule.forRoot(), PhotoModule],\n})\nexport class ApplicationModule {\n  constructor(private readonly connection: Connection) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"importConnectionInstanceJs",{get:function(){return"\nimport { Connection } from 'typeorm';\n\n@Dependencies(Connection)\n@Module({\n  imports: [TypeOrmModule.forRoot(), PhotoModule],\n})\nexport class ApplicationModule {\n  constructor(connection) {\n    this.connection = connection;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { PhotoService } from './photo.service';\nimport { PhotoController } from './photo.controller';\nimport { Photo } from './photo.entity';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([Photo])],\n  providers: [PhotoService],\n  controllers: [PhotoController],\n})\nexport class PhotoModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoService",{get:function(){return"\nimport { Injectable, Inject } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { Photo } from './photo.entity';\n\n@Injectable()\nexport class PhotoService {\n  constructor(\n    @InjectRepository(Photo)\n    private readonly photoRepository: Repository<Photo>,\n  ) {}\n\n  async findAll(): Promise<Photo[]> {\n    return await this.photoRepository.find();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"photoServiceJs",{get:function(){return"\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Photo } from './photo.entity';\n\n@Injectable()\n@Dependencies(InjectRepository(Photo))\nexport class PhotoService {\n  constructor(photoRepository) {\n    this.photoRepository = photoRepository;\n  }\n\n  async findAll() {\n    return await this.photoRepository.find();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multipleConnections",{get:function(){return"\nconst defaultOptions = {\n  type: 'postgres',\n  port: 5432,\n  username: 'user',\n  password: 'password',\n  database: 'db',\n  synchronize: true,\n};\n\n@Module({\n  imports: [\n    TypeOrmModule.forRoot({\n      ...defaultOptions,\n      host: 'photo_db_host',\n      entities: [Photo],\n    }),\n    TypeOrmModule.forRoot({\n      ...defaultOptions,\n      name: 'personsConnection',\n      host:  'person_db_host',\n      entities: [Person],\n    }),\n    TypeOrmModule.forRoot({\n      ...defaultOptions,\n      name: 'albumsConnection',\n      host:  'album_db_host',\n      entities: [Album],\n    })\n  ]\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forFeatureWithConnection",{get:function(){return"\n@Module({\n  TypeOrmModule.forFeature([Photo]),\n  TypeOrmModule.forFeature([Person], 'personsConnection'),\n  TypeOrmModule.forFeature([Album], 'albumsConnection')\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injectConnectionAndEntityManager",{get:function(){return"\n@Injectable()\nexport class PersonService {\n  constructor(\n    @InjectConnection('personsConnection')\n    private readonly connection: Connection,\n    @InjectEntityManager('personsConnection')\n    private readonly entityManager: EntityManager\n  ) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mockRepository",{get:function(){return"\n@Module({\n  providers: [\n    PhotoService,\n    {\n      provide: getRepositoryToken(Photo),\n      useValue: mockRepository,\n    },\n  ],\n})\nexport class PhotoModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customRepository",{get:function(){return"\n@EntityRepository(Author)\nexport class AuthorRepository extends Repository<Author> {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"registerCustomRepository",{get:function(){return"\n@Module({\n  imports: [TypeOrmModule.forFeature([Author, AuthorRepository])],\n  controller: [AuthorController],\n  providers: [AuthorService],\n})\nexport class AuthorModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injectCustomRepository",{get:function(){return"\n@Injectable()\nexport class AuthorService {\n  constructor(\n    @InjectRepository(AuthorRepository)\n    private readonly authorRepository: AuthorRepository,\n  ) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfiguration",{get:function(){return"\nTypeOrmModule.forRootAsync({\n  useFactory: () => ({\n    type: 'mysql',\n    host: 'localhost',\n    port: 3306,\n    username: 'root',\n    password: 'root',\n    database: 'test',\n    entities: [__dirname + '/**/*.entity{.ts,.js}'],\n    synchronize: true,\n  }),\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationFactoryAsync",{get:function(){return"\nTypeOrmModule.forRootAsync({\n  imports: [ConfigModule],\n  useFactory: async (configService: ConfigService) => ({\n    type: 'mysql',\n    host: configService.getString('HOST'),\n    port: configService.getString('PORT'),\n    username: configService.getString('USERNAME'),\n    password: configService.getString('PASSWORD'),\n    database: configService.getString('DATABASE'),\n    entities: [__dirname + '/**/*.entity{.ts,.js}'],\n    synchronize: true,\n  }),\n  inject: [ConfigService],\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClass",{get:function(){return"\nTypeOrmModule.forRootAsync({\n  useClass: TypeOrmConfigService,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClassBody",{get:function(){return"\n@Injectable()\nclass TypeOrmConfigService implements TypeOrmOptionsFactory {\n  createTypeOrmOptions(): TypeOrmModuleOptions {\n    return {\n      type: 'mysql',\n      host: 'localhost',\n      port: 3306,\n      username: 'root',\n      password: 'root',\n      database: 'test',\n      entities: [__dirname + '/**/*.entity{.ts,.js}'],\n      synchronize: true,\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationExisting",{get:function(){return"\nTypeOrmModule.forRootAsync({\n  imports: [ConfigModule],\n  useExisting: ConfigService,\n})"},enumerable:!0,configurable:!0}),n}(Kh),uv=Tu({encapsulation:2,styles:[],data:{}});function tv(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,415,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Database (TypeORM)"])),(l()(),tt(4,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to reduce a boilerplate necessary to start the adventure with any database, Nest comes with the ready to use "])),(l()(),tt(6,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/typeorm"])),(l()(),yr(-1,null,[" package. We selected "])),(l()(),tt(9,0,null,null,1,"a",[["href","https://github.com/typeorm/typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" because it's definitely the most mature Object Relational Mapper (ORM) available so far. Since it's written in TypeScript, it works pretty well with the Nest framework. "])),(l()(),tt(12,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install all of the required dependencies: "])),(l()(),tt(14,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(15,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install --save @nestjs/typeorm typeorm mysql"])),(l()(),tt(17,0,null,null,6,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" In this chapter we'll use a MySQL database, but "])),(l()(),tt(21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" provides a support for a lot of different databases such as PostgreSQL, SQLite, and even MongoDB (NoSQL). "])),(l()(),tt(24,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation process is completed, we can import the "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmModule"])),(l()(),yr(-1,null,[" into the root "])),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(32,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(33,null,[" "," "])),fr(34,2),(l()(),tt(35,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(36,49152,[["importTypeOrmT",4]],0,Wh,[],null,null),(l()(),tt(37,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(38,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(39,null,["",""])),(l()(),tt(40,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRoot()"])),(l()(),yr(-1,null,[" method accepts the same configuration object as "])),(l()(),tt(45,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createConnection()"])),(l()(),yr(-1,null,[" from the "])),(l()(),tt(48,0,null,null,1,"a",[["href","https://github.com/typeorm/typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" package. Futhermore, instead of passing anything to the "])),(l()(),tt(51,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRoot()"])),(l()(),yr(-1,null,[", we can create an "])),(l()(),tt(54,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ormconfig.json"])),(l()(),yr(-1,null,[" file in the project root directory. "])),(l()(),tt(57,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["ormconfig.json"])),(l()(),tt(59,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(60,0,null,null,1,"code",[["class","language-json"]],null,null,null,null,null)),(l()(),yr(61,null,["",""])),(l()(),tt(62,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we can simply leave the parenthesis empty: "])),(l()(),tt(64,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(65,null,[" "," "])),fr(66,2),(l()(),tt(67,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(68,49152,[["importTypeOrmEmptyT",4]],0,Wh,[],null,null),(l()(),tt(69,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(70,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(71,null,["",""])),(l()(),tt(72,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, the "])),(l()(),tt(74,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["EntityManager"])),(l()(),yr(-1,null,[" will be available to inject across entire project (without importing any module elsewhere), for example, in this way: "])),(l()(),tt(80,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(81,null,[" "," "])),fr(82,2),(l()(),tt(83,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(84,49152,[["importTypeOrmEmptyT",4]],0,Wh,[],null,null),(l()(),tt(85,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(86,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(87,null,["",""])),(l()(),tt(88,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(89,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(90,null,["",""])),(l()(),tt(91,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Repository pattern"])),(l()(),tt(93,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(95,0,null,null,1,"a",[["href","https://github.com/typeorm/typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["TypeORM"])),(l()(),yr(-1,null,[" supports the repository design pattern, so each entity has its own Repository. These repositories can be obtained from the database connection. "])),(l()(),tt(98,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need at least one entity. We're gonna reuse the "])),(l()(),tt(100,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Photo"])),(l()(),yr(-1,null,[" entity from the offical documentation. "])),(l()(),tt(103,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(104,null,[" "," "])),fr(105,2),(l()(),tt(106,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(107,49152,[["photoEntityT",4]],0,Wh,[],null,null),(l()(),tt(108,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(109,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(110,null,["",""])),(l()(),tt(111,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Photo"])),(l()(),yr(-1,null,[" entity belongs to the "])),(l()(),tt(116,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["photo"])),(l()(),yr(-1,null,[" directory. This directory represents the "])),(l()(),tt(119,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoModule"])),(l()(),yr(-1,null,[". It's your decision where you gonna keep your model files. From our point of view, the best way's to hold them nearly their "])),(l()(),tt(122,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["domain"])),(l()(),yr(-1,null,[", in the corresponding module directory. "])),(l()(),tt(125,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's have a look at the "])),(l()(),tt(127,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(130,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(131,null,[" "," "])),fr(132,2),(l()(),tt(133,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(134,49152,[["photoModuleT",4]],0,Wh,[],null,null),(l()(),tt(135,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(136,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(137,null,["",""])),(l()(),tt(138,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This module uses "])),(l()(),tt(140,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forFeature()"])),(l()(),yr(-1,null,[" method to define which repositories shall be registered in the current scope. Thanks to that we can inject the "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoRepository"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoService"])),(l()(),yr(-1,null,[" using the "])),(l()(),tt(149,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@InjectRepository()"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(152,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(153,null,[" "," "])),fr(154,2),(l()(),tt(155,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(156,49152,[["photoServiceT",4]],0,Wh,[],null,null),(l()(),tt(157,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(158,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(159,null,["",""])),(l()(),tt(160,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(161,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(162,null,["",""])),(l()(),tt(163,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(164,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" Don't forget to import the "])),(l()(),tt(167,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoModule"])),(l()(),yr(-1,null,[" into the root "])),(l()(),tt(170,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(173,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple databases"])),(l()(),tt(175,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Some of your projects may require multiple database connections. Fortunately, this can also be achieved with this module. To work with multiple connections, the first thing to do is to create those connections. In this case, the connection naming becomes "])),(l()(),tt(177,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["mandatory"])),(l()(),yr(-1,null,[". "])),(l()(),tt(180,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Say you have a "])),(l()(),tt(182,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Person"])),(l()(),yr(-1,null,[" entity and a an "])),(l()(),tt(185,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Album"])),(l()(),yr(-1,null,[" entity, each stored in their own database. "])),(l()(),tt(188,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(189,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(190,null,["",""])),(l()(),tt(191,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(192,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" If you don't set any "])),(l()(),tt(195,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["name"])),(l()(),yr(-1,null,[" for a connection, its name is set to "])),(l()(),tt(198,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["default"])),(l()(),yr(-1,null,[". Please note that you shouldn't have multiple connections without a name, or with the same name, otherwise they simply get overridden. "])),(l()(),tt(201,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" At this point, you have each of your "])),(l()(),tt(203,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Photo"])),(l()(),yr(-1,null,[", "])),(l()(),tt(206,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Person"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(209,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Album"])),(l()(),yr(-1,null,[" entities registered in their own connection. With this setup, you have to tell the "])),(l()(),tt(212,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmModule.forFeature()"])),(l()(),yr(-1,null,[" function and the "])),(l()(),tt(215,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@InjectRepository()"])),(l()(),yr(-1,null,[" decorator which connection should be used. If you do not pass any connection name, the "])),(l()(),tt(218,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["default"])),(l()(),yr(-1,null,[" connection is used. "])),(l()(),tt(221,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(222,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(223,null,["",""])),(l()(),tt(224,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You can also inject the "])),(l()(),tt(226,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Connection"])),(l()(),yr(-1,null,[" or "])),(l()(),tt(229,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["EntityManager"])),(l()(),yr(-1,null,[" for a given connection: "])),(l()(),tt(232,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(233,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(234,null,["",""])),(l()(),tt(235,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Testing"])),(l()(),tt(237,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When it comes to unit test our application, we usually want to avoid any database connection, making our test suits independent and their execution process quick as possible. But our classes might depend on repositories that are pulled from the connection instance. What's then? The solution is to create fake repositories. In order to achieve that, we should set up "])),(l()(),tt(239,0,null,null,2,"a",[["routerLink","/fundamentals/custom-providers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,240).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(240,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom providers"])),(l()(),yr(-1,null,[". In fact, each registered repository is represented by "])),(l()(),tt(243,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["EntityNameRepository"])),(l()(),yr(-1,null,[" token, where "])),(l()(),tt(246,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["EntityName"])),(l()(),yr(-1,null,[" is a name of your entity class. "])),(l()(),tt(249,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(251,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/typeorm"])),(l()(),yr(-1,null,[" package exposes "])),(l()(),tt(254,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getRepositoryToken()"])),(l()(),yr(-1,null,[" function that returns prepared token based on a given entity. "])),(l()(),tt(257,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(258,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(259,null,["",""])),(l()(),tt(260,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now a hardcoded "])),(l()(),tt(262,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mockRepository"])),(l()(),yr(-1,null,[" will be used as a "])),(l()(),tt(265,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoRepository"])),(l()(),yr(-1,null,[". Whenever any provider asks for "])),(l()(),tt(268,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PhotoRepository"])),(l()(),yr(-1,null,[" using an "])),(l()(),tt(271,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@InjectRepository()"])),(l()(),yr(-1,null,[" decorator, Nest will use a registered "])),(l()(),tt(274,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mockRepository"])),(l()(),yr(-1,null,[" object. "])),(l()(),tt(277,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom repository"])),(l()(),tt(279,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" TypeORM provides feature called "])),(l()(),tt(281,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["custom repositories"])),(l()(),yr(-1,null,[". To learn more about it, visit "])),(l()(),tt(284,0,null,null,1,"a",[["href","http://typeorm.io/#/custom-repository"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["this"])),(l()(),yr(-1,null,[" page. Basically, custom repository allows you extending a base repository class, and enrich it with a couple of special methods. "])),(l()(),tt(287,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create your custom repository, use "])),(l()(),tt(289,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@EntityRepository()"])),(l()(),yr(-1,null,[" decorator and extend "])),(l()(),tt(292,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Repository"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(295,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(296,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(297,null,["",""])),(l()(),tt(298,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(299,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Both "])),(l()(),tt(302,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@EntityRepository()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(305,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Repository"])),(l()(),yr(-1,null,[" are exposed from "])),(l()(),tt(308,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["typeorm"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(311,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the class is created, the next step is to hand over the instantiation responsibility to Nest. For this, we have to pass "])),(l()(),tt(313,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorRepository"])),(l()(),yr(-1,null,[" class to the "])),(l()(),tt(316,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrm.forFeature()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(319,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(320,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(321,null,["",""])),(l()(),tt(322,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(323,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Notice"])),(l()(),yr(-1,null,[" Even though "])),(l()(),tt(326,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AuthorRepository"])),(l()(),yr(-1,null,[" is passed, it's not enough to create a custom repository yet. The corresponding entity class, "])),(l()(),tt(329,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Author"])),(l()(),yr(-1,null,[" in this case, is required as well. "])),(l()(),tt(332,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, simply inject the repository using "])),(l()(),tt(334,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@InjectRepository()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(337,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(338,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(339,null,["",""])),(l()(),tt(340,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Async configuration"])),(l()(),tt(342,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Quite often you might want to asynchronously pass your module options instead of passing them beforehand. In such case, use "])),(l()(),tt(344,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRootAsync()"])),(l()(),yr(-1,null,[" method, that provides a couple of various ways to deal with async data. "])),(l()(),tt(347,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" First possible approach is to use a factory function: "])),(l()(),tt(349,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(350,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(351,null,["",""])),(l()(),tt(352,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, our factory behaves like every other one (might be "])),(l()(),tt(354,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" and is able to inject dependencies through "])),(l()(),tt(357,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,["). "])),(l()(),tt(360,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(361,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(362,null,["",""])),(l()(),tt(363,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alternatively, you are able to use class instead of a factory. "])),(l()(),tt(365,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(366,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(367,null,["",""])),(l()(),tt(368,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above construction will instantiate "])),(l()(),tt(370,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(373,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmModule"])),(l()(),yr(-1,null,[" and will leverage it to create options object. The "])),(l()(),tt(376,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmConfigService"])),(l()(),yr(-1,null,[" has to implement "])),(l()(),tt(379,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmOptionsFactory"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(382,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(383,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(384,null,["",""])),(l()(),tt(385,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to prevent the creation of "])),(l()(),tt(387,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(390,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmModule"])),(l()(),yr(-1,null,[" and use a provider imported from a different module, you can use the "])),(l()(),tt(393,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useExisting"])),(l()(),yr(-1,null,[" syntax. "])),(l()(),tt(396,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(397,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(398,null,["",""])),(l()(),tt(399,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It works the same as "])),(l()(),tt(401,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" with one critical difference - "])),(l()(),tt(404,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeOrmModule"])),(l()(),yr(-1,null,[" will lookup imported modules to reuse already created "])),(l()(),tt(407,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[", instead of instantiating it on its own. "])),(l()(),tt(410,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(412,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(414,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/05-sql-typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,240,0,"/fundamentals/custom-providers")},function(l,n){var e=n.component,u=Ou(n,33,0,l(n,34,0,Et(n,0),"app.module",Et(n,36).isJsActive));l(n,33,0,u),l(n,39,0,e.importTypeOrm),l(n,61,0,e.ormconfig);var t=Ou(n,65,0,l(n,66,0,Et(n,0),"app.module",Et(n,84).isJsActive));l(n,65,0,t),l(n,71,0,e.importTypeOrmEmpty);var r=Ou(n,81,0,l(n,82,0,Et(n,0),"app.module",Et(n,84).isJsActive));l(n,81,0,r),l(n,85,0,Et(n,84).isJsActive),l(n,87,0,e.importConnectionInstance),l(n,88,0,!Et(n,84).isJsActive),l(n,90,0,e.importConnectionInstanceJs);var o=Ou(n,104,0,l(n,105,0,Et(n,0),"photo/photo.entity",Et(n,107).isJsActive));l(n,104,0,o),l(n,110,0,e.photoEntity);var a=Ou(n,131,0,l(n,132,0,Et(n,0),"photo/photo.module",Et(n,134).isJsActive));l(n,131,0,a),l(n,137,0,e.photoModule);var i=Ou(n,153,0,l(n,154,0,Et(n,0),"photo/photo.service",Et(n,156).isJsActive));l(n,153,0,i),l(n,157,0,Et(n,156).isJsActive),l(n,159,0,e.photoService),l(n,160,0,!Et(n,156).isJsActive),l(n,162,0,e.photoServiceJs),l(n,190,0,e.multipleConnections),l(n,223,0,e.forFeatureWithConnection),l(n,234,0,e.injectConnectionAndEntityManager),l(n,239,0,Et(n,240).target,Et(n,240).href),l(n,259,0,e.mockRepository),l(n,297,0,e.customRepository),l(n,321,0,e.registerCustomRepository),l(n,339,0,e.injectCustomRepository),l(n,351,0,e.asyncConfiguration),l(n,362,0,e.asyncConfigurationFactoryAsync),l(n,367,0,e.asyncConfigurationClass),l(n,384,0,e.asyncConfigurationClassBody),l(n,398,0,e.asyncConfigurationExisting)})}function rv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-sql",[],null,null,null,tv,uv)),zt(1,8437760,null,0,ev,[Pe,Gl],null,null)],null,null)}var ov=Ct("app-sql",ev,rv,{},{},[]),av=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"importMongoose",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\n\n@Module({\n  imports: [MongooseModule.forRoot('mongodb://localhost/nest')],\n})\nexport class ApplicationModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catSchema",{get:function(){return"\nimport * as mongoose from 'mongoose';\n\nexport const CatSchema = new mongoose.Schema({\n  name: String,\n  age: Number,\n  breed: String,\n});"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\nimport { CatSchema } from './schemas/cat.schema';\n\n@Module({\n  imports: [MongooseModule.forFeature([{ name: 'Cat', schema: CatSchema }])],\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsService",{get:function(){return"\nimport { Model } from 'mongoose';\nimport { Injectable } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Cat } from './interfaces/cat.interface';\nimport { CreateCatDto } from './dto/create-cat.dto';\n\n@Injectable()\nexport class CatsService {\n  constructor(@InjectModel('Cat') private readonly catModel: Model<Cat>) {}\n\n  async create(createCatDto: CreateCatDto): Promise<Cat> {\n    const createdCat = new this.catModel(createCatDto);\n    return await createdCat.save();\n  }\n\n  async findAll(): Promise<Cat[]> {\n    return await this.catModel.find().exec();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catsServiceJs",{get:function(){return"\nimport { Model } from 'mongoose';\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { CatSchema } from './schemas/cat.schema';\n\n@Injectable()\n@Dependencies(InjectModel(CatSchema))\nexport class CatsService {\n  constructor(catModel) {\n    this.catModel = catModel;\n  }\n\n  async create(createCatDto) {\n    const createdCat = new this.catModel(createCatDto);\n    return await createdCat.save();\n  }\n\n  async findAll() {\n    return await this.catModel.find().exec();\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mockRepository",{get:function(){return"\n@Module({\n  providers: [\n    CatsService,\n    {\n      provide: getModelToken('Cat'),\n      useValue: catModel,\n    },\n  ],\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfiguration",{get:function(){return"\nMongooseModule.forRootAsync({\n  useFactory: () => ({\n    uri: 'mongodb://localhost/nest',\n  }),\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationFactoryAsync",{get:function(){return"\nMongooseModule.forRootAsync({\n  imports: [ConfigModule],\n  useFactory: async (configService: ConfigService) => ({\n    uri: configService.getString('MONGODB_URI'),\n  }),\n  inject: [ConfigService],\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClass",{get:function(){return"\nMongooseModule.forRootAsync({\n  useClass: MongooseConfigService,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClassBody",{get:function(){return"\n@Injectable()\nclass MongooseConfigService implements MongooseOptionsFactory {\n  createMongooseOptions(): MongooseModuleOptions {\n    return {\n      uri: 'mongodb://localhost/nest',\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationExisting",{get:function(){return"\nMongooseModule.forRootAsync({\n  imports: [ConfigModule],\n  useExisting: ConfigService,\n})"},enumerable:!0,configurable:!0}),n}(Kh),iv=Tu({encapsulation:2,styles:[],data:{}});function sv(l){return wr(2,[Vt(0,lf,[]),(l()(),tt(1,0,null,null,244,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Mongo"])),(l()(),tt(4,0,null,null,20,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are two ways of dealing with the MongoDB database. You can either use an "])),(l()(),tt(6,0,null,null,1,"a",[["href","https://github.com/typeorm/typeorm"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["ORM"])),(l()(),yr(-1,null,[" that provides a MongoDB support or "])),(l()(),tt(9,0,null,null,1,"a",[["href","http://mongoosejs.com"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Mongoose"])),(l()(),yr(-1,null,[" which is the most popular "])),(l()(),tt(12,0,null,null,1,"a",[["href","https://www.mongodb.org/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["MongoDB"])),(l()(),yr(-1,null,[" object modeling tool. If you wanna stay with the "])),(l()(),tt(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["ORM"])),(l()(),yr(-1,null,[" you can follow "])),(l()(),tt(18,0,null,null,2,"a",[["routerLink","/techniques/sql"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,19).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(19,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["these steps"])),(l()(),yr(-1,null,[". Otherwise, we'll use the dedicated "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/mongoose"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(25,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install all of the required dependencies: "])),(l()(),tt(27,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(28,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install --save @nestjs/mongoose mongoose"])),(l()(),tt(30,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation process is completed, we can import the "])),(l()(),tt(32,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseModule"])),(l()(),yr(-1,null,[" into the root "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ApplicationModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(38,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(39,null,[" "," "])),fr(40,2),(l()(),tt(41,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(42,49152,[["importMongooseT",4]],0,Wh,[],null,null),(l()(),tt(43,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(44,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(45,null,["",""])),(l()(),tt(46,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(48,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRoot()"])),(l()(),yr(-1,null,[" method accepts the same configuration object as "])),(l()(),tt(51,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["mongoose.connect()"])),(l()(),yr(-1,null,[" from the "])),(l()(),tt(54,0,null,null,1,"a",[["href","http://mongoosejs.com"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Mongoose"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(57,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model injection"])),(l()(),tt(59,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" With Mongoose, everything is derived from a "])),(l()(),tt(61,0,null,null,1,"a",[["href","http://mongoosejs.com/docs/guide.html"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Schema"])),(l()(),yr(-1,null,[". Let's define the "])),(l()(),tt(64,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatSchema"])),(l()(),yr(-1,null,[": "])),(l()(),tt(67,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(68,null,[" "," "])),fr(69,2),(l()(),tt(70,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(71,49152,[["catSchemaT",4]],0,Wh,[],null,null),(l()(),tt(72,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(73,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(74,null,["",""])),(l()(),tt(75,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsSchema"])),(l()(),yr(-1,null,[" belongs to the "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["cats"])),(l()(),yr(-1,null,[" directory. This directory represents the "])),(l()(),tt(83,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[". It's your decision where you gonna keep your schema files. From our point of view, the best way's to hold them nearly their "])),(l()(),tt(86,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["domain"])),(l()(),yr(-1,null,[", in the appropriate module directory. "])),(l()(),tt(89,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Let's have a look at the "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsModule"])),(l()(),yr(-1,null,[": "])),(l()(),tt(94,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(95,null,[" "," "])),fr(96,2),(l()(),tt(97,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(98,49152,[["catsModuleT",4]],0,Wh,[],null,null),(l()(),tt(99,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(100,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(101,null,["",""])),(l()(),tt(102,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This module uses "])),(l()(),tt(104,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forFeature()"])),(l()(),yr(-1,null,[" method to define which models shall be registered in the current scope. Thanks to that, we can inject the "])),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatModel"])),(l()(),yr(-1,null,[" to the "])),(l()(),tt(110,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["CatsService"])),(l()(),yr(-1,null,[" using the "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@InjectModel()"])),(l()(),yr(-1,null,[" decorator: "])),(l()(),tt(116,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(117,null,[" "," "])),fr(118,2),(l()(),tt(119,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(120,49152,[["catsServiceT",4]],0,Wh,[],null,null),(l()(),tt(121,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(122,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(123,null,["",""])),(l()(),tt(124,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(125,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(126,null,["",""])),(l()(),tt(127,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Testing"])),(l()(),tt(129,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When it comes to unit test our application, we usually want to avoid any database connection, making our test suits independent and their execution process quick as possible. But our classes might depend on models that are pulled from the connection instance. What's then? The solution is to create fake models. In order to achieve that, we should set up "])),(l()(),tt(131,0,null,null,2,"a",[["routerLink","/fundamentals/custom-providers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,132).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(132,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["custom providers "])),(l()(),yr(-1,null,[". In fact, each registered model is represented by "])),(l()(),tt(135,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NameModel"])),(l()(),yr(-1,null,[" token, where "])),(l()(),tt(138,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Name"])),(l()(),yr(-1,null,[" is a model's name. "])),(l()(),tt(141,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/mongoose"])),(l()(),yr(-1,null,[" package exposes "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["getModelToken()"])),(l()(),yr(-1,null,[" function that returns prepared token based on a given model's name. "])),(l()(),tt(149,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(150,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(151,null,["",""])),(l()(),tt(152,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now a hardcoded "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catModel"])),(l()(),yr(-1,null,[" will be used as a "])),(l()(),tt(157,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model<Cat>"])),(l()(),yr(-1,null,[". Whenever any provider asks for "])),(l()(),tt(160,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Model<Cat>"])),(l()(),yr(-1,null,[" using an "])),(l()(),tt(163,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@InjectModel()"])),(l()(),yr(-1,null,[" decorator, Nest will use a registered "])),(l()(),tt(166,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catModel"])),(l()(),yr(-1,null,[" object. "])),(l()(),tt(169,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Async configuration"])),(l()(),tt(171,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Quite often you might want to asynchronously pass your module options instead of passing them beforehand. In such case, use "])),(l()(),tt(173,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["forRootAsync()"])),(l()(),yr(-1,null,[" method, that provides a couple of various ways to deal with async data. "])),(l()(),tt(176,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" First possible approach is to use a factory function: "])),(l()(),tt(178,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(179,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(180,null,["",""])),(l()(),tt(181,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, our factory behaves like every other one (might be "])),(l()(),tt(183,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" and is able to inject dependencies through "])),(l()(),tt(186,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,["). "])),(l()(),tt(189,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(190,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(191,null,["",""])),(l()(),tt(192,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alternatively, you are able to use class instead of a factory. "])),(l()(),tt(194,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(195,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(196,null,["",""])),(l()(),tt(197,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above construction will instantiate "])),(l()(),tt(199,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(202,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseModule"])),(l()(),yr(-1,null,[" and will leverage it to create options object. The "])),(l()(),tt(205,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseConfigService"])),(l()(),yr(-1,null,[" has to implement "])),(l()(),tt(208,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseOptionsFactory"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(211,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(212,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(213,null,["",""])),(l()(),tt(214,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to prevent the creation of "])),(l()(),tt(216,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(219,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseModule"])),(l()(),yr(-1,null,[" and use a provider imported from a different module, you can use the "])),(l()(),tt(222,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useExisting"])),(l()(),yr(-1,null,[" syntax. "])),(l()(),tt(225,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(226,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(227,null,["",""])),(l()(),tt(228,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It works the same as "])),(l()(),tt(230,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" with one critical difference - "])),(l()(),tt(233,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MongooseModule"])),(l()(),yr(-1,null,[" will lookup imported modules to reuse already created "])),(l()(),tt(236,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[", instead of instantiating it on its own. "])),(l()(),tt(239,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Example"])),(l()(),tt(241,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(243,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/14-mongoose-base"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],function(l,n){l(n,19,0,"/techniques/sql"),l(n,132,0,"/fundamentals/custom-providers")},function(l,n){var e=n.component;l(n,18,0,Et(n,19).target,Et(n,19).href);var u=Ou(n,39,0,l(n,40,0,Et(n,0),"app.module",Et(n,42).isJsActive));l(n,39,0,u),l(n,45,0,e.importMongoose);var t=Ou(n,68,0,l(n,69,0,Et(n,0),"cats/schemas/cat.schema",Et(n,71).isJsActive));l(n,68,0,t),l(n,74,0,e.catSchema);var r=Ou(n,95,0,l(n,96,0,Et(n,0),"cats/cats.module",Et(n,98).isJsActive));l(n,95,0,r),l(n,101,0,e.catsModule);var o=Ou(n,117,0,l(n,118,0,Et(n,0),"cats/cats.service",Et(n,120).isJsActive));l(n,117,0,o),l(n,121,0,Et(n,120).isJsActive),l(n,123,0,e.catsService),l(n,124,0,!Et(n,120).isJsActive),l(n,126,0,e.catsServiceJs),l(n,131,0,Et(n,132).target,Et(n,132).href),l(n,151,0,e.mockRepository),l(n,180,0,e.asyncConfiguration),l(n,191,0,e.asyncConfigurationFactoryAsync),l(n,196,0,e.asyncConfigurationClass),l(n,213,0,e.asyncConfigurationClassBody),l(n,227,0,e.asyncConfigurationExisting)})}function cv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-mongo",[],null,null,null,sv,iv)),zt(1,8437760,null,0,av,[Pe,Gl],null,null)],null,null)}var pv=Ct("app-mongo",av,cv,{},{},[]),dv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"singleFile",{get:function(){return"\n@Post('upload')\n@UseInterceptors(FileInterceptor('file'))\nuploadFile(@UploadedFile() file) {\n  console.log(file);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"singleFileJs",{get:function(){return"\n@Post('upload')\n@UseInterceptors(FileInterceptor('file'))\n@Bind(UploadedFile())\nuploadFile(file) {\n  console.log(file);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multipleFiles",{get:function(){return"\n@Post('upload')\n@UseInterceptors(FilesInterceptor('files'))\nuploadFile(@UploadedFiles() files) {\n  console.log(files);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multipleFilesJs",{get:function(){return"\n@Post('upload')\n@UseInterceptors(FilesInterceptor('files'))\n@Bind(UploadedFiles())\nuploadFile(files) {\n  console.log(files);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fileFields",{get:function(){return"\n@Post('upload')\n@UseInterceptors(FileFieldsInterceptor([\n  { name: 'avatar', maxCount: 1 },\n  { name: 'background', maxCount: 1 },\n]))\nuploadFile(@UploadedFiles() files) {\n  console.log(files);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fileFieldsJs",{get:function(){return"\n@Post('upload')\n@Bind(UploadedFiles())\n@UseInterceptors(FileFieldsInterceptor([\n  { name: 'avatar', maxCount: 1 },\n  { name: 'background', maxCount: 1 },\n]))\nuploadFile(files) {\n  console.log(files);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multerModule",{get:function(){return"\nMulterModule.register({\n  dest: '/upload',\n}),"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfiguration",{get:function(){return"\nMulterModule.registerAsync({\n  useFactory: () => ({\n    dest: '/upload',\n  }),\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationFactoryAsync",{get:function(){return"\nMulterModule.registerAsync({\n  imports: [ConfigModule],\n  useFactory: async (configService: ConfigService) => ({\n    dest: configService.getString('MULTER_DEST'),\n  }),\n  inject: [ConfigService],\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClass",{get:function(){return"\nMulterModule.registerAsync({\n  useClass: MulterConfigService,\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationClassBody",{get:function(){return"\n@Injectable()\nclass MulterConfigService implements MulterOptionsFactory {\n  createMulterOptions(): MulterModuleOptions {\n    return {\n      dest: '/upload',\n    };\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncConfigurationExisting",{get:function(){return"\nMulterModule.registerAsync({\n  imports: [ConfigModule],\n  useExisting: ConfigService,\n})"},enumerable:!0,configurable:!0}),n}(Kh),hv=Tu({encapsulation:2,styles:[],data:{}});function fv(l){return wr(2,[(l()(),tt(0,0,null,null,223,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["File upload"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to handle file uploading, Nest makes use of "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://github.com/expressjs/multer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["multer"])),(l()(),yr(-1,null,[" middleware. This middleware is fully configurable and you can adjust its behavior to your application requirements. "])),(l()(),tt(8,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Multer is middleware for handling "])),(l()(),tt(10,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["multipart/form-data"])),(l()(),yr(-1,null,[", which is primarily used for uploading files. "])),(l()(),tt(13,0,null,null,9,"blockquote",[["class","warning"]],null,null,null,null,null)),(l()(),tt(14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Warning"])),(l()(),yr(-1,null,[" Multer will not process any form which is not multipart ("])),(l()(),tt(17,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["multipart/form-data"])),(l()(),yr(-1,null,["). Besides, this package won't work with the "])),(l()(),tt(20,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FastifyAdapter"])),(l()(),yr(-1,null,[". "])),(l()(),tt(23,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Basic example"])),(l()(),tt(25,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" When we want to upload a single file, we simply tie "])),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FileInterceptor()"])),(l()(),yr(-1,null,[" to the handler, and then, pull outs "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["file"])),(l()(),yr(-1,null,[" from the "])),(l()(),tt(33,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" using "])),(l()(),tt(36,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UploadedFile()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(39,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(40,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(41,49152,[["singleFileT",4]],0,Wh,[],null,null),(l()(),tt(42,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(43,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(44,null,["",""])),(l()(),tt(45,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(47,null,["",""])),(l()(),tt(48,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(49,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Both "])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FileInterceptor()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UploadedFile()"])),(l()(),yr(-1,null,[" decorator are exposed from "])),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(61,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(63,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FileInterceptor()"])),(l()(),yr(-1,null,[" takes two arguments, a "])),(l()(),tt(66,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["fieldName"])),(l()(),yr(-1,null,[" (points to field from HTML form that holds a file) and optional "])),(l()(),tt(69,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["options"])),(l()(),yr(-1,null,[" object. These "])),(l()(),tt(72,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterOptions"])),(l()(),yr(-1,null,[" are equivalent to those passed into multer constructor (more details "])),(l()(),tt(75,0,null,null,1,"a",[["href","https://github.com/expressjs/multer#multeropts"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[") "])),(l()(),tt(78,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Array of files"])),(l()(),tt(80,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to upload an array of files, we use "])),(l()(),tt(82,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FilesInterceptor()"])),(l()(),yr(-1,null,[". This interceptor takes three arguments. A "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["fieldName"])),(l()(),yr(-1,null,[" (that remains the same), "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["maxCount"])),(l()(),yr(-1,null,[" which is a maximum number of files that can be uploaded at the same time, and optional "])),(l()(),tt(91,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterOptions"])),(l()(),yr(-1,null,[" object. Additionally, to pick files from "])),(l()(),tt(94,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["request"])),(l()(),yr(-1,null,[" object, we use "])),(l()(),tt(97,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UploadedFiles()"])),(l()(),yr(-1,null,[" decorator "])),(l()(),tt(100,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(101,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(102,49152,[["multiplteFilesT",4]],0,Wh,[],null,null),(l()(),tt(103,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(104,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(105,null,["",""])),(l()(),tt(106,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(107,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(108,null,["",""])),(l()(),tt(109,0,null,null,12,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(110,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" Both "])),(l()(),tt(113,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FilesInterceptor()"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(116,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@UploadedFiles()"])),(l()(),yr(-1,null,[" decorator are exposed from "])),(l()(),tt(119,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(122,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple files"])),(l()(),tt(124,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To upload multiple fields (all with different keys), we use "])),(l()(),tt(126,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FileFieldsInterceptor()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(129,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(130,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(131,49152,[["fileFieldsT",4]],0,Wh,[],null,null),(l()(),tt(132,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(133,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(134,null,["",""])),(l()(),tt(135,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(136,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(137,null,["",""])),(l()(),tt(138,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Default options"])),(l()(),tt(140,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To customize "])),(l()(),tt(142,0,null,null,1,"a",[["href","https://github.com/expressjs/multer"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["multer"])),(l()(),yr(-1,null,[" behavior, you can register the "])),(l()(),tt(145,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterModule"])),(l()(),yr(-1,null,[". We support all options listed "])),(l()(),tt(148,0,null,null,1,"a",[["href","https://github.com/expressjs/multer#multeropts"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "])),(l()(),tt(151,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(152,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(153,null,["",""])),(l()(),tt(154,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Async configuration"])),(l()(),tt(156,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Quite often you might want to asynchronously pass your module options instead of passing them beforehand. In such case, use "])),(l()(),tt(158,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["registerAsync()"])),(l()(),yr(-1,null,[" method, that provides a couple of various ways to deal with async data. "])),(l()(),tt(161,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" First possible approach is to use a factory function: "])),(l()(),tt(163,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(164,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(165,null,["",""])),(l()(),tt(166,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Obviously, our factory behaves like every other one (might be "])),(l()(),tt(168,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["async"])),(l()(),yr(-1,null,[" and is able to inject dependencies through "])),(l()(),tt(171,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["inject"])),(l()(),yr(-1,null,["). "])),(l()(),tt(174,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(175,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(176,null,["",""])),(l()(),tt(177,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Alternatively, you are able to use class instead of a factory. "])),(l()(),tt(179,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(180,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(181,null,["",""])),(l()(),tt(182,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Above construction will instantiate "])),(l()(),tt(184,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(187,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterModule"])),(l()(),yr(-1,null,[" and will leverage it to create options object. The "])),(l()(),tt(190,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterConfigService"])),(l()(),yr(-1,null,[" has to implement "])),(l()(),tt(193,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterOptionsFactory"])),(l()(),yr(-1,null,[" interface. "])),(l()(),tt(196,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(197,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(198,null,["",""])),(l()(),tt(199,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to prevent the creation of "])),(l()(),tt(201,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterConfigService"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(204,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterModule"])),(l()(),yr(-1,null,[" and use a provider imported from a different module, you can use the "])),(l()(),tt(207,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useExisting"])),(l()(),yr(-1,null,[" syntax. "])),(l()(),tt(210,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(211,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(212,null,["",""])),(l()(),tt(213,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" It works the same as "])),(l()(),tt(215,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["useClass"])),(l()(),yr(-1,null,[" with one critical difference - "])),(l()(),tt(218,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MulterModule"])),(l()(),yr(-1,null,[" will lookup imported modules to reuse already created "])),(l()(),tt(221,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[", instead of instantiating it on its own. "]))],null,function(l,n){var e=n.component;l(n,42,0,Et(n,41).isJsActive),l(n,44,0,e.singleFile),l(n,45,0,!Et(n,41).isJsActive),l(n,47,0,e.singleFileJs),l(n,103,0,Et(n,102).isJsActive),l(n,105,0,e.multipleFiles),l(n,106,0,!Et(n,102).isJsActive),l(n,108,0,e.multipleFilesJs),l(n,132,0,Et(n,131).isJsActive),l(n,134,0,e.fileFields),l(n,135,0,!Et(n,131).isJsActive),l(n,137,0,e.fileFieldsJs),l(n,153,0,e.multerModule),l(n,165,0,e.asyncConfiguration),l(n,176,0,e.asyncConfigurationFactoryAsync),l(n,181,0,e.asyncConfigurationClass),l(n,198,0,e.asyncConfigurationClassBody),l(n,212,0,e.asyncConfigurationExisting)})}function mv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-file-upload",[],null,null,null,fv,hv)),zt(1,8437760,null,0,dv,[Pe,Gl],null,null)],null,null)}var gv=Ct("app-file-upload",dv,mv,{},{},[]),yv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"logger",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule, {\n  logger: false,\n});\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"console",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule, {\n  logger: console,\n});\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"myLogger",{get:function(){return"\nimport { LoggerService } from '@nestjs/common';\n\nexport class MyLogger implements LoggerService {\n  log(message: string) {}\n  error(message: string, trace: string) {}\n  warn(message: string) {}\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useMyLogger",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule, {\n  logger: new MyLogger(),\n});\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritance",{get:function(){return"\nimport { Logger } from '@nestjs/common';\n\nexport class MyLogger extends Logger {\n  error(message: string, trace: string) {\n    // add your custom business logic\n    super.error(message, trace);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loggerModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { MyLogger } from './my-logger.service.ts';\n\n@Module({\n  providers: [MyLogger],\n  exports: [MyLogger],\n})\nexport class LoggerModule {};"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useLoggerDi",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule, {\n  logger: false,\n});\napp.useLogger(app.get(MyLogger));\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),n}(Kh),bv=Tu({encapsulation:2,styles:[],data:{}});function vv(l){return wr(2,[(l()(),tt(0,0,null,null,73,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Logger"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest comes with a default implementation of internal "])),(l()(),tt(5,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Logger"])),(l()(),yr(-1,null,[" that is used during the instantiation process and also, in several different situations, such as "])),(l()(),tt(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["occurred exception"])),(l()(),yr(-1,null,[", and so on. But sometimes, you might want to disable logging entirely, or provide a custom implementation and handle messages on your own. In order to turn off a logger, we use a Nest's options object. "])),(l()(),tt(11,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(12,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(13,null,["",""])),(l()(),tt(14,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nevertheless, we could want to use a different logger under the hood, instead of disabling a whole logging mechanism. In order to do that, we have to pass an object that fulfills "])),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerService"])),(l()(),yr(-1,null,[" interface. An example could be a built-in "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["console"])),(l()(),yr(-1,null,[". "])),(l()(),tt(22,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(23,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(24,null,["",""])),(l()(),tt(25,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But it's not an apt idea. However, we can create our own logger easily. "])),(l()(),tt(27,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(28,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(29,null,["",""])),(l()(),tt(30,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we can apply "])),(l()(),tt(32,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MyLogger"])),(l()(),yr(-1,null,[" instance directly: "])),(l()(),tt(35,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(36,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(37,null,["",""])),(l()(),tt(38,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Extend built-in logger"])),(l()(),tt(40,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Lot of use cases require creating your own logger. You don't have to entirely reinvent the wheel though. Simply extend built-in "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Logger"])),(l()(),yr(-1,null,[" class to partially override the default implementation, and use "])),(l()(),tt(45,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["super"])),(l()(),yr(-1,null,[" to delegate the call to the parent class. "])),(l()(),tt(48,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(49,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(50,null,["",""])),(l()(),tt(51,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Dependency injection"])),(l()(),tt(53,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If you want to enable dependency injection in your logger, you have to make the "])),(l()(),tt(55,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MyLogger"])),(l()(),yr(-1,null,[" class a part of the real application. For instance, you can create a "])),(l()(),tt(58,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(61,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(62,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(63,null,["",""])),(l()(),tt(64,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once "])),(l()(),tt(66,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["LoggerModule"])),(l()(),yr(-1,null,[" is imported anywhere, the framework will take charge of creating an instance of your logger. Now, to use the same instance of a logger across the whole app, including bootstraping and error handling stuff, use following construction: "])),(l()(),tt(69,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(70,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(71,null,["",""])),(l()(),tt(72,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The only downside of this solution is that your first initialization messages won't be handled by your logger instance, though, it shouldn't really matter at this point. "]))],null,function(l,n){var e=n.component;l(n,13,0,e.logger),l(n,24,0,e.console),l(n,29,0,e.myLogger),l(n,37,0,e.useMyLogger),l(n,50,0,e.inheritance),l(n,63,0,e.loggerModule),l(n,71,0,e.useLoggerDi)})}function wv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-logger",[],null,null,null,vv,bv)),zt(1,8437760,null,0,yv,[Pe,Gl],null,null)],null,null)}var xv=Ct("app-logger",yv,wv,{},{},[]),Cv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"packages",{get:function(){return"\n$ npm i --save fastify fastify-formbody"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bootstrap",{get:function(){return"\nimport { NestFactory, FastifyAdapter } from '@nestjs/core';\nimport { ApplicationModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule, new FastifyAdapter());\n  await app.listen(3000);\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"docker",{get:function(){return"\nawait app.listen(3000, '0.0.0.0');\n"},enumerable:!0,configurable:!0}),n}(Kh),kv=Tu({encapsulation:2,styles:[],data:{}});function jv(l){return wr(2,[(l()(),tt(0,0,null,null,60,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Performance (Fastify)"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Under the hood, Nest makes use of "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://expressjs.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Express"])),(l()(),yr(-1,null,[", but as mentioned already, provides compatibility with a wide range of other libraries, like e.g. "])),(l()(),tt(8,0,null,null,1,"a",[["href","https://github.com/fastify/fastify"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Fastify"])),(l()(),yr(-1,null,[". How does it work? In fact, what Nest needs to use your favorite library, is a compatible adapter, that primarily proxies corresponding handlers to appropriate library-specific methods. Additionally, your library has to provide at least similar request-response cycle management as express. "])),(l()(),tt(11,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A "])),(l()(),tt(13,0,null,null,1,"a",[["href","https://github.com/fastify/fastify"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Fastify"])),(l()(),yr(-1,null,[" fits here very well because it solves design issues in a similar manner as express does. However, fastify is much "])),(l()(),tt(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["faster"])),(l()(),yr(-1,null,[", achieving almost two times better benchmarks results. The question, why Nest still uses express as a default HTTP provider then? Because express is widely-used, well-known, and has a huge set of compatible middleware. "])),(l()(),tt(19,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But we don't lock people in a single paradigm. We let them use whatever they need. Fastify is a better choice when you care about really good performance, that's why we provide a built-in "])),(l()(),tt(21,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FastifyAdapter"])),(l()(),yr(-1,null,[" that helps to integrate this library with Nest. "])),(l()(),tt(24,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(26,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, we need to install required packages: "])),(l()(),tt(28,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(29,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(30,null,["",""])),(l()(),tt(31,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Adapter"])),(l()(),tt(33,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once fastify is installed, we can use a "])),(l()(),tt(35,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FastifyAdapter"])),(l()(),yr(-1,null,[". "])),(l()(),tt(38,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(39,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(40,null,["",""])),(l()(),yr(-1,null,[" If you're running your Nest instance inside of a "])),(l()(),tt(42,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["docker container"])),(l()(),yr(-1,null,[" you will need to specify the host, like so: "])),(l()(),tt(45,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(47,null,["",""])),(l()(),tt(48,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And that's all. Also, you are able to pass options into fastify constructor through "])),(l()(),tt(50,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FastifyAdapter"])),(l()(),yr(-1,null,[" constructor. Keep in mind that now, Nest uses fastify as an "])),(l()(),tt(53,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["HTTP provider"])),(l()(),yr(-1,null,[", meaning, each recipe that relays on express won't work anymore. You should rather use fastify equivalent packages. "])),(l()(),tt(56,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(58,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/10-fastify"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component;l(n,30,0,e.packages),l(n,40,0,e.bootstrap),l(n,47,0,e.docker)})}function Ov(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-performance",[],null,null,null,jv,kv)),zt(1,8437760,null,0,Cv,[Pe,Gl],null,null)],null,null)}var Sv=Ct("app-performance",Cv,Ov,{},{},[]),Pv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"packages",{get:function(){return"\n$ npm i --save-dev webpack webpack-cli webpack-node-externals"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configuration",{get:function(){return"\nconst webpack = require('webpack');\nconst path = require('path');\nconst nodeExternals = require('webpack-node-externals');\n\nmodule.exports = {\n  entry: ['webpack/hot/poll?100', './src/main.ts'],\n  watch: true,\n  target: 'node',\n  externals: [\n    nodeExternals({\n      whitelist: ['webpack/hot/poll?100'],\n    }),\n  ],\n  module: {\n    rules: [\n      {\n        test: /.tsx?$/,\n        use: 'ts-loader',\n        exclude: /node_modules/,\n      },\n    ],\n  },\n  mode: 'development',\n  resolve: {\n    extensions: ['.tsx', '.ts', '.js'],\n  },\n  plugins: [new webpack.HotModuleReplacementPlugin()],\n  output: {\n    path: path.join(__dirname, 'dist'),\n    filename: 'server.js',\n  },\n};"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"main",{get:function(){return"\ndeclare const module: any;\n\nasync function bootstrap() {\n  const app = await NestFactory.create(ApplicationModule);\n  await app.listen(3000);\n\n  if (module.hot) {\n    module.hot.accept();\n    module.hot.dispose(() => app.close());\n  }\n}\nbootstrap();"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scripts",{get:function(){return'\n"start": "node dist/server",\n"webpack": "webpack --config webpack.config.js"'},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"webpackStart",{get:function(){return"\n$ npm run webpack"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return"\n$ npm run start"},enumerable:!0,configurable:!0}),n}(Kh),Tv=Tu({encapsulation:2,styles:[],data:{}});function Av(l){return wr(2,[(l()(),tt(0,0,null,null,74,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hot Reload (Webpack)"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The highest impact on your application's bootstrapping process has a "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeScript compilation"])),(l()(),yr(-1,null,[". But the question is, do we have to recompile a whole project each time when change occurs? Not at all. That's why "])),(l()(),tt(8,0,null,null,1,"a",[["href","https://github.com/webpack/webpack"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["webpack"])),(l()(),yr(-1,null,[" HMR (Hot-Module Replacement) significantly decreases an amount of time necessary to instantiate your application. "])),(l()(),tt(11,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(13,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, let's install required packages: "])),(l()(),tt(15,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(17,null,["",""])),(l()(),tt(18,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Configuration"])),(l()(),tt(20,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, we need to create a "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["webpack.config.js"])),(l()(),yr(-1,null,[" which is a webpack's configuration file, and put it in the root directory. "])),(l()(),tt(25,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(26,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(27,null,["",""])),(l()(),tt(28,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This configuration tells webpack few essential things about our application. Where sits an entry file, which directory should be used to hold "])),(l()(),tt(30,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["compiled"])),(l()(),yr(-1,null,[" files, and also, what kind of loader we want to use in order to compile source files. Basically, you shouldn't worry to much, you don't need to understand the content of this file at all. "])),(l()(),tt(33,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hot-Module Replacement"])),(l()(),tt(35,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to enable "])),(l()(),tt(37,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["HMR"])),(l()(),yr(-1,null,[", we have to open Nest application entry file (which is "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["main.ts"])),(l()(),yr(-1,null,[") and add few critical things. "])),(l()(),tt(43,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(44,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(45,null,["",""])),(l()(),tt(46,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" And that's all. To simplify execution process, add those two lines into your "])),(l()(),tt(48,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["scripts"])),(l()(),yr(-1,null,[" inside "])),(l()(),tt(51,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["package.json"])),(l()(),yr(-1,null,[" file. "])),(l()(),tt(54,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(55,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(56,null,["",""])),(l()(),tt(57,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now simply open your command line and run below command: "])),(l()(),tt(59,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(60,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(61,null,["",""])),(l()(),tt(62,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once webpack started to "])),(l()(),tt(64,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["watch files"])),(l()(),yr(-1,null,[", run another command in the another command line window: "])),(l()(),tt(67,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(68,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(69,null,["",""])),(l()(),tt(70,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A working example is available "])),(l()(),tt(72,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/tree/master/sample/08-webpack"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,function(l,n){var e=n.component;l(n,17,0,e.packages),l(n,27,0,e.configuration),l(n,45,0,e.main),l(n,56,0,e.scripts),l(n,61,0,e.webpackStart),l(n,69,0,e.start)})}function Mv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-hot-reload",[],null,null,null,Av,Tv)),zt(1,8437760,null,0,Pv,[Pe,Gl],null,null)],null,null)}var _v=Ct("app-hot-reload",Pv,Mv,{},{},[]),Iv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"httpModule",{get:function(){return"\n@Module({\n  imports: [HttpModule],\n  providers: [CatsService],\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpService",{get:function(){return"\n@Injectable()\nexport class CatsService {\n  constructor(private readonly httpService: HttpService) {}\n\n  findAll(): Observable<AxiosResponse<Cat[]>> {\n    return this.httpService.get('http://localhost:3000/cats');\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"httpServiceJs",{get:function(){return"\n@Injectable()\n@Dependencies(HttpService)\nexport class CatsService {\n  constructor(httpService) {\n    this.httpService = httpService;\n  }\n\n  findAll() {\n    return this.httpService.get('http://localhost:3000/cats');\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configuration",{get:function(){return"\n@Module({\n  imports: [HttpModule.register({\n    timeout: 5000,\n    maxRedirects: 5,\n  })],\n  providers: [CatsService],\n})\nexport class CatsModule {}"},enumerable:!0,configurable:!0}),n}(Kh),Ev=Tu({encapsulation:2,styles:[],data:{}});function Rv(l){return wr(2,[(l()(),tt(0,0,null,null,90,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["HTTP module"])),(l()(),tt(3,0,null,null,15,"p",[],null,null,null,null,null)),(l()(),tt(4,0,null,null,1,"a",[["href","https://github.com/axios/axios"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Axios"])),(l()(),yr(-1,null,[" is rich-feature HTTP client that is widely used in dozens of applications. That's why Nest wraps this package and exposes it by default as a built-in "])),(l()(),tt(7,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpModule"])),(l()(),yr(-1,null,[". The "])),(l()(),tt(10,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpModule"])),(l()(),yr(-1,null,[" exports "])),(l()(),tt(13,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpService"])),(l()(),yr(-1,null,[" that simply exposes axios-based methods to perform HTTP request, but also, transforms return types into "])),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observables"])),(l()(),yr(-1,null,[". "])),(l()(),tt(19,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to use a "])),(l()(),tt(21,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpService"])),(l()(),yr(-1,null,[", we need to import "])),(l()(),tt(24,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(27,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(28,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(29,null,["",""])),(l()(),tt(30,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" The "])),(l()(),tt(34,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpModule"])),(l()(),yr(-1,null,[" is exposed from "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(40,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Then, you can inject "])),(l()(),tt(42,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpService"])),(l()(),yr(-1,null,[". This class is easily accessible from "])),(l()(),tt(45,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/common"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(48,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(49,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(50,49152,[["httpServiceT",4]],0,Wh,[],null,null),(l()(),tt(51,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(52,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(53,null,["",""])),(l()(),tt(54,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(55,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(56,null,["",""])),(l()(),tt(57,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All methods return "])),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["AxiosResponse"])),(l()(),yr(-1,null,[" wrapped with "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Observable"])),(l()(),yr(-1,null,[" object. "])),(l()(),tt(65,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Configuration"])),(l()(),tt(67,0,null,null,15,"p",[],null,null,null,null,null)),(l()(),tt(68,0,null,null,1,"a",[["href","https://github.com/axios/axios"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Axios"])),(l()(),yr(-1,null,[" gives a bunch of options that you may take advantage of to make your "])),(l()(),tt(71,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpService"])),(l()(),yr(-1,null,[" even more powerful. Read more about them "])),(l()(),tt(74,0,null,null,1,"a",[["href","https://github.com/axios/axios#request-config"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". To configure underlying library instance, use "])),(l()(),tt(77,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["register()"])),(l()(),yr(-1,null,[" method of "])),(l()(),tt(80,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["HttpModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(83,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(84,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(85,null,["",""])),(l()(),tt(86,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" All these properties will be passed down to the "])),(l()(),tt(88,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["axios"])),(l()(),yr(-1,null,[" constructor. "]))],null,function(l,n){var e=n.component;l(n,29,0,e.httpModule),l(n,51,0,Et(n,50).isJsActive),l(n,53,0,e.httpService),l(n,54,0,!Et(n,50).isJsActive),l(n,56,0,e.httpServiceJs),l(n,85,0,e.configuration)})}function Nv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-http-module",[],null,null,null,Rv,Ev)),zt(1,8437760,null,0,Iv,[Pe,Gl],null,null)],null,null)}var qv=Ct("app-http-module",Iv,Nv,{},{},[]),Dv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"packages",{get:function(){return"\n$ npm i --save dotenv"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configService",{get:function(){return"\nimport * as dotenv from 'dotenv';\nimport * as fs from 'fs';\n\nexport class ConfigService {\n  private readonly envConfig: { [key: string]: string };\n\n  constructor(filePath: string) {\n    this.envConfig = dotenv.parse(fs.readFileSync(filePath))\n  }\n\n  get(key: string): string {\n    return this.envConfig[key];\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configServiceJs",{get:function(){return"\nimport * as dotenv from 'dotenv';\nimport * as fs from 'fs';\n\nexport class ConfigService {\n  constructor(filePath) {\n    this.envConfig = dotenv.parse(fs.readFileSync(filePath))\n  }\n\n  get(key) {\n    return this.envConfig[key];\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configModule",{get:function(){return"\nimport { Module } from '@nestjs/common';\nimport { ConfigService } from './config.service';\n\n@Module({\n  providers: [\n    {\n      provide: ConfigService,\n      useValue: new ConfigService(`${process.env.NODE_ENV}.env`),\n    },\n  ],\n  exports: [ConfigService],\n})\nexport class ConfigModule {}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sampleEnv",{get:function(){return"\nDATABASE_USER=test\nDATABASE_PASSWORD=test"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configModuleImport",{get:function(){return"\n@Module({\n  imports: [ConfigModule],\n  ...\n})"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configServiceInjection",{get:function(){return"\n@Injectable()\nexport class AppService {\n  private isAuthEnabled: boolean;\n  constructor(config: ConfigService) {\n    // Please take note that this check is case sensitive!\n    this.isAuthEnabled = config.get('IS_AUTH_ENABLED') === 'true' ? true : false;\n  }\n}\n    "},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configServiceValidation",{get:function(){return"\nimport * as Joi from 'joi';\nimport * as fs from 'fs';\n\nexport interface EnvConfig {\n  [key: string]: string;\n}\n\nexport class ConfigService {\n  private readonly envConfig: EnvConfig;\n\n  constructor(filePath: string) {\n    const config = dotenv.parse(fs.readFileSync(filePath));\n    this.envConfig = this.validateInput(config);\n  }\n\n  /**\n   * Ensures all needed variables are set, and returns the validated JavaScript object\n   * including the applied default values.\n   */\n  private validateInput(envConfig: EnvConfig): EnvConfig {\n    const envVarsSchema: Joi.ObjectSchema = Joi.object({\n      NODE_ENV: Joi.string()\n        .valid(['development', 'production', 'test', 'provision'])\n        .default('development'),\n      PORT: Joi.number().default(3000),\n      API_AUTH_ENABLED: Joi.boolean().required(),\n    });\n\n    const { error, value: validatedEnvConfig } = Joi.validate(\n      envConfig,\n      envVarsSchema,\n    );\n    if (error) {\n      throw new Error(`Config validation error: ${error.message}`);\n    }\n    return validatedEnvConfig;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configServiceProperties",{get:function(){return"\nget isApiAuthEnabled(): boolean {\n  return Boolean(this.envConfig.API_AUTH_ENABLED);\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"advancedConfigServiceSample",{get:function(){return"\n@Injectable()\nexport class AppService {\n  constructor(config: ConfigService) {\n    if (config.isApiAuthEnabled) {\n      // Authorization is enabled\n    }\n  }\n}\n    "},enumerable:!0,configurable:!0}),n}(Kh),Hv=Tu({encapsulation:2,styles:[],data:{}});function Lv(l){return wr(2,[(l()(),tt(0,0,null,null,210,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Configuration"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The applications used to run in different "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["environments"])),(l()(),yr(-1,null,[". Depending on an environment, various sets of configuration variables should be used. For example, that's very likely that local environment relays on specific database credentials, valid solely for local db instance. In order to solve this issue, we used to take advantage of "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".env"])),(l()(),yr(-1,null,[" files, that hold key-value pairs, where each key represents a particular value since this approach is very convenient. "])),(l()(),tt(11,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" But when we use a "])),(l()(),tt(13,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["process"])),(l()(),yr(-1,null,[" global object, it's difficult to keep our tests clean since tested class may directly use it. Another way is to create an abstraction layer, a "])),(l()(),tt(16,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigModule"])),(l()(),yr(-1,null,[" that exposes a "])),(l()(),tt(19,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" with loaded configuration variables. "])),(l()(),tt(22,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(24,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Certain platforms automatically attach our environment variables to the "])),(l()(),tt(26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["process.env"])),(l()(),yr(-1,null,[" global. However, in the local environment, we have to manually take care of it. In order to parse our environment files, we'll use a "])),(l()(),tt(29,0,null,null,1,"a",[["href","https://github.com/motdotla/dotenv"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["dotenv"])),(l()(),yr(-1,null,[" package. "])),(l()(),tt(32,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(33,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(34,null,["",""])),(l()(),tt(35,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Service"])),(l()(),tt(37,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Firstly, let's create a "])),(l()(),tt(39,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" class. "])),(l()(),tt(42,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(43,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(44,49152,[["configServiceT",4]],0,Wh,[],null,null),(l()(),tt(45,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(46,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(47,null,["",""])),(l()(),tt(48,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(49,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(50,null,["",""])),(l()(),tt(51,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This class takes a single argument, a "])),(l()(),tt(53,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["filePath"])),(l()(),yr(-1,null,[", which is a path to your "])),(l()(),tt(56,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".env"])),(l()(),yr(-1,null,[" file. The "])),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["get()"])),(l()(),yr(-1,null,[" method is provided to enable access to a private "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["envConfig"])),(l()(),yr(-1,null,[" object that holds each property defined inside an environment file. "])),(l()(),tt(65,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The last step is to create a "])),(l()(),tt(67,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigModule"])),(l()(),yr(-1,null,[". "])),(l()(),tt(70,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(71,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(72,49152,[["configModuleT",4]],0,Wh,[],null,null),(l()(),tt(73,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(75,null,["",""])),(l()(),tt(76,0,null,null,16,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(78,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigModule"])),(l()(),yr(-1,null,[" registers a "])),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" and exports it as well. Additionally, we passed a path to the "])),(l()(),tt(84,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".env"])),(l()(),yr(-1,null,[" file. This path will be different depending on actual execution environment. Now you can simply inject "])),(l()(),tt(87,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" anywhere, and pull out a particular value based on a passed key. Sample "])),(l()(),tt(90,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".env"])),(l()(),yr(-1,null,[" file could look like below: "])),(l()(),tt(93,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,[" development.env "])),(l()(),tt(95,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(96,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(97,null,["",""])),(l()(),tt(98,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Using the ConfigService"])),(l()(),tt(100,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To access "])),(l()(),tt(102,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["environment variables"])),(l()(),yr(-1,null,[" from our "])),(l()(),tt(105,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[" we need to inject it. Therefore we firstly need to import the module. "])),(l()(),tt(108,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.module.ts"])),(l()(),tt(110,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(111,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(112,null,["",""])),(l()(),tt(113,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Afterward, you can inject it using an injection token. By default, the token is equal to the class name (in our example "])),(l()(),tt(115,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,["). "])),(l()(),tt(118,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.service.ts"])),(l()(),tt(120,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(121,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(122,null,["",""])),(l()(),tt(123,0,null,null,7,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),yr(-1,null,[" Instead of importing "])),(l()(),tt(125,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigModule"])),(l()(),yr(-1,null,[" repeatingly in all your modules, you can also declare "])),(l()(),tt(128,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigModule"])),(l()(),yr(-1,null,[" as a global module. "])),(l()(),tt(131,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Advanced configuration"])),(l()(),tt(133,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We just implemented a basic "])),(l()(),tt(135,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[". However, this approach has a couple of disadvantages, which we'll address now: "])),(l()(),tt(138,0,null,null,18,"ul",[],null,null,null,null,null)),(l()(),tt(139,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,[" missing names & types for the environment variables (no IntelliSense) "])),(l()(),tt(141,0,null,null,7,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,[" a lack of "])),(l()(),tt(143,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["validation"])),(l()(),yr(-1,null,[" of the provided "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,[".env"])),(l()(),yr(-1,null,[" file "])),(l()(),tt(149,0,null,null,7,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,[" the env file provides booleans as string ("])),(l()(),tt(151,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["'true'"])),(l()(),yr(-1,null,["), and thus have to cast them to a "])),(l()(),tt(154,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["boolean"])),(l()(),yr(-1,null,[" every time "])),(l()(),tt(157,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Validation"])),(l()(),tt(159,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We'll start with the validation of the provided environment variables. You can throw an error if required environment variables haven't been provided or if they don't meet your predefined requirements. For this purpose, we are going to use the npm package "])),(l()(),tt(161,0,null,null,1,"a",[["href","https://github.com/hapijs/joi"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Joi"])),(l()(),yr(-1,null,[". With Joi, you define an object schema and validate JavaScript objects against it. "])),(l()(),tt(164,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Install Joi and it's types (for "])),(l()(),tt(166,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["TypeScript"])),(l()(),yr(-1,null,[" users): "])),(l()(),tt(169,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(170,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install --save joi\n$ npm install --save-dev @types/joi"])),(l()(),tt(172,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the packages are installed, we can move to our "])),(l()(),tt(174,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ConfigService"])),(l()(),yr(-1,null,[". "])),(l()(),tt(177,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["config.service.ts"])),(l()(),tt(179,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(180,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(181,null,["",""])),(l()(),tt(182,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Since we set default values for "])),(l()(),tt(184,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NODE_ENV"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(187,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["PORT"])),(l()(),yr(-1,null,[" the validation will not fail if we don't provide these variables in the environment file. Nevertheless, we need to explicitly provide "])),(l()(),tt(190,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["API_AUTH_ENABLED"])),(l()(),yr(-1,null,[". The validation will also throw an error if we have variables in our .env file which aren't part of the schema. Additionally, Joi tries to convert the env strings into the right type. "])),(l()(),tt(193,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Class properties"])),(l()(),tt(195,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" For each config property, we have to add a getter function. "])),(l()(),tt(197,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["config.service.ts"])),(l()(),tt(199,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(200,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(201,null,["",""])),(l()(),tt(202,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Usage example"])),(l()(),tt(204,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Now we can directly access the class properties. "])),(l()(),tt(206,0,null,null,1,"span",[["class","filename"]],null,null,null,null,null)),(l()(),yr(-1,null,["app.service.ts"])),(l()(),tt(208,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(209,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(210,null,["",""]))],null,function(l,n){var e=n.component;l(n,34,0,e.packages),l(n,45,0,Et(n,44).isJsActive),l(n,47,0,e.configService),l(n,48,0,!Et(n,44).isJsActive),l(n,50,0,e.configServiceJs),l(n,75,0,e.configModule),l(n,97,0,e.sampleEnv),l(n,112,0,e.configModuleImport),l(n,122,0,e.configServiceInjection),l(n,181,0,e.configServiceValidation),l(n,201,0,e.configServiceProperties),l(n,210,0,e.advancedConfigServiceSample)})}function Fv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-configuration",[],null,null,null,Lv,Hv)),zt(1,8437760,null,0,Dv,[Pe,Gl],null,null)],null,null)}var Jv=Ct("app-configuration",Dv,Fv,{},{},[]),Uv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"enableCors",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.enableCors();\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enableCorsOptions",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule, { cors: true });\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expressRateLimit",{get:function(){return"\nimport * as rateLimit from 'express-rate-limit';\n// somewhere in your initialization file\napp.use(rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100 // limit each IP to 100 requests per windowMs\n}));"},enumerable:!0,configurable:!0}),n}(Kh),Bv=Tu({encapsulation:2,styles:[],data:{}});function Gv(l){return wr(2,[(l()(),tt(0,0,null,null,90,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Security"])),(l()(),tt(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In this chapter you will learn some techniques that will allow you to increase the security of your applications. "])),(l()(),tt(5,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Helmet"])),(l()(),tt(7,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),tt(8,0,null,null,1,"a",[["href","https://github.com/helmetjs/helmet"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Helmet"])),(l()(),yr(-1,null,[" can help protect your app from some well-known web vulnerabilities by setting HTTP headers appropriately. Generally, Helmet is just a collection of 12 smaller middleware functions that set security-related HTTP headers (read "])),(l()(),tt(11,0,null,null,1,"a",[["href","https://github.com/helmetjs/helmet#how-it-works"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["more"])),(l()(),yr(-1,null,["). Firstly, install the required package: "])),(l()(),tt(14,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(15,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save helmet"])),(l()(),tt(17,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation is completed, apply it as a global middleware. "])),(l()(),tt(19,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(20,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\nimport * as helmet from 'helmet';\n// somewhere in your initialization file\napp.use(helmet());"])),(l()(),tt(22,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["CORS"])),(l()(),tt(24,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Cross-origin resource sharing (CORS) is a mechanism that allows resources to be requested from another domain. Under the hood, Nest makes use of "])),(l()(),tt(26,0,null,null,1,"a",[["href","https://github.com/expressjs/cors"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["cors"])),(l()(),yr(-1,null,[" package, that provides a bunch of options that you may customize based on your requirements. In order to enable CORS, you have to call "])),(l()(),tt(29,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["enableCors()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(32,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(33,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(34,null,["",""])),(l()(),tt(35,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Also, you can pass a configuration object as a parameter of this function. The available properties are exhaustively described in the official "])),(l()(),tt(37,0,null,null,1,"a",[["href","https://github.com/expressjs/cors"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["cors"])),(l()(),yr(-1,null,[" repository. A different way is to use a Nest options object: "])),(l()(),tt(40,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(41,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(42,null,["",""])),(l()(),tt(43,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Instead of passing a boolean value, you can use a cors configuration object as well (read "])),(l()(),tt(45,0,null,null,1,"a",[["href","https://github.com/expressjs/cors#configuration-options"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["more"])),(l()(),yr(-1,null,["). "])),(l()(),tt(48,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["CSRF"])),(l()(),tt(50,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Cross-site request forgery (known as CSRF or XSRF) is a type of malicious exploit of a website where "])),(l()(),tt(52,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["unauthorized"])),(l()(),yr(-1,null,[" commands are transmitted from a user that the web application trusts. To mitigate this kind of attacks you can use the "])),(l()(),tt(55,0,null,null,1,"a",[["href","https://github.com/expressjs/csurf"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["csurf"])),(l()(),yr(-1,null,[" package. Firstly, install the required package: "])),(l()(),tt(58,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(59,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save csurf"])),(l()(),tt(61,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation is completed, apply it as a global middleware. "])),(l()(),tt(63,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(64,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\nimport * as csurf from 'csurf';\n// somewhere in your initialization file\napp.use(csurf());"])),(l()(),tt(66,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Rate limiting"])),(l()(),tt(68,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" To protect your applications from brute-force attacks, you have to implement some kind of rate-limiting. Luckily, there is a bunch of various middleware available on the NPM already. One of them is "])),(l()(),tt(70,0,null,null,1,"a",[["href","https://github.com/nfriedly/express-rate-limit"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["express-rate-limit"])),(l()(),yr(-1,null,[". "])),(l()(),tt(73,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(74,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save express-rate-limit"])),(l()(),tt(76,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation is completed, apply it as a global middleware. "])),(l()(),tt(78,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(79,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(80,null,["\n",""])),(l()(),tt(81,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(82,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" If you work wtih "])),(l()(),tt(85,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FastifyAdapter"])),(l()(),yr(-1,null,[", consider using "])),(l()(),tt(88,0,null,null,1,"a",[["href","https://github.com/fastify/fastify-rate-limit"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["fastify-rate-limit"])),(l()(),yr(-1,null,[" instead. "]))],null,function(l,n){var e=n.component;l(n,34,0,e.enableCors),l(n,42,0,e.enableCorsOptions),l(n,80,0,e.expressRateLimit)})}function Wv(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-securit",[],null,null,null,Gv,Bv)),zt(1,8437760,null,0,Uv,[Pe,Gl],null,null)],null,null)}var zv=Ct("app-securit",Uv,Wv,{},{},[]),Vv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n}(Kh),Kv=Tu({encapsulation:2,styles:[],data:{}});function Qv(l){return wr(2,[(l()(),tt(0,0,null,null,34,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Compression"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Compression can greatly decrease the size of the response body and hence increase the speed of a web app. Use the "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://github.com/expressjs/compression"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["compression"])),(l()(),yr(-1,null,[" middleware to enable gzip compression. "])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(10,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Firstly, install the required package:"])),(l()(),tt(12,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(13,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm i --save compression"])),(l()(),tt(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Once the installation is completed, apply it as a global middleware. "])),(l()(),tt(17,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(-1,null,["\nimport * as compression from 'compression';\n// somewhere in your initialization file\napp.use(compression());"])),(l()(),tt(20,0,null,null,9,"blockquote",[["class","info"]],null,null,null,null,null)),(l()(),tt(21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hint"])),(l()(),yr(-1,null,[" If you work wtih "])),(l()(),tt(24,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["FastifyAdapter"])),(l()(),yr(-1,null,[", consider using "])),(l()(),tt(27,0,null,null,1,"a",[["href","hhttps://github.com/fastify/fastify-compress"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["fastify-compress"])),(l()(),yr(-1,null,[" instead. "])),(l()(),tt(30,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" For a "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["high-traffic"])),(l()(),yr(-1,null,[" website in production, the best way to put compression in place is to implement it at a reverse proxy level. In that case, you do not need to use compression middleware. "]))],null,null)}function $v(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-compression",[],null,null,null,Qv,Kv)),zt(1,8437760,null,0,Vv,[Pe,Gl],null,null)],null,null)}var Yv=Ct("app-compression",Vv,$v,{},{},[]),Xv=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"expressInstance",{get:function(){return"\nconst server = express();\nconst app = await NestFactory.create(ApplicationModule, server);"},enumerable:!0,configurable:!0}),n}(Kh),Zv=Tu({encapsulation:2,styles:[],data:{}});function lw(l){return wr(2,[(l()(),tt(0,0,null,null,13,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Express instance"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to have a full control of the "])),(l()(),tt(5,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["express"])),(l()(),yr(-1,null,[" lifecycle, you can pass a self-created instance as a second argument of the "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["NestFactory.create()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(11,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(12,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(13,null,["",""]))],null,function(l,n){l(n,13,0,n.component.expressInstance)})}function nw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-express-instance",[],null,null,null,lw,Zv)),zt(1,8437760,null,0,Xv,[Pe,Gl],null,null)],null,null)}var ew=Ct("app-express-instance",Xv,nw,{},{},[]),uw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"globalPrefix",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.setGlobalPrefix('v1');"},enumerable:!0,configurable:!0}),n}(Kh),tw=Tu({encapsulation:2,styles:[],data:{}});function rw(l){return wr(2,[(l()(),tt(0,0,null,null,13,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Global Prefix"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to set a prefix for each route registered in the application at once, you can use the "])),(l()(),tt(5,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["setGlobalPrefix()"])),(l()(),yr(-1,null,[" method of the "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestApplication"])),(l()(),yr(-1,null,[" instance. "])),(l()(),tt(11,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(12,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(13,null,["",""]))],null,function(l,n){l(n,13,0,n.component.globalPrefix)})}function ow(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-global-prefix",[],null,null,null,rw,tw)),zt(1,8437760,null,0,uw,[Pe,Gl],null,null)],null,null)}var aw=Ct("app-global-prefix",uw,ow,{},{},[]),iw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"lifecycleEvents",{get:function(){return"\nimport { Injectable, OnModuleInit, OnModuleDestroy } from '@nestjs/common';\n\n@Injectable()\nexport class UsersService implements OnModuleInit, OnModuleDestroy {\n  onModuleInit() {\n    console.log(`Initialization...`);\n  }\n  \n  onModuleDestroy() {\n    console.log(`Cleanup...`);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lifecycleEventsJs",{get:function(){return"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class UsersService {\n  onModuleInit() {\n    console.log(`Initialization...`);\n  }\n\n  onModuleDestroy() {\n    console.log(`Cleanup...`);\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncLifecycleEvent",{get:function(){return"\nasync onModuleInit(): Promise<any> {\n  await this.fetch();\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncLifecycleEventJs",{get:function(){return"\nasync onModuleInit() {\n  await this.fetch();\n}"},enumerable:!0,configurable:!0}),n}(Kh),sw=Tu({encapsulation:2,styles:[],data:{}});function cw(l){return wr(2,[(l()(),tt(0,0,null,null,36,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Lifecycle Events"])),(l()(),tt(3,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" There are two application lifecycle events, "])),(l()(),tt(5,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnModuleInit"])),(l()(),yr(-1,null,[" and "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["OnModuleDestroy"])),(l()(),yr(-1,null,[" hooks. It's a good practice to use them for all the initialization stuff and avoid putting anything directly in the constructor. The constructor should be used only to initialize the class members and for injecting the required dependencies. "])),(l()(),tt(11,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(12,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(13,49152,[["lifecycleEventsT",4]],0,Wh,[],null,null),(l()(),tt(14,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(15,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(16,null,["",""])),(l()(),tt(17,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(18,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(19,null,["",""])),(l()(),tt(20,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to defer initialization of the application, you can either use "])),(l()(),tt(22,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["await"])),(l()(),yr(-1,null,[" keyword or return a "])),(l()(),tt(25,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["Promise"])),(l()(),yr(-1,null,[". "])),(l()(),tt(28,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(29,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(30,49152,[["asyncLifecycleEventT",4]],0,Wh,[],null,null),(l()(),tt(31,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(32,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(33,null,["",""])),(l()(),tt(34,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(35,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(36,null,["",""]))],null,function(l,n){var e=n.component;l(n,14,0,Et(n,13).isJsActive),l(n,16,0,e.lifecycleEvents),l(n,17,0,!Et(n,13).isJsActive),l(n,19,0,e.lifecycleEventsJs),l(n,31,0,Et(n,30).isJsActive),l(n,33,0,e.asyncLifecycleEvent),l(n,34,0,!Et(n,30).isJsActive),l(n,36,0,e.asyncLifecycleEventJs)})}function pw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-lifecycle-events",[],null,null,null,cw,sw)),zt(1,8437760,null,0,iw,[Pe,Gl],null,null)],null,null)}var dw=Ct("app-lifecycle-events",iw,pw,{},{},[]),hw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"hybridApplication",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\nconst microservice = app.connectMicroservice({\n  transport: Transport.TCP,\n});\n\nawait app.startAllMicroservicesAsync();\nawait app.listen(3001);"},enumerable:!0,configurable:!0}),n}(Kh),fw=Tu({encapsulation:2,styles:[],data:{}});function mw(l){return wr(2,[(l()(),tt(0,0,null,null,19,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Hybrid Application"])),(l()(),tt(3,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["hybrid application"])),(l()(),yr(-1,null,[" is an application that listens for HTTP requests, as well as makes use of connected microservices The "])),(l()(),tt(8,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestApplication"])),(l()(),yr(-1,null,[" can be combined with the endless number of the "])),(l()(),tt(11,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["INestMicroservice"])),(l()(),yr(-1,null,[" instances through "])),(l()(),tt(14,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["connectMicroservice()"])),(l()(),yr(-1,null,[" method. "])),(l()(),tt(17,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(18,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(19,null,["",""]))],null,function(l,n){l(n,19,0,n.component.hybridApplication)})}function gw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-hybrid-application",[],null,null,null,mw,fw)),zt(1,8437760,null,0,hw,[Pe,Gl],null,null)],null,null)}var yw=Ct("app-hybrid-application",hw,gw,{},{},[]),bw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"https",{get:function(){return"\nconst httpsOptions = {\n  key: fs.readFileSync('./secrets/private-key.pem'),\n  cert: fs.readFileSync('./secrets/public-certificate.pem')\n};\nconst app = await NestFactory.create(ApplicationModule, {\n  httpsOptions,\n});\nawait app.listen(3000);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"servers",{get:function(){return"\nconst httpsOptions = {\n  key: fs.readFileSync('./secrets/private-key.pem'),\n  cert: fs.readFileSync('./secrets/public-certificate.pem')\n};\n\nconst server = express();\nconst app = await NestFactory.create(ApplicationModule, server);\nawait app.init();\n\nhttp.createServer(server).listen(3000);\nhttps.createServer(httpsOptions, server).listen(443);\n"},enumerable:!0,configurable:!0}),n}(Kh),vw=Tu({encapsulation:2,styles:[],data:{}});function ww(l){return wr(2,[(l()(),tt(0,0,null,null,17,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["HTTPS"])),(l()(),tt(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to create application that uses HTTPS protocol, we have to pass an options object: "])),(l()(),tt(5,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(6,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(7,null,["",""])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Multiple simultaneous servers"])),(l()(),tt(10,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" A full control over the "])),(l()(),tt(12,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["express"])),(l()(),yr(-1,null,[" instance gives a simple way to create a several multiple simultaneous servers that are listening on different ports. "])),(l()(),tt(15,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(17,null,["",""]))],null,function(l,n){var e=n.component;l(n,7,0,e.https),l(n,17,0,e.servers)})}function xw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-multiple-servers",[],null,null,null,ww,vw)),zt(1,8437760,null,0,bw,[Pe,Gl],null,null)],null,null)}var Cw=Ct("app-multiple-servers",bw,xw,{},{},[]),kw=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.companies=[{logo:"https://nestjs.com/valor-software.5dab60ec.png",url:"https://valor-software.com/"},{logo:"https://nestjs.com/logo-xtremis.0feb160c.svg",url:"http://xtremis.com/",width:"200px"},{logo:"https://nestjs.com/neoteric.0e4df380.png",url:"https://neoteric.eu/"},{logo:"https://nestjs.com/swingdev-logo.66e92510.svg",url:"https://swingdev.io/"},{logo:"/assets/logo/adidas.svg",url:"https://adidas.com",width:"80px"},{logo:"https://nestjs.com/gojob-logo.2b6e823c.png",url:"https://gojob.com/",width:"100px"},{logo:"/assets/logo/trellis.png",url:"https://trellis.org/",width:"70px"},{logo:"https://nestjs.com/scalio-logo.0a1046af.svg",url:"https://scal.io",width:"120px"},{logo:"/assets/logo/rewe.svg",url:"https://rewe-digital.com/",width:"180px"},{logo:"https://nestjs.com/genuinebee.bdd5ef72.svg",url:"https://genuinebee.com/"},{logo:"/assets/logo/architectnow.png",url:"http://architectnow.net"}],n.companiesUrls=["https://gorrion.io/","http://balticdatascience.com/","https://prohabits.com/","https://komed-health.com/","https://kerberus.com.co/","https://notadd.com/","http://jsdaddy.io/","https://yumpingo.com/","https://analytics-importer.cz/","https://dayzim.com/","https://wizkids.co.uk/","https://pilvia.com/","https://wi-q.com/","http://agrofel.com.br","https://societegenerale.com/","https://trashpanda.hulan.nl/","https://bytedance.com/","https://votercircle.com","https://erento.com","https://ideas.manticore-labs.com/","https://smartexlab.com/","https://automama.ru/","https://iflix.com/"],n}return Object(u.c)(n,l),n}(Kh),jw=Tu({encapsulation:0,styles:[["@media (max-width:480px){.company-logo[_ngcontent-%COMP%]{width:360px;max-width:100%;display:block;text-align:center;margin:40px auto}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px!important;max-width:100%;max-height:none}}"]],data:{}});function Ow(l){return wr(0,[(l()(),tt(0,0,null,null,1,"a",[["class","company-logo"],["target","blank"]],[[8,"href",4]],null,null,null,null)),(l()(),tt(1,0,null,null,0,"img",[],[[8,"src",4],[4,"width",null]],null,null,null,null))],null,function(l,n){l(n,0,0,n.context.$implicit.url),l(n,1,0,n.context.$implicit.logo,n.context.$implicit.width)})}function Sw(l){return wr(0,[(l()(),tt(0,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),tt(1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),tt(2,0,null,null,1,"a",[["target","blank"]],[[8,"href",4]],null,null,null,null)),(l()(),yr(3,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit),l(n,3,0,n.context.$implicit)})}function Pw(l){return wr(2,[(l()(),tt(0,0,null,null,23,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Who is using Nest?"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We are proudly helping various companies building their products at scale. If you are using Nest and would you like to be listed here, see this "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://github.com/nestjs/nest/issues/1006"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["thread"])),(l()(),yr(-1,null,[". We are willing to put your logo here! "])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Companies"])),(l()(),tt(10,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" According to our knowledge, all the following companies have built awesome projects on top of our framework: "])),(l()(),tt(12,0,null,null,2,"div",[["class","companies-wrapper"]],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,Ow)),zt(14,278528,null,0,ua,[Re,On,lu],{ngForOf:[0,"ngForOf"]},null),(l()(),tt(15,0,null,null,3,"table",[["class","companies-list"]],null,null,null,null,null)),(l()(),tt(16,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),ut(16777216,null,null,1,null,Sw)),zt(18,278528,null,0,ua,[Re,On,lu],{ngForOf:[0,"ngForOf"]},null),(l()(),tt(19,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" and a lot more but we don't have enough time to update above list. Feel free to create a "])),(l()(),tt(21,0,null,null,1,"a",[["href","https://github.com/nestjs/docs.nestjs.com/pulls"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["pull request"])),(l()(),yr(-1,null,[" though! "]))],function(l,n){var e=n.component;l(n,14,0,e.companies),l(n,18,0,e.companiesUrls)},null)}function Tw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-who-uses",[],null,null,null,Pw,jw)),zt(1,8437760,null,0,kw,[Pe,Gl],null,null)],null,null)}var Aw=Ct("app-who-uses",kw,Tw,{},{},[]),Mw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),Object.defineProperty(n.prototype,"middlewares",{get:function(){return"\n// Before\nconsumer.apply(LoggerMiddleware).forRoutes(\n  { path: '/cats', method: RequestMethod.GET },\n  { path: '/cats', method: RequestMethod.POST },\n);\n\n// After\nconsumer.apply(LoggerMiddleware).forRoutes('cats');"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expressMiddleware",{get:function(){return"\nconst app = await NestFactory.create(ApplicationModule);\napp.get('cats', logger);"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return"\n// Before\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, response) {}\n}\n\n// After\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const response = host.switchToHttp().getResponse();\n    // ...\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filtersJs",{get:function(){return"\n// Before\n@Catch(HttpException)\nexport class HttpExceptionFilter {\n  catch(exception, response) {}\n}\n\n// After\n@Catch(HttpException)\nexport class HttpExceptionFilter {\n  catch(exception, host) {\n    const response = host.switchToHttp().getResponse();\n    // ...\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"guards",{get:function(){return"\n// Before\n@Guard()\nexport class RolesGuard implements CanActivate {\n  canActivate(\n    dataOrRequest,\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    return true;\n  }\n}\n\n// After\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    // const request = context.switchToHttp().getRequest();\n    // const data = context.switchToWs().getData();\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"guardsJs",{get:function(){return"\n// Before\n@Guard()\nexport class RolesGuard {\n  canActivate(dataOrRequest, context) {\n    return true;\n  }\n}\n\n// After\n@Injectable()\nexport class RolesGuard {\n  canActivate(context) {\n    // const request = context.switchToHttp().getRequest();\n    // const data = context.switchToWs().getData();\n    return true;\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interceptors",{get:function(){return"\n// Before\n@Interceptor()\nexport class TransformInterceptor implements NestInterceptor {\n  intercept(\n    dataOrRequest,\n    context: ExecutionContext,\n    stream$: Observable<any>,\n  ): Observable<any> {\n    return stream$.map((data) => ({ data }));\n  }\n}\n\n// After\n@Injectable()\nexport class TransformInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable<T>,\n  ): Observable<Response<T>> {\n    // const request = context.switchToHttp().getRequest();\n    // const data = context.switchToWs().getData();\n    return call$.pipe(map(data => ({ data })));\n  }\n}"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interceptorsJs",{get:function(){return"\n// Before\n@Interceptor()\nexport class TransformInterceptor {\n  intercept(dataOrRequest, context, stream$) {\n    return stream$.map((data) => ({ data }));\n  }\n}\n\n// After\n@Injectable()\nexport class TransformInterceptor {\n  intercept(context, call$) {\n    // const request = context.switchToHttp().getRequest();\n    // const data = context.switchToWs().getData();\n    return call$.pipe(map(data => ({ data })));\n  }\n}"},enumerable:!0,configurable:!0}),n}(Kh),_w=Tu({encapsulation:2,styles:[],data:{}});function Iw(l){return wr(2,[(l()(),tt(0,0,null,null,171,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Migration guide"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" This article provides a set of "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["guidelines"])),(l()(),yr(-1,null,[" to migrate from 4 to latest 5 version. During the development, we spent a lot of time trying to avoid any breaking changes. Nevertheless, the API had to change in a bunch of places in order to simplify its usage. Also, the previous version has been limited due to decisions that have been made at the very early stage. Now, we are less opinionated and even more powerful than before. "])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Modules"])),(l()(),tt(10,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to decrease the number of differences between Nest and "])),(l()(),tt(12,0,null,null,1,"a",[["href","https://angular.io/"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["Angular"])),(l()(),yr(-1,null,[", few changes have been made regarding "])),(l()(),tt(15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Module()"])),(l()(),yr(-1,null,[" decorator. "])),(l()(),tt(18,0,null,null,14,"ul",[],null,null,null,null,null)),(l()(),tt(19,0,null,null,6,"li",[],null,null,null,null,null)),(l()(),tt(20,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["modules"])),(l()(),yr(-1,null,[" property is now deprecated. Use "])),(l()(),tt(23,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["imports"])),(l()(),yr(-1,null,[" instead"])),(l()(),tt(26,0,null,null,6,"li",[],null,null,null,null,null)),(l()(),tt(27,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["components"])),(l()(),yr(-1,null,[" property is now deprecated. Use "])),(l()(),tt(30,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["providers"])),(l()(),yr(-1,null,[" instead"])),(l()(),tt(33,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Decorators"])),(l()(),tt(35,0,null,null,19,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(37,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Component()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(40,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Middleware()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(43,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Interceptor()"])),(l()(),yr(-1,null,[", "])),(l()(),tt(46,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Pipe()"])),(l()(),yr(-1,null,[", and "])),(l()(),tt(49,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Guard()"])),(l()(),yr(-1,null,[" are deprecated now. Use "])),(l()(),tt(52,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["@Injectable()"])),(l()(),yr(-1,null,[" instead. "])),(l()(),tt(55,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Middleware interfaces"])),(l()(),tt(57,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(59,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MiddlewaresConsumer"])),(l()(),yr(-1,null,[" class has been changed to "])),(l()(),tt(62,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MiddlewareConsumer"])),(l()(),yr(-1,null,[". Also, the "])),(l()(),tt(65,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExpressMiddleware"])),(l()(),yr(-1,null,[" no longer exists, use "])),(l()(),tt(68,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["MiddlewareFunction"])),(l()(),yr(-1,null,[" interface instead. "])),(l()(),tt(71,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Filters"])),(l()(),tt(73,0,null,null,17,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The exception filters aren't locked in as single-paradigm anymore. Previously, an exception filter had an access to the "])),(l()(),tt(75,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["response"])),(l()(),yr(-1,null,[" object. Together with an incoming release, "])),(l()(),tt(78,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["catch()"])),(l()(),yr(-1,null,[" method takes "])),(l()(),tt(81,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ArgumentsHost"])),(l()(),yr(-1,null,[" instance instead. This object is well described "])),(l()(),tt(84,0,null,null,2,"a",[["routerLink","/exception-filters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,85).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(85,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". Thanks to that, you have an access to each argument, including "])),(l()(),tt(88,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["response"])),(l()(),yr(-1,null,[" object. "])),(l()(),tt(91,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(92,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(93,49152,[["filtersT",4]],0,Wh,[],null,null),(l()(),tt(94,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(95,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(96,null,["",""])),(l()(),tt(97,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(98,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(99,null,["",""])),(l()(),tt(100,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Guards"])),(l()(),tt(102,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The same as filters, guards are far more "])),(l()(),tt(104,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["flexible"])),(l()(),yr(-1,null,[" now. An access to the enhanced "])),(l()(),tt(107,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["ExecutionContext"])),(l()(),yr(-1,null,[" ("])),(l()(),tt(110,0,null,null,2,"a",[["routerLink","/guards"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==Et(l,111).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),zt(111,671744,null,0,Nd,[Rd,jp,Bo],{routerLink:[0,"routerLink"]},null),(l()(),yr(-1,null,["read more"])),(l()(),yr(-1,null,[") gives guards more superpowers and all of that has been built on top of simplified API. "])),(l()(),tt(114,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(115,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(116,49152,[["guardsT",4]],0,Wh,[],null,null),(l()(),tt(117,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(118,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(119,null,["",""])),(l()(),tt(120,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(121,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(122,null,["",""])),(l()(),tt(123,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Interceptors"])),(l()(),tt(125,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The interceptors API evolved in the exact same way as "])),(l()(),tt(127,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["equivalent"])),(l()(),yr(-1,null,[" guards API. "])),(l()(),tt(130,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),tt(131,0,null,null,1,"app-tabs",[],null,null,null,Vh,zh)),zt(132,49152,[["interceptorsT",4]],0,Wh,[],null,null),(l()(),tt(133,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(134,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(135,null,["",""])),(l()(),tt(136,0,null,null,2,"pre",[],[[2,"hide",null]],null,null,null,null)),(l()(),tt(137,0,null,null,1,"code",[["class","language-typescript"]],null,null,null,null,null)),(l()(),yr(138,null,["",""])),(l()(),tt(139,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Custom decorators"])),(l()(),tt(141,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(143,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createRouteParamDecorator()"])),(l()(),yr(-1,null,[" function is deprecated. Use "])),(l()(),tt(146,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["createParamDecorator()"])),(l()(),yr(-1,null,[" now. "])),(l()(),tt(149,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Node.js"])),(l()(),tt(151,0,null,null,13,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" We follow the Node.js release schedule which recently moved to "])),(l()(),tt(153,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["8.x"])),(l()(),yr(-1,null,[" as an active "])),(l()(),tt(156,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["LTS"])),(l()(),yr(-1,null,[" version. Therefore, Nest 5 supports >= "])),(l()(),tt(159,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["8.9.0"])),(l()(),yr(-1,null,[" as the lowest version now. This shift gaves us sustainable performance boosts thanks to the "])),(l()(),tt(162,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),yr(-1,null,["es2017"])),(l()(),yr(-1,null,[" target of the TypeScript compilation. "])),(l()(),tt(165,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["External libraries"])),(l()(),tt(167,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest 5 doesn't support "])),(l()(),tt(169,0,null,null,1,"a",[["href","https://github.com/ReactiveX/rxjs"]],null,null,null,null,null)),(l()(),yr(-1,null,["rxjs"])),(l()(),yr(-1,null,[" < 6.0.0. Keep in mind to upgrade this package as well. "]))],function(l,n){l(n,85,0,"/exception-filters"),l(n,111,0,"/guards")},function(l,n){var e=n.component;l(n,84,0,Et(n,85).target,Et(n,85).href),l(n,94,0,Et(n,93).isJsActive),l(n,96,0,e.filters),l(n,97,0,!Et(n,93).isJsActive),l(n,99,0,e.filtersJs),l(n,110,0,Et(n,111).target,Et(n,111).href),l(n,117,0,Et(n,116).isJsActive),l(n,119,0,e.guards),l(n,120,0,!Et(n,116).isJsActive),l(n,122,0,e.guardsJs),l(n,133,0,Et(n,132).isJsActive),l(n,135,0,e.interceptors),l(n,136,0,!Et(n,132).isJsActive),l(n,138,0,e.interceptorsJs)})}function Ew(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-migration",[],null,null,null,Iw,_w)),zt(1,8437760,null,0,Mw,[Pe,Gl],null,null)],null,null)}var Rw=Ct("app-migration",Mw,Ew,{},{},[]),Nw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n}(Kh),qw=Tu({encapsulation:2,styles:[],data:{}});function Dw(l){return wr(2,[(l()(),tt(0,0,null,null,34,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Support"])),(l()(),tt(3,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest is an MIT-licensed open source project with its ongoing development made possible thanks to the support by the community. This framework is a result of the long road, full of sleepless nights, working "])),(l()(),tt(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["after hours"])),(l()(),yr(-1,null,[", and busy weekends. "])),(l()(),tt(8,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Nest doesn't have a large company that sits behind and is continuously paying for hours spent on the development. I fully rely on the "])),(l()(),tt(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["goodness"])),(l()(),yr(-1,null,[" \u2764\ufe0f of the people. However, I would love to make this framework even more "])),(l()(),tt(13,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["powerful"])),(l()(),yr(-1,null,[", to be fully focused on delivering you great solutions that make coding process enjoyable: In order to help me, I run few supporting platforms: "])),(l()(),tt(16,0,null,null,13,"ul",[],null,null,null,null,null)),(l()(),tt(17,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["become a backer or sponsor on "])),(l()(),tt(19,0,null,null,1,"a",[["href","https://opencollective.com/nest"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["OpenCollective"])),(l()(),tt(21,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["use "])),(l()(),tt(23,0,null,null,1,"a",[["href","https://paypal.me/kamilmysliwiec"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["PayPal"])),(l()(),yr(-1,null,[" to send a one-time donation"])),(l()(),tt(26,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["or reach me directly: "])),(l()(),tt(28,0,null,null,1,"a",[["href","mailto:mail@kamilmysliwiec.com"]],null,null,null,null,null)),(l()(),yr(-1,null,["mail@kamilmysliwiec.com"])),(l()(),tt(30,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" If you fell in love with Nest, or you run a business which is using Nest, consider sponsoring its development to ensure that the project which your product relies on is "])),(l()(),tt(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["actively maintained"])),(l()(),yr(-1,null,[" and improved. Also, your support could help me to work more on content that benefits whole Nest community, writing either educational blog posts or recording videos. "]))],null,null)}function Hw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-support",[],null,null,null,Dw,qw)),zt(1,8437760,null,0,Nw,[Pe,Gl],null,null)],null,null)}var Lw=Ct("app-support",Nw,Hw,{},{},[]),Fw=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n}(Kh),Jw=Tu({encapsulation:2,styles:[],data:{}});function Uw(l){return wr(2,[(l()(),tt(0,0,null,null,30,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Overview"])),(l()(),tt(3,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to help people manage their projects, the "])),(l()(),tt(5,0,null,null,1,"a",[["href","https://github.com/nestjs/nest-cli"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["CLI"])),(l()(),yr(-1,null,[" tool has been created. It helps on many grounds at once, from scaffolding the project to building well-structured applications. The Nest CLI is based on the "])),(l()(),tt(8,0,null,null,1,"a",[["href","https://github.com/angular/devkit"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["@angular-devkit"])),(l()(),yr(-1,null,[" package. Also, there're special schematics that are dedicated to the Nest development "])),(l()(),tt(11,0,null,null,1,"a",[["href","https://github.com/nestjs/schematics"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["@nestjs/schematics"])),(l()(),yr(-1,null,[". "])),(l()(),tt(14,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Installation"])),(l()(),tt(16,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["Install CLI using "])),(l()(),tt(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["NPM"])),(l()(),yr(-1,null,[":"])),(l()(),tt(21,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(22,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ npm install -g @nestjs/cli"])),(l()(),tt(24,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Contribute"])),(l()(),tt(26,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" You can participate and contribute to the project "])),(l()(),tt(28,0,null,null,1,"a",[["href","https://github.com/nestjs/nest-cli"],["target","_blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["here"])),(l()(),yr(-1,null,[". "]))],null,null)}function Bw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-overview",[],null,null,null,Uw,Jw)),zt(1,8437760,null,0,Fw,[Pe,Gl],null,null)],null,null)}var Gw=Ct("app-overview",Fw,Bw,{},{},[]),Ww=function(l){function n(){return null!==l&&l.apply(this,arguments)||this}return Object(u.c)(n,l),n}(Kh),zw=Tu({encapsulation:2,styles:[],data:{}});function Vw(l){return wr(2,[(l()(),tt(0,0,null,null,174,"div",[["class","content"]],null,null,null,null,null)),(l()(),tt(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),yr(-1,null,["Usage"])),(l()(),tt(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" In order to achieve a high user-experience, the CLI commands share the same command schema. "])),(l()(),tt(5,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(6,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ nest [command] [...options]"])),(l()(),tt(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["Options"])),(l()(),tt(10,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Each command accepts a set of "])),(l()(),tt(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["options"])),(l()(),yr(-1,null,[" that are listed below: "])),(l()(),tt(15,0,null,null,4,"ul",[],null,null,null,null,null)),(l()(),tt(16,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),tt(17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["--dry-run"])),(l()(),yr(-1,null,[": allows to simulate the command execution in order to verify how it will affect your working directory "])),(l()(),tt(20,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["new (alias: n)"])),(l()(),tt(22,0,null,null,7,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(24,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["new"])),(l()(),yr(-1,null,[" command generates a Nest project based on the "])),(l()(),tt(27,0,null,null,1,"a",[["href","https://github.com/nestjs/typescript-starter"],["target","blank"]],null,null,null,null,null)),(l()(),yr(-1,null,["typescript-starter"])),(l()(),yr(-1,null,[" as well as install the required packages. The CLI will ask you for missing information to create the project, for example, which package manager do you want to use to install dependencies. "])),(l()(),tt(30,0,null,null,46,"table",[],null,null,null,null,null)),(l()(),tt(31,0,null,null,45,"tbody",[],null,null,null,null,null)),(l()(),tt(32,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Option"])),(l()(),tt(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Description"])),(l()(),tt(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Required"])),(l()(),tt(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Default value"])),(l()(),tt(41,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(42,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["name"])),(l()(),tt(44,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Your application name"])),(l()(),tt(46,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),tt(48,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["nest-app-name"])),(l()(),tt(50,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(51,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["description"])),(l()(),tt(53,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Your application description"])),(l()(),tt(55,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),tt(57,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["description"])),(l()(),tt(59,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(60,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["version"])),(l()(),tt(62,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Your application version"])),(l()(),tt(64,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),tt(66,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["1.0.0"])),(l()(),tt(68,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(69,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["author"])),(l()(),tt(71,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["Your application author"])),(l()(),tt(73,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),tt(75,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["''"])),(l()(),tt(77,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Example usage: "])),(l()(),tt(79,0,null,null,5,"pre",[],null,null,null,null,null)),(l()(),tt(80,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ nest new my-awesome-app"])),(l()(),yr(-1,null,["\nOR "])),(l()(),tt(83,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ nest n my-awesome-app"])),(l()(),tt(85,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["generate (alias: g)"])),(l()(),tt(87,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(89,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["generate"])),(l()(),yr(-1,null,[" command generates a Nest architecture component. "])),(l()(),tt(92,0,null,null,37,"table",[],null,null,null,null,null)),(l()(),tt(93,0,null,null,36,"tbody",[],null,null,null,null,null)),(l()(),tt(94,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(95,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Option"])),(l()(),tt(97,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Description"])),(l()(),tt(99,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Required"])),(l()(),tt(101,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),yr(-1,null,["Default value"])),(l()(),tt(103,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(104,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["schematic"])),(l()(),tt(106,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["The schematic name from the list bellow."])),(l()(),tt(108,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),tt(110,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["N/A"])),(l()(),tt(112,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(113,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["name"])),(l()(),tt(115,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["The name of the generated Nest architecture component."])),(l()(),tt(117,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["true"])),(l()(),tt(119,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["N/A"])),(l()(),tt(121,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),tt(122,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["path"])),(l()(),tt(124,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["The path from to generate the Nest architecture component."])),(l()(),tt(126,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["false"])),(l()(),tt(128,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),yr(-1,null,["src"])),(l()(),tt(130,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,["A list of available architecture components:"])),(l()(),tt(132,0,null,null,26,"ul",[],null,null,null,null,null)),(l()(),tt(133,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["class (alias: cl)"])),(l()(),tt(135,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["controller (alias: co)"])),(l()(),tt(137,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["decorator (alias: d)"])),(l()(),tt(139,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["exception (alias: e)"])),(l()(),tt(141,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["filter (alias: f)"])),(l()(),tt(143,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["gateway (alias: ga)"])),(l()(),tt(145,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["guard (alias: gu)"])),(l()(),tt(147,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["interceptor (alias: i)"])),(l()(),tt(149,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["middleware (alias: mi)"])),(l()(),tt(151,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["module (alias: mo)"])),(l()(),tt(153,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["pipe (alias: pi)"])),(l()(),tt(155,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["provider (alias: pr)"])),(l()(),tt(157,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),yr(-1,null,["service (alias: s)"])),(l()(),tt(159,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" Example usage: "])),(l()(),tt(161,0,null,null,2,"pre",[],null,null,null,null,null)),(l()(),tt(162,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ nest generate service users\nOR\n$ nest g s users"])),(l()(),tt(164,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),yr(-1,null,["info (alias: i)"])),(l()(),tt(166,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),yr(-1,null,[" The "])),(l()(),tt(168,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),yr(-1,null,["info"])),(l()(),yr(-1,null,[" command will display your project information. "])),(l()(),tt(171,0,null,null,3,"pre",[],null,null,null,null,null)),(l()(),tt(172,0,null,null,1,"code",[["class","language-bash"]],null,null,null,null,null)),(l()(),yr(-1,null,["\n$ nest info\n _   _             _      ___  _____  _____  _     _____\n| \\ | |           | |    |_  |/  ___|/  __ \\| |   |_   _|\n|  \\| |  ___  ___ | |_     | |\\ `--. | /  \\/| |     | |\n| . ` | / _ \\/ __|| __|    | | `--. \\| |    | |     | |\n| |\\  ||  __/\\__ \\| |_ /\\__/ //\\__/ /| \\__/\\| |_____| |_\n\\_| \\_/ \\___||___/ \\__|\\____/ \\____/  \\____/\\_____/\\___/\n\n[System Information]\nOS Version     : macOS High Sierra\nNodeJS Version : v8.9.0\nYARN Version    : 1.5.1\n[Nest Information]\nmicroservices version : 5.0.0\nwebsockets version    : 5.0.0\ntesting version       : 5.0.0\ncommon version        : 5.0.0\ncore version          : 5.0.0"])),(l()(),yr(-1,null,["\n  "]))],null,null)}function Kw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-usages",[],null,null,null,Vw,zw)),zt(1,8437760,null,0,Ww,[Pe,Gl],null,null)],null,null)}var Qw=Ct("app-usages",Ww,Kw,{},{},[]),$w=Tu({encapsulation:2,styles:[],data:{}});function Yw(l){return wr(2,[(l()(),tt(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),zt(1,212992,null,0,Fd,[Ld,Re,Ll,[8,null],qe],null,null)],function(l,n){l(n,1,0)},null)}function Xw(l){return wr(0,[(l()(),tt(0,0,null,null,1,"app-root",[],null,null,null,Yw,$w)),zt(1,114688,null,0,ih,[mc,Rd,jp],null,null)],function(l,n){l(n,1,0)},null)}var Zw=Ct("app-root",ih,Xw,{},{},[]),lx={title:"First steps"},nx={title:"Controllers"},ex={title:"Providers"},ux={title:"Modules"},tx={title:"Middleware"},rx={title:"Pipes"},ox={title:"Guards"},ax={title:"Exception filters"},ix={title:"Interceptors"},sx={title:"Custom decorators"},cx={title:"Custom providers"},px={title:"Platform agnosticism"},dx={title:"Async providers"},hx={title:"Hierarchical Injector"},fx={title:"Circular Dependency"},mx={title:"Unit Testing"},gx={title:"E2E Testing"},yx={title:"Execution Context"},bx={title:"GraphQL - Quick Start"},vx={title:"GraphQL - Resolvers Map"},wx={title:"GraphQL - Mutations"},xx={title:"GraphQL - Scalars"},Cx={title:"GraphQL - Subscriptions"},kx={title:"GraphQL - Tooling"},jx={title:"GraphQL - Schema Stitching"},Ox={title:"Gateways"},Sx={title:"Pipes - Gateways"},Px={title:"Exception Filters - Gateways"},Tx={title:"Guards - Gateways"},Ax={title:"Interceptors - Gateways"},Mx={title:"Adapter - Gateways"},_x={title:"Microservices"},Ix={title:"Redis - Microservices"},Ex={title:"MQTT - Microservices"},Rx={title:"Nats - Microservices"},Nx={title:"gRPC - Microservices"},qx={title:"RabbitMQ - Microservices"},Dx={title:"Pipes - Microservices"},Hx={title:"Exception Filters - Microservices"},Lx={title:"Guards - Microservices"},Fx={title:"Interceptors - Microservices"},Jx={title:"Custom Transport - Microservices"},Ux={title:"SQL (TypeORM)"},Bx={title:"MongoDB (Mongoose)"},Gx={title:"Authentication"},Wx={title:"SQL (Sequelize)"},zx={title:"CQRS"},Vx={title:"OpenAPI (Swagger)"},Kx={title:"Prisma"},Qx={title:"MVC"},$x={title:"Serialization"},Yx={title:"Caching"},Xx={title:"Validation"},Zx={title:"Database"},lC={title:"MongoDB"},nC={title:"File upload"},eC={title:"Logger"},uC={title:"Performance (Fastify)"},tC={title:"Hot reload (Webpack)"},rC={title:"HTTP module"},oC={title:"Configuration"},aC={title:"Security"},iC={title:"Compression"},sC={title:"Express instance - FAQ"},cC={title:"Global prefix - FAQ"},pC={title:"Lifecycle events - FAQ"},dC={title:"Hybrid application - FAQ"},hC={title:"HTTPS & Multiple Servers - FAQ"},fC={title:"Discover - Who is using Nest?"},mC={title:"Migration guide - FAQ"},gC={title:"Support"},yC={title:"Overview - CLI"},bC={title:"Usage - CLI"},vC=function(){return function(){}}(),wC=function(){return function(){}}(),xC=So(mi,[ih],function(l){return function(l){for(var n={},e=[],u=!1,t=0;t<l.length;t++){var r=l[t];r.token===El&&!0===r.value&&(u=!0),1073741824&r.flags&&e.push(r.token),r.index=t,n[ju(r.token)]=r}return{factory:null,providersByKey:n,providers:l,modules:e,isRoot:u}}([ht(512,Ll,Fl,[[8,[dh,Gh,Zh,rf,pf,gf,xf,Sf,_f,qf,Jf,zf,Yf,em,am,dm,ym,Cm,Pm,Im,Dm,Um,Vm,Xm,ug,ig,hg,bg,kg,Tg,Eg,Hg,Bg,Kg,Zg,ty,sy,fy,vy,jy,Ay,Ry,Ly,Gy,Qy,lb,rb,cb,mb,wb,Ob,Mb,Nb,Fb,Wb,$b,nv,ov,pv,gv,xv,Sv,_v,qv,Jv,zv,Yv,ew,aw,dw,yw,Cw,Aw,Rw,Lw,Gw,Qw,Zw]],[3,Ll],Ul]),ht(5120,ou,su,[[3,ou]]),ht(4608,la,na,[ou,[2,Zo]]),ht(5120,Bn,Gn,[]),ht(5120,lu,au,[]),ht(5120,nu,iu,[]),ht(4608,uc,tc,[sa]),ht(6144,Xl,null,[uc]),ht(4608,$s,Xs,[]),ht(5120,ks,function(l,n,e,u,t,r,o,a){return[new Ks(l,n,e),new ec(u),new Zs(t,r,o,a)]},[sa,ce,Vn,sa,sa,$s,Qn,[2,Ys]]),ht(4608,js,js,[ks,ce]),ht(135680,Ps,Ps,[sa]),ht(4608,Rs,Rs,[js,Ps]),ht(6144,Vl,null,[Rs]),ht(6144,Ss,null,[Ps]),ht(4608,be,be,[ce]),ht(5120,jp,uh,[Rd]),ht(4608,Gd,Gd,[]),ht(6144,Ud,null,[Gd]),ht(135680,Wd,Wd,[Rd,An,ue,vl,Ud]),ht(4608,Bd,Bd,[]),ht(5120,zd,Xd,[Rd,ha,Vd]),ht(5120,ah,oh,[th]),ht(5120,Kn,function(l){return[l]},[ah]),ht(1073742336,ia,ia,[]),ht(1024,Hn,dc,[]),ht(1024,Ce,function(){return[$d()]},[]),ht(512,th,th,[vl]),ht(1024,Jn,function(l,n){return[(e=l,ws("probe",Cs),ws("coreTokens",Object(u.a)({},xs,(e||[]).reduce(function(l,n){return l[n.name]=n.token,l},{}))),function(){return Cs}),rh(n)];var e},[[2,Ce],th]),ht(512,Un,Un,[[2,Jn]]),ht(131584,Pe,Pe,[ce,Qn,vl,Hn,Ll,Un]),ht(1073742336,cu,cu,[Pe]),ht(1073742336,hc,hc,[[3,hc]]),ht(1024,Kd,lh,[[3,Rd]]),ht(512,ep,up,[]),ht(512,Ld,Ld,[]),ht(256,Vd,{enableTracing:!1},[]),ht(1024,Bo,Zd,[Jo,[2,Go],Vd]),ht(512,Wo,Wo,[Bo]),ht(512,ue,ue,[]),ht(512,An,Ie,[ue,[2,Me]]),ht(1024,Pd,function(){return[[{path:"",component:Lh,children:[{path:"",component:Qh},{path:"first-steps",component:nf,data:lx},{path:"controllers",component:of,data:nx},{path:"components",redirectTo:"providers"},{path:"providers",component:df,data:ex},{path:"modules",component:yf,data:ux},{path:"middleware",component:Cf,data:tx},{path:"pipes",component:Pf,data:rx},{path:"guards",component:If,data:ox},{path:"exception-filters",component:Df,data:ax},{path:"interceptors",component:Uf,data:ix},{path:"custom-decorators",component:Vf,data:sx},{path:"fundamentals/dependency-injection",redirectTo:"fundamentals/custom-providers"},{path:"fundamentals/custom-providers",component:Xf,data:cx},{path:"fundamentals/platform-agnosticism",component:um,data:px},{path:"fundamentals/async-components",redirectTo:"fundamentals/async-providers"},{path:"fundamentals/async-providers",component:im,data:dx},{path:"advanced/hierarchical-injector",component:hm,data:hx},{path:"fundamentals/circular-dependency",component:bm,data:fx},{path:"fundamentals/unit-testing",component:km,data:mx},{path:"fundamentals/e2e-testing",component:Tm,data:gx},{path:"execution-context",component:Em,data:yx},{path:"graphql/quick-start",component:Hm,data:bx},{path:"graphql/resolvers-map",component:Bm,data:vx},{path:"graphql/mutations",component:Km,data:wx},{path:"graphql/scalars",component:Zm,data:xx},{path:"graphql/subscriptions",component:tg,data:Cx},{path:"graphql/guards-interceptors",redirectTo:"graphq/tooling"},{path:"graphql/tooling",component:sg,data:kx},{path:"graphql/schema-stitching",component:fg,data:jx},{path:"websockets/gateways",component:vg,data:Ox},{path:"websockets/pipes",component:jg,data:Sx},{path:"websockets/exception-filters",component:Ag,data:Px},{path:"websockets/guards",component:Rg,data:Tx},{path:"websockets/interceptors",component:Lg,data:Ax},{path:"websockets/adapter",component:Gg,data:Mx},{path:"microservices/basics",component:Qg,data:_x},{path:"microservices/redis",component:ly,data:Ix},{path:"microservices/mqtt",component:ry,data:Ex},{path:"microservices/nats",component:cy,data:Rx},{path:"microservices/grpc",component:my,data:Nx},{path:"microservices/rabbitmq",component:wy,data:qx},{path:"microservices/pipes",component:Oy,data:Dx},{path:"microservices/exception-filters",component:My,data:Hx},{path:"microservices/guards",component:Ny,data:Lx},{path:"microservices/interceptors",component:Fy,data:Fx},{path:"microservices/custom-transport",component:Wy,data:Jx},{path:"recipes/sql-typeorm",component:$y,data:Ux},{path:"recipes/mongodb",component:nb,data:Bx},{path:"recipes/passport",component:ob},{path:"techniques/authentication",component:pb,data:Gx},{path:"recipes/sql-sequelize",component:gb,data:Wx},{path:"recipes/cqrs",component:xb,data:zx},{path:"recipes/swagger",component:Sb,data:Vx},{path:"recipes/prisma",component:_b,data:Kx},{path:"techniques/mvc",component:qb,data:Qx},{path:"techniques/serialization",component:Jb,data:$x},{path:"techniques/caching",component:zb,data:Yx},{path:"techniques/validation",component:Yb,data:Xx},{path:"techniques/sql",redirectTo:"techniques/database"},{path:"techniques/database",component:ev,data:Zx},{path:"techniques/mongodb",component:av,data:lC},{path:"techniques/file-upload",component:dv,data:nC},{path:"techniques/logger",component:yv,data:eC},{path:"techniques/performance",component:Cv,data:uC},{path:"techniques/hot-reload",component:Pv,data:tC},{path:"techniques/http-module",component:Iv,data:rC},{path:"techniques/configuration",component:Dv,data:oC},{path:"techniques/security",component:Uv,data:aC},{path:"techniques/compression",component:Vv,data:iC},{path:"faq/express-instance",component:Xv,data:sC},{path:"faq/global-prefix",component:uw,data:cC},{path:"faq/lifecycle-events",component:iw,data:pC},{path:"faq/hybrid-application",component:hw,data:dC},{path:"faq/multiple-servers",component:bw,data:hC},{path:"discover/companies",component:kw,data:fC},{path:"migration-guide",component:Mw,data:mC},{path:"support",component:Nw,data:gC},{path:"cli/overview",component:Fw,data:yC},{path:"cli/usages",component:Ww,data:bC}]},{path:"**",redirectTo:"",pathMatch:"full"}]]},[]),ht(1024,Rd,eh,[Pe,ep,Ld,Wo,vl,An,ue,Pd,Vd,[2,Ad],[2,Od]]),ht(1073742336,Yd,Yd,[[2,Kd],[2,Rd]]),ht(1073742336,vC,vC,[]),ht(1073742336,hi,hi,[]),ht(1073742336,wC,wC,[]),ht(1073742336,mi,mi,[]),ht(256,El,!0,[]),ht(256,ai,fi,[])])});(function(){if(nn)throw new Error("Cannot enable prod mode after platform setup.");ln=!1})(),pc().bootstrapModuleFactory(xC)},zotm:function(l,n,e){"use strict";e.d(n,"a",function(){return r});var u=e("rPjj"),t=e("Fxb1");function r(l,n,e,r,o){if(void 0===o&&(o=new u.a(l,e,r)),!o.closed)return Object(t.a)(n)(o)}}},[[0,0]]]);