{"version":3,"sources":["./src/app/homepage/pages/websockets/adapter/adapter.component.ts","./src/app/homepage/pages/websockets/adapter/adapter.component.html","./src/app/homepage/pages/websockets/exception-filters/exception-filters.component.ts","./src/app/homepage/pages/websockets/exception-filters/exception-filters.component.html","./src/app/homepage/pages/websockets/gateways/gateways.component.ts","./src/app/homepage/pages/websockets/gateways/gateways.component.html","./src/app/homepage/pages/websockets/guards/guards.component.ts","./src/app/homepage/pages/websockets/guards/guards.component.html","./src/app/homepage/pages/websockets/interceptors/interceptors.component.ts","./src/app/homepage/pages/websockets/interceptors/interceptors.component.html","./src/app/homepage/pages/websockets/pipes/pipes.component.ts","./src/app/homepage/pages/websockets/pipes/pipes.component.html","./src/app/homepage/pages/websockets/websockets.module.ts"],"names":[],"mappings":"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","file":"homepage-pages-websockets-websockets-module-es2015.js","sourcesContent":["import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-adapter',\n  templateUrl: './adapter.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AdapterComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/websockets/adapter.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"adapters\">Adapters</h3>\n<p>The WebSockets module is platform-agnostic, hence, you can bring your own library (or even a native implementation) by making use of <code>WebSocketAdapter</code> interface. This interface forces to implement few methods described in the following table:</p>\n<table>\n  <tr>\n    <td><code>create</code></td>\n    <td>Creates a socket instance based on passed arguments</td>\n  </tr>\n  <tr>\n    <td><code>bindClientConnect</code></td>\n    <td>Binds the client connection event</td>\n  </tr>\n  <tr>\n    <td><code>bindClientDisconnect</code></td>\n    <td>Binds the client disconnection event (optional*)</td>\n  </tr>\n  <tr>\n    <td><code>bindMessageHandlers</code></td>\n    <td>Binds the incoming message to the corresponding message handler</td>\n  </tr>\n  <tr>\n    <td><code>close</code></td>\n    <td>Terminates a server instance</td>\n  </tr>\n</table>\n\n<h4 appAnchor id=\"extend-socketio\"><span>Extend socket.io</span></h4>\n<p>The <a rel='nofollow' target='_blank' href=\"https://github.com/socketio/socket.io\">socket.io</a> package is wrapped in an <code>IoAdapter</code> class. What if you would like to enhance the basic functionality of the adapter? For instance, your technical requirements require a capability to broadcast events across multiple load-balanced instances of your web service. For this, you can extend <code>IoAdapter</code> and override a single method which responsibility is to instantiate new socket.io servers. But first of all, let&#39;s install the required package.</p>\n<pre><code class=\"language-bash\">\n$ npm i --save socket.io-redis</code></pre>\n<p>Once the package is installed, we can create a <code>RedisIoAdapter</code> class.</p>\n<pre><code class=\"language-typescript\">\nimport &#123; IoAdapter &#125; from &#39;@nestjs/platform-socket.io&#39;;\nimport * as redisIoAdapter from &#39;socket.io-redis&#39;;\n\nconst redisAdapter = redisIoAdapter(&#123; host: &#39;localhost&#39;, port: 6379 &#125;);\n\nexport class RedisIoAdapter extends IoAdapter &#123;\n  createIOServer(port: number, options?: any): any &#123;\n    const server = super.createIOServer(port, options);\n    server.adapter(redisAdapter);\n    return server;\n  &#125;\n&#125;</code></pre>\n<p>Afterward, simply switch to your newly created Redis adapter.</p>\n<pre><code class=\"language-typescript\">\nconst app = await NestFactory.create(ApplicationModule);\napp.useWebSocketAdapter(new RedisIoAdapter(app));</code></pre>\n<h4 appAnchor id=\"ws-library\"><span>Ws library</span></h4>\n<p>Another available adapter is a <code>WsAdapter</code> which in turn acts like a proxy between the framework and integrate blazing fast and thoroughly tested <a rel='nofollow' target='_blank' href=\"https://github.com/websockets/ws\">ws</a> library. This adapter is fully compatible with native browser WebSockets and is far faster than socket.io package. Unluckily, it has significantly fewer functionalities available out-of-the-box. In some cases, you may just don&#39;t necessarily need them though.</p>\n<p>In order to use <code>ws</code>, we firstly have to install the required package:</p>\n<pre><code class=\"language-bash\">\n$ npm i --save @nestjs/platform-ws</code></pre>\n<p>Once the package is installed, we can switch an adapter:</p>\n<pre><code class=\"language-typescript\">\nconst app = await NestFactory.create(ApplicationModule);\napp.useWebSocketAdapter(new WsAdapter(app));</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>WsAdapter</code> is imported from <code>@nestjs/platform-ws</code>.\n</blockquote>\n<h4 appAnchor id=\"advanced-custom-adapter\"><span>Advanced (custom adapter)</span></h4>\n<p>For demonstration purposes, we are going to integrate the <a rel='nofollow' target='_blank' href=\"https://github.com/websockets/ws\">ws</a> library manually. As mentioned, the adapter for this library is already created and is exposed from the <code>@nestjs/platform-ws</code> package as a <code>WsAdapter</code> class. Here is how the simplified implementation could potentially look like:</p>\n\n<span class=\"filename\">\n  {{ 'ws-adapter' | extension: app4981da21b1f520b10f1abd7b0691882c87175194.isJsActive }}\n<app-tabs #app4981da21b1f520b10f1abd7b0691882c87175194></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport * as WebSocket from &#39;ws&#39;;\nimport &#123; WebSocketAdapter, INestApplicationContext &#125; from &#39;@nestjs/common&#39;;\nimport &#123; MessageMappingProperties &#125; from &#39;@nestjs/websockets&#39;;\nimport &#123; Observable, fromEvent, EMPTY &#125; from &#39;rxjs&#39;;\nimport &#123; mergeMap, filter &#125; from &#39;rxjs/operators&#39;;\n\nexport class WsAdapter implements WebSocketAdapter &#123;\n  constructor(private readonly app: INestApplicationContext) &#123;&#125;\n\n  create(port: number, options: any = &#123;&#125;): any &#123;\n    return new ws.Server(&#123; port, ...options &#125;);\n  &#125;\n\n  bindClientConnect(server, callback: Function) &#123;\n    server.on(&#39;connection&#39;, callback);\n  &#125;\n\n  bindMessageHandlers(\n    client: WebSocket,\n    handlers: MessageMappingProperties[],\n    process: (data: any) =&gt; Observable&lt;any&gt;,\n  ) &#123;\n    fromEvent(client, &#39;message&#39;)\n      .pipe(\n        mergeMap(data =&gt; this.bindMessageHandler(data, handlers, process)),\n        filter(result =&gt; result),\n      )\n      .subscribe(response =&gt; client.send(JSON.stringify(response)));\n  &#125;\n\n  bindMessageHandler(\n    buffer,\n    handlers: MessageMappingProperties[],\n    process: (data: any) =&gt; Observable&lt;any&gt;,\n  ): Observable&lt;any&gt; &#123;\n    const message = JSON.parse(buffer.data);\n    const messageHandler = handlers.find(\n      handler =&gt; handler.message === message.event,\n    );\n    if (!messageHandler) &#123;\n      return EMPTY;\n    &#125;\n    return process(messageHandler.callback(message.data));\n  &#125;\n\n  close(server) &#123;\n    server.close();\n  &#125;\n&#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> When you want to take advantage of <a rel='nofollow' target='_blank' href=\"https://github.com/websockets/ws\">ws</a> library, use built-in <code>WsAdapter</code> instead of creating your own one.\n</blockquote>\n<p>Then, we can set up a custom adapter using <code>useWebSocketAdapter()</code> method:</p>\n\n<span class=\"filename\">\n  {{ 'main' | extension: app8a14c0909208113b7c88c9e204dfe479871bd271.isJsActive }}\n<app-tabs #app8a14c0909208113b7c88c9e204dfe479871bd271></app-tabs>\n</span><pre><code class=\"language-typescript\">\nconst app = await NestFactory.create(ApplicationModule);\napp.useWebSocketAdapter(new WsAdapter(app));</code></pre><h4 appAnchor id=\"example\"><span>Example</span></h4>\n<p>A working example that uses <code>WsAdapter</code> is available <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/nest/tree/master/sample/16-gateways-ws\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-exception-filters',\n  templateUrl: './exception-filters.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class WsExceptionFiltersComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/websockets/exception-filters.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"exception-filters\">Exception filters</h3>\n<p>The only difference between the HTTP <a routerLink=\"/exception-filters\">exception filter</a> layer and the corresponding web sockets layer is that instead of throwing <code>HttpException</code>, you should instead use <code>WsException</code>.</p>\n<pre><code class=\"language-typescript\">\nthrow new WsException(&#39;Invalid credentials.&#39;);</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>WsException</code> class is imported from the <code>@nestjs/websockets</code> package.\n</blockquote>\n<p>With the sample above, Nest will handle the thrown exception and emit the <code>exception</code> message with the following structure:</p>\n<pre><code class=\"language-typescript\">\n&#123;\n  status: &#39;error&#39;,\n  message: &#39;Invalid credentials.&#39;\n&#125;</code></pre>\n<h4 appAnchor id=\"filters\"><span>Filters</span></h4>\n<p>Web sockets exception filters behave equivalently to HTTP exception filters. The following example uses a manually instantiated method-scoped filter. Just as with HTTP based applications, you can also use gateway-scoped filters (i.e., prefix the gateway class with a <code>@UseFilters()</code> decorator).</p>\n<pre><code class=\"language-typescript\">\n@UseFilters(new WsExceptionFilter())\n@SubscribeMessage(&#39;events&#39;)\nonEvent(client, data: any): WsResponse&lt;any&gt; &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n<h4 appAnchor id=\"inheritance\"><span>Inheritance</span></h4>\n<p>Typically, you&#39;ll create fully customized exception filters crafted to fulfill your application requirements. However, there might be use-cases when you would like to simply extend the <strong>core exception filter</strong>, and override the behavior based on certain factors.</p>\n<p>In order to delegate exception processing to the base filter, you need to extend <code>BaseWsExceptionFilter</code> and call the inherited <code>catch()</code> method.</p>\n\n<span class=\"filename\">\n<app-tabs #appd3c4a5cf593d2076b1004339492886b868137383></app-tabs>\n</span><pre [class.hide]=\"appd3c4a5cf593d2076b1004339492886b868137383.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Catch, ArgumentsHost &#125; from &#39;@nestjs/common&#39;;\nimport &#123; BaseWsExceptionFilter &#125; from &#39;@nestjs/websockets&#39;;\n\n@Catch()\nexport class AllExceptionsFilter extends BaseWsExceptionFilter &#123;\n  catch(exception: unknown, host: ArgumentsHost) &#123;\n    super.catch(exception, host);\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!appd3c4a5cf593d2076b1004339492886b868137383.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Catch &#125; from &#39;@nestjs/common&#39;;\nimport &#123; BaseWsExceptionFilter &#125; from &#39;@nestjs/websockets&#39;;\n\n@Catch()\nexport class AllExceptionsFilter extends BaseWsExceptionFilter &#123;\n  catch(exception, host) &#123;\n    super.catch(exception, host);\n  &#125;\n&#125;</code></pre><p>The above implementation is just a shell demonstrating the approach. Your implementation of the extended exception filter would include your tailored <strong>business logic</strong> (e.g., handling various conditions).</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-gateways',\n  templateUrl: './gateways.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class GatewaysComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/websockets/gateways.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"gateways\">Gateways</h3>\n<p>Most of the concepts discussed elsewhere in this documentation, such as dependency injection, decorators, exception filters, pipes, guards and interceptors, apply equally to gateways. Wherever possible, Nest abstracts implementation details so that the same components can run across HTTP-based platforms, WebSockets, and Microservices. This section covers the aspects of Nest that are specific to WebSockets.</p>\n<p>In Nest, a gateway is simply a class annotated with <code>@WebSocketGateway()</code> decorator. Technically, gateways are platform-agnostic which makes them compatible with any WebSockets library once an adapter is created. There are two WS platforms supported out-of-the-box: <a rel='nofollow' target='_blank' href=\"https://github.com/socketio/socket.io\">socket.io</a> and <a rel='nofollow' target='_blank' href=\"https://github.com/websockets/ws\">ws</a>. You can choose the one that best suits your needs. Also, you can build your own adapter by following this <a routerLink=\"/websockets/adapter\">guide</a>.</p>\n<figure><img src=\"/assets/Gateways_1.png\" /></figure>\n\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Gateways can be treated as <a routerLink=\"/providers\">providers</a>; this means they can inject dependencies through the class constructor. Also, gateways can be injected by other classes (providers and controllers) as well.\n</blockquote>\n<h4 appAnchor id=\"installation\"><span>Installation</span></h4>\n<p>To start building WebSockets-based applications, first install the required package:</p>\n\n<span class=\"filename\">\n<app-tabs #app2bb75d6d50760ea627fc72db8496834a3bdb68bf></app-tabs>\n</span><pre [class.hide]=\"app2bb75d6d50760ea627fc72db8496834a3bdb68bf.isJsActive\"><code class=\"language-typescript\">\n$ npm i --save @nestjs/websockets @nestjs/platform-socket.io\n$ npm i --save-dev @types/socket.io</code></pre>\n<pre [class.hide]=\"!app2bb75d6d50760ea627fc72db8496834a3bdb68bf.isJsActive\"><code class=\"language-typescript\">\n$ npm i --save @nestjs/websockets @nestjs/platform-socket.io</code></pre><h4 appAnchor id=\"overview\"><span>Overview</span></h4>\n<p>In general, each gateway is listening on the same port as the <strong>HTTP server</strong>, unless your app is not a web application, or you have changed the port manually. This default behavior can be modified by passing an argument to the <code>@WebSocketGateway(80)</code> decorator where <code>80</code> is a chosen port number. You can also set a <a rel='nofollow' target='_blank' href=\"https://socket.io/docs/rooms-and-namespaces/\">namespace</a> used by the gateway using the following construction:</p>\n<pre><code class=\"language-typescript\">\n@WebSocketGateway(80, &#123; namespace: &#39;events&#39; &#125;)</code></pre>\n<blockquote class=\"\n\"><strong>Warning</strong> Gateways aren&#39;t instantiated until they are referenced in the providers array of an existing module.\n</blockquote>\n<p>You can pass any supported <a rel='nofollow' target='_blank' href=\"https://socket.io/docs/server-api/\">option</a> to the socket constructor with the second argument to the <code>@WebSocketGateway()</code> decorator, as shown below:</p>\n<pre><code class=\"language-typescript\">\n@WebSocketGateway(81, &#123; transports: [&#39;websocket&#39;] &#125;)</code></pre>\n<p>The gateway is now listening, but we have not yet subscribed to any incoming messages. Let&#39;s create a handler that will subscribe to the <code>events</code> messages and respond to the user with the exact same data.</p>\n\n<span class=\"filename\">\n  {{ 'events.gateway' | extension: app7e0cba6f095d587e3f47e5cf38dca172c948f4f9.isJsActive }}\n<app-tabs #app7e0cba6f095d587e3f47e5cf38dca172c948f4f9></app-tabs>\n</span><pre [class.hide]=\"app7e0cba6f095d587e3f47e5cf38dca172c948f4f9.isJsActive\"><code class=\"language-typescript\">\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(@MessageBody() data: string): string &#123;\n  return data;\n&#125;</code></pre>\n<pre [class.hide]=\"!app7e0cba6f095d587e3f47e5cf38dca172c948f4f9.isJsActive\"><code class=\"language-typescript\">\n@Bind(MessageBody())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(data) &#123;\n  return data;\n&#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> <code>@SubscribeMessage()</code> and <code>@MessageBody()</code> decorators are imported from <code>@nestjs/websockets</code> package.\n</blockquote>\n<p>If you would prefer not to use decorators, the following code is functionally equivalent:</p>\n\n<span class=\"filename\">\n  {{ 'events.gateway' | extension: app7a3b135f8342be2f7cb80a3f09700ab020fe834a.isJsActive }}\n<app-tabs #app7a3b135f8342be2f7cb80a3f09700ab020fe834a></app-tabs>\n</span><pre [class.hide]=\"app7a3b135f8342be2f7cb80a3f09700ab020fe834a.isJsActive\"><code class=\"language-typescript\">\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client: Socket, data: string): string &#123;\n  return data;\n&#125;</code></pre>\n<pre [class.hide]=\"!app7a3b135f8342be2f7cb80a3f09700ab020fe834a.isJsActive\"><code class=\"language-typescript\">\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client, data) &#123;\n  return data;\n&#125;</code></pre><p>In the example above, the <code>handleEvent()</code> function takes two arguments. The first one is a platform-specific <a rel='nofollow' target='_blank' href=\"https://socket.io/docs/server-api/#socket\">socket instance</a>, while the second one is the data received from the client. This approach is not recommended though, because it requires mocking the <code>socket</code> instance in each unit test.</p>\n<p>Once the <code>events</code> message is received, the handler sends an acknowledgment with the same data that was sent over the network. In addition, it&#39;s possible to emit messages using a library-specific approach, for example, by making use of <code>client.emit()</code> method. In order to access a connected socket instance, use <code>@ConnectedSocket()</code> decorator.</p>\n\n<span class=\"filename\">\n  {{ 'events.gateway' | extension: appf21e93b9c4c106a1f6dcc84d834c61fad8328dc3.isJsActive }}\n<app-tabs #appf21e93b9c4c106a1f6dcc84d834c61fad8328dc3></app-tabs>\n</span><pre [class.hide]=\"appf21e93b9c4c106a1f6dcc84d834c61fad8328dc3.isJsActive\"><code class=\"language-typescript\">\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(\n  @MessageBody() data: string,\n  @ConnectedSocket() client: Socket,\n): string &#123;\n  return data;\n&#125;</code></pre>\n<pre [class.hide]=\"!appf21e93b9c4c106a1f6dcc84d834c61fad8328dc3.isJsActive\"><code class=\"language-typescript\">\n@Bind(MessageBody(), ConnectedSocket())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(data, client) &#123;\n  return data;\n&#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> <code>@ConnectedSocket()</code> decorator is imported from <code>@nestjs/websockets</code> package.\n</blockquote>\n<p>However, in this case, you won&#39;t be able to leverage interceptors. If you don&#39;t want to respond to the user, you can simple skip the <code>return</code> statement (or explicitly return &quot;falsy&quot; value, e.g. <code>undefined</code>).</p>\n<p>Now when a client emits the message as follows:</p>\n<pre><code class=\"language-typescript\">\nsocket.emit(&#39;events&#39;, &#123; name: &#39;Nest&#39; &#125;);</code></pre>\n<p>The <code>handleEvent()</code> method will be executed. In order to listen for messages emitted from within the above handler, the client has to attach a corresponding acknowledgment listener:</p>\n<pre><code class=\"language-typescript\">\nsocket.emit(&#39;events&#39;, &#123; name: &#39;Nest&#39; &#125;, data =&gt; console.log(data));</code></pre>\n<h4 appAnchor id=\"multiple-responses\"><span>Multiple responses</span></h4>\n<p>The acknowledgment is dispatched only once. Furthermore, it is not supported by native WebSockets implementation. To solve this limitation, you may return an object which consist of two properties. The <code>event</code> which is a name of the emitted event and the <code>data</code> that has to be forwarded to the client.</p>\n\n<span class=\"filename\">\n  {{ 'events.gateway' | extension: appb6a2bf010df9bccf399a114e6707def1417f263f.isJsActive }}\n<app-tabs #appb6a2bf010df9bccf399a114e6707def1417f263f></app-tabs>\n</span><pre [class.hide]=\"appb6a2bf010df9bccf399a114e6707def1417f263f.isJsActive\"><code class=\"language-typescript\">\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(@MessageBody() data: unknown): WsResponse&lt;unknown&gt; &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n<pre [class.hide]=\"!appb6a2bf010df9bccf399a114e6707def1417f263f.isJsActive\"><code class=\"language-typescript\">\n@Bind(MessageBody())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(data) &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>WsResponse</code> interface is imported from <code>@nestjs/websockets</code> package.\n</blockquote>\n<p>In order to listen for the incoming response(s), the client has to apply another event listener.</p>\n<pre><code class=\"language-typescript\">\nsocket.on(&#39;events&#39;, data =&gt; console.log(data));</code></pre>\n<h4 appAnchor id=\"asynchronous-responses\"><span>Asynchronous responses</span></h4>\n<p>Message handlers are able to respond either synchronously or <strong>asynchronously</strong>. Hence, <code>async</code> methods are supported. A message handler is also able to return an <code>Observable</code>, in which case the result values will be emitted until the stream is completed.</p>\n\n<span class=\"filename\">\n  {{ 'events.gateway' | extension: app0dea23640a96d3c42e36dd72cbef37ddef5961f9.isJsActive }}\n<app-tabs #app0dea23640a96d3c42e36dd72cbef37ddef5961f9></app-tabs>\n</span><pre [class.hide]=\"app0dea23640a96d3c42e36dd72cbef37ddef5961f9.isJsActive\"><code class=\"language-typescript\">\n@SubscribeMessage(&#39;events&#39;)\nonEvent(@MessageBody() data: unknown): Observable&lt;WsResponse&lt;number&gt;&gt; &#123;\n  const event = &#39;events&#39;;\n  const response = [1, 2, 3];\n\n  return from(response).pipe(\n    map(data =&gt; (&#123; event, data &#125;)),\n  );\n&#125;</code></pre>\n<pre [class.hide]=\"!app0dea23640a96d3c42e36dd72cbef37ddef5961f9.isJsActive\"><code class=\"language-typescript\">\n@Bind(MessageBody())\n@SubscribeMessage(&#39;events&#39;)\nonEvent(data) &#123;\n  const event = &#39;events&#39;;\n  const response = [1, 2, 3];\n\n  return from(response).pipe(\n    map(data =&gt; (&#123; event, data &#125;)),\n  );\n&#125;</code></pre><p>In the example above, the message handler will respond <strong>3 times</strong> (with each item from the array).</p>\n<h4 appAnchor id=\"lifecycle-hooks\"><span>Lifecycle hooks</span></h4>\n<p>There are 3 useful lifecycle hooks available. All of them have corresponding interfaces and are described in the following table:</p>\n<table>\n  <tr>\n    <td>\n      <code>OnGatewayInit</code>\n    </td>\n    <td>\n      Forces to implement the <code>afterInit()</code> method. Takes library-specific server instance as an argument (and\n      spreads the rest if required).\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <code>OnGatewayConnection</code>\n    </td>\n    <td>\n      Forces to implement the <code>handleConnection()</code> method. Takes library-specific client socket instance as\n      an argument.\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <code>OnGatewayDisconnect</code>\n    </td>\n    <td>\n      Forces to implement the <code>handleDisconnect()</code> method. Takes library-specific client socket instance as\n      an argument.\n    </td>\n  </tr>\n</table>\n\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Each lifecycle interface is exposed from <code>@nestjs/websockets</code> package.\n</blockquote>\n<h4 appAnchor id=\"server\"><span>Server</span></h4>\n<p>Occasionally, you may want to have a direct access to the native, <strong>platform-specific</strong> server instance. The reference to this object is passed as an argument to the <code>afterInit()</code> method (<code>OnGatewayInit</code> interface). Another option is to use the <code>@WebSocketServer()</code> decorator.</p>\n<pre><code class=\"language-typescript\">\n@WebSocketServer()\nserver: Server;</code></pre>\n<blockquote class=\"\nwarning \"><strong>Notice</strong> The <code>@WebSocketServer()</code> decorator is imported from the <code>@nestjs/websockets</code> package.\n</blockquote>\n<p>Nest will automatically assign the server instance to this property once it is ready to use.</p>\n<p><app-banner-enterprise></app-banner-enterprise></p>\n<h4 appAnchor id=\"example\"><span>Example</span></h4>\n<p>A working example is available <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/nest/tree/master/sample/02-gateways\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-guards',\n  templateUrl: './guards.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class WsGuardsComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/websockets/guards.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"guards\">Guards</h3>\n<p>There is no fundamental difference between web sockets guards and <a routerLink=\"/guards\">regular HTTP application guards</a>. The only difference is that instead of throwing <code>HttpException</code>, you should use <code>WsException</code>.</p>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>WsException</code> class is exposed from <code>@nestjs/websockets</code> package.\n</blockquote>\n<h4 appAnchor id=\"binding-guards\"><span>Binding guards</span></h4>\n<p>The following example uses a method-scoped guard. Just as with HTTP based applications, you can also use gateway-scoped guards (i.e., prefix the gateway class with a <code>@UseGuards()</code> decorator).</p>\n\n<span class=\"filename\">\n<app-tabs #appbabd0e461f39a64359ef8ed2a88a21c933b5d3c8></app-tabs>\n</span><pre [class.hide]=\"appbabd0e461f39a64359ef8ed2a88a21c933b5d3c8.isJsActive\"><code class=\"language-typescript\">\n@UseGuards(AuthGuard)\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client: Client, data: unknown): WsResponse&lt;unknown&gt; &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n<pre [class.hide]=\"!appbabd0e461f39a64359ef8ed2a88a21c933b5d3c8.isJsActive\"><code class=\"language-typescript\">\n@UseGuards(AuthGuard)\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client, data) &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-interceptors',\n  templateUrl: './interceptors.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class WsInterceptorsComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/websockets/interceptors.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"interceptors\">Interceptors</h3>\n<p>There is no difference between <a routerLink=\"/interceptors\">regular interceptors</a> and web sockets interceptors. The following example uses a manually instantiated method-scoped interceptor. Just as with HTTP based applications, you can also use gateway-scoped interceptors (i.e., prefix the gateway class with a <code>@UseInterceptors()</code> decorator).</p>\n\n<span class=\"filename\">\n<app-tabs #apped4c1218aa80549c8a886c1159b2ea7d2e5bc6d3></app-tabs>\n</span><pre [class.hide]=\"apped4c1218aa80549c8a886c1159b2ea7d2e5bc6d3.isJsActive\"><code class=\"language-typescript\">\n@UseInterceptors(new TransformInterceptor())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client: Client, data: unknown): WsResponse&lt;unknown&gt; &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n<pre [class.hide]=\"!apped4c1218aa80549c8a886c1159b2ea7d2e5bc6d3.isJsActive\"><code class=\"language-typescript\">\n@UseInterceptors(new TransformInterceptor())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client, data) &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-pipes',\n  templateUrl: './pipes.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class WsPipesComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/websockets/pipes.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"pipes\">Pipes</h3>\n<p>There is no fundamental difference between <a routerLink=\"/pipes\">regular pipes</a> and microservices pipes. The only difference is that instead of throwing <code>HttpException</code>, you should use <code>WsException</code>. In addition, all pipes will be only applied to the <code>data</code> parameter (because validating or transforming <code>client</code> instance is useless).</p>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>WsException</code> class is exposed from <code>@nestjs/websockets</code> package.\n</blockquote>\n<h4 appAnchor id=\"binding-pipes\"><span>Binding pipes</span></h4>\n<p>The following example uses a manually instantiated method-scoped pipe. Just as with HTTP based applications, you can also use gateway-scoped pipes (i.e., prefix the gateway class with a <code>@UsePipes()</code> decorator).</p>\n\n<span class=\"filename\">\n<app-tabs #appabbef2671ddcc8d1e16a381578e8236583006df7></app-tabs>\n</span><pre [class.hide]=\"appabbef2671ddcc8d1e16a381578e8236583006df7.isJsActive\"><code class=\"language-typescript\">\n@UsePipes(new ValidationPipe())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client: Client, data: unknown): WsResponse&lt;unknown&gt; &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n<pre [class.hide]=\"!appabbef2671ddcc8d1e16a381578e8236583006df7.isJsActive\"><code class=\"language-typescript\">\n@UsePipes(new ValidationPipe())\n@SubscribeMessage(&#39;events&#39;)\nhandleEvent(client, data) &#123;\n  const event = &#39;events&#39;;\n  return &#123; event, data &#125;;\n&#125;</code></pre>\n</div>\n\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { AdapterComponent } from './adapter/adapter.component';\nimport { WsExceptionFiltersComponent } from './exception-filters/exception-filters.component';\nimport { GatewaysComponent } from './gateways/gateways.component';\nimport { WsGuardsComponent } from './guards/guards.component';\nimport { WsInterceptorsComponent } from './interceptors/interceptors.component';\nimport { WsPipesComponent } from './pipes/pipes.component';\n\nconst routes: Routes = [\n  {\n    path: 'gateways',\n    component: GatewaysComponent,\n    data: { title: 'Gateways' },\n  },\n  {\n    path: 'pipes',\n    component: WsPipesComponent,\n    data: { title: 'Pipes - Gateways' },\n  },\n  {\n    path: 'exception-filters',\n    component: WsExceptionFiltersComponent,\n    data: { title: 'Exception Filters - Gateways' },\n  },\n  {\n    path: 'guards',\n    component: WsGuardsComponent,\n    data: { title: 'Guards - Gateways' },\n  },\n  {\n    path: 'interceptors',\n    component: WsInterceptorsComponent,\n    data: { title: 'Interceptors - Gateways' },\n  },\n  {\n    path: 'adapter',\n    component: AdapterComponent,\n    data: { title: 'Adapter - Gateways' },\n  },\n];\n\n@NgModule({\n  imports: [CommonModule, SharedModule, RouterModule.forChild(routes)],\n  declarations: [\n    GatewaysComponent,\n    AdapterComponent,\n    WsPipesComponent,\n    WsInterceptorsComponent,\n    WsGuardsComponent,\n    WsExceptionFiltersComponent,\n  ],\n})\nexport class WebsocketsModule {}\n"],"sourceRoot":"webpack:///"}